<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> File System </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
  </head>

  <body>
    <h1> File System </h1>
    <p> Updated ( 2019-09-19 / 2020-07-09 / 2024-10-18 )</p>
    <nav class="sitenav">
      <a href="../../index.html">MySite > </a>
      <a href="../index.html">Node.js > </a> File System
    </nav>
    <p class="subSite"><a href="Promises API/index.html"> Promise API > </a></p>
    <table class="table">
      <caption> File Descriptors </caption>
      <tr>
        <th style="width:30%"> Method </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.open(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#file-system-flags" target="_blank">flag</a>, <a href="https://nodejs.org/docs/latest/api/fs.html#file-access-constants" target="_blank">mode</a>, <strong>fn(err, fd)</strong>) <br>
          <lit>fs</lit>.openSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#file-system-flags" target="_blank">flag</a>, <a href="https://nodejs.org/docs/latest/api/fs.html#file-access-constants" target="_blank">mode</a>)
        </td>
        <td>
          - (async/sync) allocates a new file descriptor
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.close(<strong>fd:nr</strong>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.closeSync(<strong>fd:nr</strong>)
        </td>
        <td>
          - (async/sync) closes the passed file descriptor
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption> Read and Write files </caption>
      <tr>
        <th style="width:30%"> Method / Property </th>
        <th> Description </th>
      </tr>
      <tr>
        <td colspan="2"> Read </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.readFile(<strong>path:str|buf|urlObj|(fd:nr)</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreadfilepath-options-callback" target="_blank">option:obj</a>, <strong>fn(err, data)</strong>) <br>
          <lit>fs</lit>.readFileSync(<strong>path:str|buf|urlObj|(fd:nr)</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreadfilesyncpath-options" target="_blank">option:obj</a>) <br>
        </td>
        <td>
          - (async/sync) reads the full content of the passed file or file descriptor
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.read(<reqval>fd</reqval>, <reqval>buf:buf|TypedArray|DataView</reqval>, <strong class="openable">offset:nr, length:nr, position:nr|bigInt<div>
              <p> - <strong>offset</strong> - where to start writing <reqval>buf</reqval> (Default: <mark>0</mark>) </p>
              <p> - <strong>length</strong> - number of bytes to read from the source (Default: <mark>0</mark>) </p>
              <p> - <strong>position</strong> - where to start reading the file (Default: <mark>0</mark>) </p>
            </div></strong>, <reqval>fn(err, bytesRead, buf)</reqval>) <br>
          <lit>fs</lit>.readSync(<reqval>fd</reqval>, <reqval>buf:buf|TypedArray|DataView</reqval>, <strong class="openable">offset:nr, length:nr, position:nr|bigInt<div>
              <p> - <strong>offset</strong> - where to start writing <reqval>buf</reqval> (Default: <mark>0</mark>) </p>
              <p> - <strong>length</strong> - number of bytes to read from the source (Default: <mark>0</mark>) </p>
              <p> - <strong>position</strong> - where to start reading the file (Default: <mark>0</mark>) </p>
            </div></strong>)
        </td>
        <td>
          - (aysnc/sync) reads the file content and stores in <reqval>buf</reqval> <br>
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.read(<reqval>fd</reqval>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreadfd-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, bytesRead, buf)</reqval>)
        </td>
        <td>
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.read(<reqval>fd</reqval>, <reqval>buf:buf|TypedArray|DataView</reqval>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, bytesRead, buf)</reqval>)<br>
          <lit>fs</lit>.readSync(<reqval>fd</reqval>, <reqval>buf:buf|TypedArray|DataView</reqval>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreadfd-buffer-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, bytesRead, buf)</reqval>)
        </td>
        <td>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.readv(<reqval>fd:nr</reqval>, <reqval>buf:buf[]|TypedArray[]|DataView[]</reqval>, <i class="openable">position:nr<div>
              <p> - <strong>position</strong> - where to start reading the file (Default: <mark>0</mark>) </p>
            </div></i>) <br>
          <lit>fs</lit>.readvSync(<reqval>fd:nr</reqval>, <reqval>buf:buf[]|TypedArray[]|DataView[]</reqval>, <i class="openable">position:nr<div>
              <p> - <strong>position</strong> - where to start reading the file (Default: <mark>0</mark>) </p>
            </div></i>)
        </td>
        <td>
          - (async/ sync) reads the file content and stores in <reqval>buf</reqval>s (multiple) <br>
          <span id="browserSupport" title="updated : 2024-10-19">
            <span><i class="fab fa-node-js"></i> 13.3.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.createReadStream(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fscreatereadstreampath-options" target="_blank">option:obj</a>)
        </td>
        <td> - creates and returns a <a href="https://nodejs.org/docs/latest/api/fs.html#class-fsreadstream" target="_blank">readableStream</a> (to read the file content) </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td colspan="2"> Write </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.writeFile(<reqval>path:str|buf|urlObj|(fd:nr)</reqval>, <reqval>data:str|buf|TypedArray|DataView</reqval>, <a href="https://nodejs.org/docs/latest/api/fs.html#fswritefilefile-data-options-callback" target="_blank">option:obj</a>, <reqval>fn(err</reqval>)<br>
          <lit>fs</lit>.writeFileSync(<reqval>path:str|buf|urlObj|(fd:nr)</reqval>, <reqval>data:str|buf|TypedArray|DataView</reqval>, <a href="https://nodejs.org/docs/latest/api/fs.html#fswritefilesyncfile-data-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) writes <reqval>data</reqval> to a file (overwrites content, creates file if not exist)
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.appendFile(<strong>path:str|buf|urlObj|fd</strong>, <strong>data:str|buf</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsappendfilepath-data-options-callback" target="_blank">option:obj</a>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.appendFileSync(<strong>path:str|buf|urlObj|fd</strong>, <strong>data:str|buf</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsappendfilepath-data-options-callback" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) appends <reqval>data</reqval> to the file content (creates a new file if it doesn't exist)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.write(<strong>fd</strong>, <strong>buf:buf|TypedArray|DataView</strong>, <strong class="openable">offset<div>
              <p> - position to start writing <reqval>buf</reqval> (Default: <mark>0</mark>) </p>
            </div></strong>, <optval class="openable">length, position<div>
              <p> - <reqval>length</reqval> - how many bites to write </p>
              <p> - <reqval>position</reqval> - position to start reading the file </p>
            </div>
          </optval>, <reqval>fn(err, bytesWritten, buf)</reqval>)<br>
          <lit>fs</lit>.writeSync(<strong>fd</strong>, <strong>buf:buf|TypedArray|DataView</strong>, <strong class="openable">offset<div>
              <p> - position to start writing <reqval>buf</reqval> (Default: <mark>0</mark>) </p>
            </div></strong>, <optval class="openable">length, position<div>
              <p> - <reqval>length</reqval> - how many bites to write </p>
              <p> - <reqval>position</reqval> - position to start reading the file </p>
            </div>
          </optval>)
        </td>
        <td>
          - (async/sync) writes <reqval>buf</reqval> content into a file <br>
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.write(<strong>fd</strong>, <strong>str</strong>, <optval class="openable">position:nr<div>
              <p> - position where data should be written in the file </p>
            </div>
          </optval>, <optval>encode:str</optval>, <reqval>fn(err, bytesWritten, buf)</reqval>)<br>
          <lit>fs</lit>.writeSync(<strong>fd</strong>, <strong>str</strong>, <optval class="openable">position:nr<div>
              <p> - position where data should be written in the file </p>
            </div>
          </optval>, <optval>encode:str</optval>)
        </td>
        <td>
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.write(<strong>fd:nr</strong>, <strong>buf:buf|TypedArray|DataView</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fswritefd-buffer-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, bytesWritten, buf)</reqval>)<br>
          <lit>fs</lit>.writeSync(<strong>fd</strong>, <strong>buf:buf|TypedArray|DataView</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fswritefd-buffer-options-callback" target="_blank">option:obj</a>)
        </td>
        <td>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.writev(<strong>fd:nr</strong>, <strong>buf:buf[]|TypedArray[]|DataView[]</strong>, <i class="openable">position:nr<div>
              <p> - position where data should be written in the file </p>
            </div></i>, <reqval>fn(err, bytesWritten, buf)</reqval>)<br>
          <lit>fs</lit>.writevSync(<strong>fd:nr</strong>, <strong>buf:buf[]|TypedArray[]|DataView[]</strong>, <i class="openable">position:nr<div>
              <p> - position where data should be written in the file </p>
            </div></i>)
        </td>
        <td>
          - (async/sync) writes <reqval>buf</reqval>s (multiple) content into a file <br>
          <span id="browserSupport" title="updated : 2024-10-18">
            <span><i class="fab fa-node-js"></i> 12.9.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.createWriteStream(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fscreatewritestreampath-options" target="_blank">option:obj</a>)
        </td>
        <td> - creates and returns a <a href="https://nodejs.org/docs/latest/api/fs.html#class-fswritestream" target="_blank">writableStream</a> (to write the file content) </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.truncate(<strong>path:str|buf|urlObj</strong>, <i class="openable">len:nr<div>
              <p> - number of bytes to truncate (if bigger than the file's content the remaining space is filled with <mark>\0</mark> characters) (Default: <mark>0</mark>) </p>
            </div></i>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.truncateSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">len:nr<div>
              <p> - number of bytes to truncate (if bigger than the file's content the remaining space is filled with <mark>\0</mark> characters) (Default: <mark>0</mark>) </p>
            </div></i>)
        </td>
        <td>
          - (async/sync) truncates the file's content <u>as bytes</u> (LINUX <mark>truncate()</mark>)
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.ftruncate(<strong>fd:nr</strong>, <i class="openable">len:nr<div>
              <p> - number of bytes to truncate (if bigger than the file's content the remaining space is filled with <mark>\0</mark> characters) (Default: <mark>0</mark>) </p>
            </div></i>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.ftruncateSync(<strong>fd:nr</strong>, <i class="openable">len:nr<div>
              <p> - number of bytes to truncate (if bigger than the file's content the remaining space is filled with <mark>\0</mark> characters) (Default: <mark>0</mark>) </p>
            </div></i>)
        </td>
        <td>
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption> Directories </caption>
      <tr>
        <th style="width:30%;"> Method </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.opendir(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsopendirpath-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, dir)</reqval>)
          <lit>fs</lit>.opendirSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsopendirsyncpath-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) returns a <a href="https://nodejs.org/docs/latest/api/fs.html#class-fsdir" target="_blank">fsDir</a> (provides furhter info about the directory)
          <span id="browserSupport" title="updated : 2024-10-20">
            <span><i class="fab fa-node-js"></i> 12.12.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.readdir(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreaddirpath-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, files)</reqval>) <br>
          <lit>fs</lit>.readdirSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsreaddirpath-options-callback" target="_blank">option:obj</a>)
        </td>
        <td>
          - returns an Array holding file names as strings
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.mkdir(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsmkdirpath-options-callback" target="_blank">option:obj</a>, <strong>fn(err, path)</strong>)
          <lit>fs</lit>.mkdirSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsmkdirsyncpath-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) creates a directory (cannot override existing directories by default)
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.mkdtemp(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsmkdirpath-options-callback" target="_blank">option:obj</a>, <strong>fn(err, path)</strong>)
          <lit>fs</lit>.mkdtempSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsmkdirsyncpath-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) creates a directory (cannot override existing directories by default) (appends 6 random character after the passed directory name)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.rmdir(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsrmdirpath-options-callback" target="_blank">option:obj</a>, <reqval>fn(err</reqval>))<br>
          <lit>fs</lit>.rmdirSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsrmdirpath-options-callback" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) deletes the targeted directory (empty directories only, use <mark>rm()</mark> to recursively remove entire directory trees)
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption> Hard and Symbolic links </caption>
      <tr>
        <th style="width:30%;"> Method </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.link(<strong>path:str|buf|urlObj</strong>, <strong>hardLink:str|buf|urlObj</strong>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.linkSync(<strong>path:str|buf|urlObj</strong>, <strong>hardLink:str|buf|urlObj</strong>)
        </td>
        <td>
          - (async/sync) creates a hard-link of the original file (there are no directory hard-links)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.symlink(<strong>targetPath:str|buf|urlObj</strong>, <strong>symLinkPath:str|buf|urlObj</strong>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.symlinkSync(<strong>targetPath:str|buf|urlObj</strong>, <strong>symLinkPath:str|buf|urlObj</strong>)
        </td>
        <td>
          - (async/sync) creates a symbolic-link to the file or directory
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.readlink(<strong>symLinkPath:str|buf|urlObj</strong>, <i>encode:str</i>, <reqval>fn(err, link)</reqval>)
          <lit>fs</lit>.readlinkSync(<strong>symLinkPath:str|buf|urlObj</strong>, <i>encode:str</i>)
        </td>
        <td>
          - (async/sync) returns the original file location where the symbolic-link is pointing to
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption> Other File Operations </caption>
      <tr>
        <th style="width:30%"> Method </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.constants
        </td>
        <td>
          - returns an object containing os specific file system constants <a href="https://nodejs.org/dist/latest-v12.x/docs/api/fs.html#fs_fs_constants_1" target="_blank">Node.js FS constants [link]</a>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.copyFile(<strong>srcPath:str|buf|urlObj</strong>, <strong>destPath:str|buf|urlObj</strong>, <i class="openable">copyMode:nr<div>
              <p> <mark>0</mark> = overwrites existing (Default) </p>
              <p> <mark>1</mark> = error if destination exist </p>
              <p> <mark>2</mark> = copy-on-write (default if COW not supported) </p>
              <p> <mark>4</mark> = copy-on-write (error if COW not suported) </p>
              <p> - values can be grouped ex: <mark>2|4</mark> </p>
            </div></i>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.copyFileSync(<strong>srcPath:str|buf|urlObj</strong>, <strong>destPath:str|buf|urlObj</strong>, <i class="openable">copyMode:nr<div>
              <p> <mark>0</mark> = overwrites existing (Default) </p>
              <p> <mark>1</mark> = error if destination exist </p>
              <p> <mark>2</mark> = copy-on-write (default if COW not supported) </p>
              <p> <mark>4</mark> = copy-on-write (error if COW not suported) </p>
              <p> - values can be grouped ex: <mark>2|4</mark> </p>
            </div></i>)
        </td>
        <td>
          - (async/sync) copy (and renames) files <u>(cannot copy directories)</u>
          <span id="browserSupport" title="updated : 2024-10-20">
            <span><i class="fab fa-node-js"></i> 8.5.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.cp(<strong>srcPath:str|buf|urlObj</strong>, <strong>destPath:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fscpsrc-dest-options-callback" target="_blank">option:obj</a>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.cpSync(<strong>srcPath:str|buf|urlObj</strong>, <strong>destPath:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fscpsyncsrc-dest-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) copy (and renames) files <u>(can copy directory structures)</u>
          <span id="browserSupport" title="updated : 2024-10-20">
            <span><i class="fab fa-node-js"></i> 16.7.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.rename(<strong>oldPath:str|buf|urlObj</strong>, <strong>newPath:str|buf|urlObj</strong>, <strong>fs(err)</strong>)<br>
          <lit>fs</lit>.renameSync(<strong>oldPath:str|buf|urlObj</strong>, <strong>newPath:str|buf|urlObj</strong>, <strong>fs(err)</strong>)
        </td>
        <td>
          - (async/sync) moves (and renames) files or directories (recursively moves the whole directory)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.unlink(<strong>srcPath:str|buf|urlObj</strong>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.unlinkSync(<strong>srcPath:str|buf|urlObj</strong>)
        </td>
        <td>
          - (async/sync) deletes a file or a symbolic-link (cannot remove directories) (LINUX <mark>unlink()</mark>)
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.rm(<strong>srcPath:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsrmpath-options-callback" target="_blank">option:obj</a>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.rmSync(<strong>srcPath:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsrmsyncpath-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (async/sync) deletes a file or directories
          <span id="browserSupport" title="updated : 2024-10-20">
            <span><i class="fab fa-node-js"></i> 14.14.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.access(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#file-access-constants" target="_blank">access</a>, <strong>fn(err)</strong>)<br>
          <lit>fs</lit>.accessSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#file-access-constants" target="_blank">access</a>)
        </td>
        <td>
          - (aysnc/sync) tests the specified access, on fail error is thrown
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.realpath(<strong>path:str|buf|urlObj</strong>, <small>{encoding:<strong>str</strong>}</small>, <strong>fn(err, resPath)</strong>) <br>
          <lit>fs</lit>.realpathSync(<strong>path:str|buf|urlObj</strong>, <small>{encoding:<strong>str</strong>}</small>)
        </td>
        <td>
          - (async/sync) resolves the given path
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.realpath.native(<strong>path:str|buf|urlObj</strong>, <small>{encoding:<strong>str</strong>}</small>, <strong>fn(err, resPath)</strong>) <br>
          <lit>fs</lit>.realpathSync.native(<strong>path:str|buf|urlObj</strong>, <small>{encoding:<strong>str</strong>}</small>)
        </td>
        <td>
          - does the same as <mark>realpath()</mark> / <mark>realpathSync()</mark> but faster
          <span id="browserSupport" title="updated : 2024-10-20">
            <span><i class="fab fa-node-js"></i> 9.2.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.chmod(<strong>path:str|buf|urlObj</strong>, <i class="openable">mode:str|nr<div>
              <p> - on Windows only the writing permission can be changed (<mark>0o666</mark> read-write) (<mark>0o400</mark> read-only) </p>
              <p> - linux file access mechanism used (ex: <mark>0744</mark> = owner has full permission but the gropu and others can read only) <u style="color:orangered;">(the first digit is always <mark>0</mark>)</u> </p>
              <p> <mark>7</mark> - read, write, and execute </p>
              <p> <mark>6</mark> - read and write </p>
              <p> <mark>5</mark> - read and execute </p>
              <p> <mark>4</mark> - read only </p>
              <p> <mark>3</mark> - write and execute </p>
              <p> <mark>2</mark> - write only </p>
              <p> <mark>1</mark> - execute only </p>
              <p> <mark>0</mark> - no permission </p>
            </div></i>, <strong>fn(err)</strong>) <br>
          <lit>fs</lit>.chmodSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">mode:str|nr<div>
              <p> - on Windows only the writing permission can be changed (<mark>0o666</mark> read-write) (<mark>0o400</mark> read-only) </p>
              <p> - linux file access mechanism used (ex: <mark>0744</mark> = owner has full permission but the gropu and others can read only) <u style="color:orangered;">(the first digit is always <mark>0</mark>)</u> </p>
              <p> <mark>7</mark> - read, write, and execute </p>
              <p> <mark>6</mark> - read and write </p>
              <p> <mark>5</mark> - read and execute </p>
              <p> <mark>4</mark> - read only </p>
              <p> <mark>3</mark> - write and execute </p>
              <p> <mark>2</mark> - write only </p>
              <p> <mark>1</mark> - execute only </p>
              <p> <mark>0</mark> - no permission </p>
            </div></i>)
        </td>
        <td>
          - (async/sync) - modifies the unix-access
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.fchmod(<strong>fd:nr</strong>, <i class="openable">mode:str|nr<div>
              <p> - on Windows only the writing permission can be changed (<mark>0o666</mark> read-write) (<mark>0o400</mark> read-only) </p>
              <p> - linux file access mechanism used (ex: <mark>0744</mark> = owner has full permission but the gropu and others can read only) <u style="color:orangered;">(the first digit is always <mark>0</mark>)</u> </p>
              <p> <mark>7</mark> - read, write, and execute </p>
              <p> <mark>6</mark> - read and write </p>
              <p> <mark>5</mark> - read and execute </p>
              <p> <mark>4</mark> - read only </p>
              <p> <mark>3</mark> - write and execute </p>
              <p> <mark>2</mark> - write only </p>
              <p> <mark>1</mark> - execute only </p>
              <p> <mark>0</mark> - no permission </p>
            </div></i>, <strong>fn(err)</strong>) <br>
          <lit>fs</lit>.fchmodSync(<strong>fd:nr</strong>, <i class="openable">mode:str|nr<div>
              <p> - on Windows only the writing permission can be changed (<mark>0o666</mark> read-write) (<mark>0o400</mark> read-only) </p>
              <p> - linux file access mechanism used (ex: <mark>0744</mark> = owner has full permission but the gropu and others can read only) <u style="color:orangered;">(the first digit is always <mark>0</mark>)</u> </p>
              <p> <mark>7</mark> - read, write, and execute </p>
              <p> <mark>6</mark> - read and write </p>
              <p> <mark>5</mark> - read and execute </p>
              <p> <mark>4</mark> - read only </p>
              <p> <mark>3</mark> - write and execute </p>
              <p> <mark>2</mark> - write only </p>
              <p> <mark>1</mark> - execute only </p>
              <p> <mark>0</mark> - no permission </p>
            </div></i>)
        </td>
        <td>
          - does the same as <mark>chmod() / chmodSync()</mark> but with <reqval>fd</reqval>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.lchmod(<strong>path:str|buf|urlObj</strong>, <i class="openable">mode:str|nr<div>
              <p> - on Windows only the writing permission can be changed (<mark>0o666</mark> read-write) (<mark>0o400</mark> read-only) </p>
              <p> - linux file access mechanism used (ex: <mark>0744</mark> = owner has full permission but the gropu and others can read only) <u style="color:orangered;">(the first digit is always <mark>0</mark>)</u> </p>
              <p> <mark>7</mark> - read, write, and execute </p>
              <p> <mark>6</mark> - read and write </p>
              <p> <mark>5</mark> - read and execute </p>
              <p> <mark>4</mark> - read only </p>
              <p> <mark>3</mark> - write and execute </p>
              <p> <mark>2</mark> - write only </p>
              <p> <mark>1</mark> - execute only </p>
              <p> <mark>0</mark> - no permission </p>
            </div></i>, <strong>fn(err)</strong>) <br>
          <lit>fs</lit>.lchmodSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">mode:str|nr<div>
              <p> - on Windows only the writing permission can be changed (<mark>0o666</mark> read-write) (<mark>0o400</mark> read-only) </p>
              <p> - linux file access mechanism used (ex: <mark>0744</mark> = owner has full permission but the gropu and others can read only) <u style="color:orangered;">(the first digit is always <mark>0</mark>)</u> </p>
              <p> <mark>7</mark> - read, write, and execute </p>
              <p> <mark>6</mark> - read and write </p>
              <p> <mark>5</mark> - read and execute </p>
              <p> <mark>4</mark> - read only </p>
              <p> <mark>3</mark> - write and execute </p>
              <p> <mark>2</mark> - write only </p>
              <p> <mark>1</mark> - execute only </p>
              <p> <mark>0</mark> - no permission </p>
            </div></i>)
        </td>
        <td>
          - does the same as <mark>chmod() / chmodSync()</mark> but for symbolic-links modifies symbolic-link itself (not the referenced file) (MacOS only)
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.chown(<strong>path:str|buf|urlObj</strong>, <strong>uid:nr</strong>, <strong>gid:nr</strong>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.chownSync(<strong>path:str|buf|urlObj</strong>, <strong>uid:nr</strong>, <strong>gid:nr</strong>)
        </td>
        <td>
          - (async/sync) changes the owner and the group
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.fchown(<strong>fd:nr</strong>, <strong>uid:nr</strong>, <strong>gid:nr</strong>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.fchownSync(<strong>fd:nr</strong>, <strong>uid:nr</strong>, <strong>gid:nr</strong>)
        </td>
        <td>
          - does the same as <mark>chown() / chownSync()</mark> but with <reqval>fd</reqval>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.lchown(<strong>path:str|buf|urlObj</strong>, <strong>uid:nr</strong>, <strong>gid:nr</strong>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.lchownSync(<strong>path:str|buf|urlObj</strong>, <strong>uid:nr</strong>, <strong>gid:nr</strong>)
        </td>
        <td>
          - does the same as <mark>chown() / chownSync()</mark> but for symbolic-links modifies symbolic-link itself (not the referenced file)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.existsSync(<strong>path:str|buf|urlObj</strong>)
        </td>
        <td>
          - (sync) checks if the path exists and returns a boolean accordingly (<mark>exists()</mark> asynchronous version is deprecated)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.stat(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the <mark>Stats</mark> object values will be represented in bigint values instead of numbers (Default: <mark>false</mark>) </p>
            </div></i>, <strong>fn(err, statsObj)</strong>) <br>
          <lit>fs</lit>.statSync(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the <mark>Stats</mark> object values will be represented in bigint values instead of numbers (Default: <mark>false</mark>) </p>
            </div></i>) <br>
        </td>
        <td>
          - (async/sync) returns a <a href="https://nodejs.org/docs/latest/api/fs.html#class-fsstats" target="_blank">fsStat</a> (file stats object)
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.fstat(<strong>fd:nr</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the <mark>Stats</mark> object values will be represented in bigint values instead of numbers (Default: <mark>false</mark>) </p>
            </div></i>, <strong>fn(err, statsObj)</strong>) <br>
          <lit>fs</lit>.fstatSync(<strong>fd:nr</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the <mark>Stats</mark> object values will be represented in bigint values instead of numbers (Default: <mark>false</mark>) </p>
            </div></i>) <br>
        </td>
        <td>
          - does the same as <mark>stat() / statSync()</mark> but with <reqval>fd</reqval>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.lstat(<strong>fd:nr</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the <mark>Stats</mark> object values will be represented in bigint values instead of numbers (Default: <mark>false</mark>) </p>
            </div></i>, <strong>fn(err, statsObj)</strong>) <br>
          <lit>fs</lit>.lstatSync(<strong>fd:nr</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the <mark>Stats</mark> object values will be represented in bigint values instead of numbers (Default: <mark>false</mark>) </p>
            </div></i>) <br>
        </td>
        <td>
          - does the same as <mark>stat() / statSync()</mark> for symbolic-links targets the symbolic-link itself (not the referenced file)
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.statfs(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsstatfspath-options-callback" target="_blank">option:obj</a>, <reqval>fn(err, stats)</reqval>)<br>
          <lit>fs</lit>.statfsSync(<strong>path:str|buf|urlObj</strong>, <a href="https://nodejs.org/docs/latest/api/fs.html#fsstatfssyncpath-options" target="_blank">option:obj</a>)
        </td>
        <td>
          - (sync/async) returns a <a href="https://nodejs.org/docs/latest/api/fs.html#class-fsstatfs" target="_blank">statFs</a> object (provides info about the mounted file system)
          <span id="browserSupport" title="updated : 2024-10-19">
            <span><i class="fab fa-node-js"></i> 18.15.0 </span>
            <span><i class="fab fa-node-js"></i> 19.6.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.utimes(<strong>path:str|buf|urlObj</strong>, <strong>atime:nr|str|Date</strong>, <strong>mtime:nr|str|Date</strong>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.utimesSync(<strong>path:str|buf|urlObj</strong>, <strong>atime:nr|str|Date</strong>, <strong>mtime:nr|str|Date</strong>)
        </td>
        <td>
          - (async/sync) modifies the access and modified times for the targeted file
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.futimes(<strong>fd:nr</strong>, <strong>atime:nr|str|Date</strong>, <strong>mtime:nr|str|Date</strong>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.futimesSync(<strong>fd:nr</strong>, <strong>atime:nr|str|Date</strong>, <strong>mtime:nr|str|Date</strong>)
        </td>
        <td>
          - does the same as <mark>utimes() / utimesSync()</mark> but with <reqval>fd</reqval>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.lutimes(<strong>fd:nr</strong>, <strong>atime:nr|str|Date</strong>, <strong>mtime:nr|str|Date</strong>, <reqval>fn(err)</reqval>)<br>
          <lit>fs</lit>.lutimesSync(<strong>fd:nr</strong>, <strong>atime:nr|str|Date</strong>, <strong>mtime:nr|str|Date</strong>)
        </td>
        <td>
          - does the same as <mark>utimes() / utimesSync()</mark> for symbolic-links targets the symbolic-link itself (not the referenced file)
          <span id="browserSupport" title="updated : 2024-10-19">
            <span><i class="fab fa-node-js"></i> 12.19.0 </span>
            <span><i class="fab fa-node-js"></i> 14.4.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.watchFile(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
              <p> bigint: <strong>bol</strong> - the returned parameters are in bigints instead of numbers </p>
              <p> persistend: <strong>bol</strong> - keeps the process alive while the file is watched (Default: <mark>true</mark>) </p>
              <p> interval: <strong>nr</strong> - how often check for changes in milliseconds (Default: <mark>5007</mark>) </p>
            </div></i>, <strong class="openable">fn(curSt, prevSt)<div>
              <p> - <strong>curSt</strong> - current Stats object </p>
              <p> - <strong>prevSt</strong> - previous Stats object </p>
            </div></strong>)
        </td>
        <td>
          - watches for changes in the passed file (use <reqval>watch()</reqval> instead of this (recommended by Node.js docs))
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.unwatchFile(<strong>path:str|buf|urlObj</strong>)
        </td>
        <td>
          - stop watching for changes on the passed file (use <reqval>watch()</reqval> instead of this (recommended by Node.js docs))
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.watch(<strong>path:str|buf|urlObj</strong>, <i class="openable">option:obj<div>
              <p> persistent: <strong>bol</strong> - keeps the process alive while the file is watched (Default: <mark>true</mark>) </p>
              <p> recursive: <strong>bol</strong> - also watches subdirectories (Default: <mark>false</mark>) (macOS and Windows only) </p>
              <p> encode: <strong>str</strong> - encoding for the filename (Default: <mark>utf-8</mark>) </p>
            </div></i>, <reqval>fn(evType, filename)</reqval>)
        </td>
        <td>
          - watches the passed file or directory <u>(not 100% reliable)</u>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.fsync(<reqval>fd:nr</reqval>, <reqval>fn(err)</reqval>) <br>
          <lit>fs</lit>.fsyncSync(<reqval>fd:nr</reqval>) <br>
        </td>
        <td>
          - (async/sync) flushes all data to the open file descriptior <a href="https://nodejs.org/docs/latest/api/fs.html#fsfsyncfd-callback" target="_blank">[link]</a>
        </td>
      </tr>
      <tr>
        <td>
          <lit>fs</lit>.fdataSync(<reqval>fd:nr</reqval>, <reqval>fn(err)</reqval>) <br>
          <lit>fs</lit>.fdatasyncSync(<reqval>fd:nr</reqval>) <br>
        </td>
        <td>
          - (async/sync) flushes all data to the open file descriptior (does not flush modified data) <a href="https://nodejs.org/docs/latest/api/fs.html#fsfdatasyncfd-callback" target="_blank">[link]</a>
        </td>
      </tr>
    </table>
    <br>
    <h2 class="headerSection"> Notes : </h2>
    <details class="example" id="notes">
      <summary> Notes :</summary>
      <p> - <mark>datasync()</mark> / <mark>datasyncSync()</mark> / <mark>fsync()</mark> / <mark>fsyncSync()</mark> / <mark>filehandle.datasync</mark> / <mark>filehandle.sync</mark>- synchronizes the file with the storage [NOT TESTED 2020-07-10] (because I have no idea how this can be used) </p>
      <p> - <mark>lchmod()</mark> and <mark>lchmodSync()</mark> does the same as <mark>chmod()</mark> and <mark>chmodSync()</mark> but they are available only on macOS </p>
      <p> - <mark>lchown()</mark> and <mark>lchownSync()</mark> does the same as <mark>chown()</mark> and <mark>chownSync()</mark> they were deprecated before v10.6.0 but after are no longer deprecated [2020-07-10] </p>
    </details>
    <h2 class="headerSection"> Useful Links : </h2>
    <p><a href="https://nodejs.org/dist/latest-v22.x/docs/api/fs.html" target="_blank"> Node.js File System </a></p>
    <h2 class="headerSection"> Remember This : </h2>
    <p> - to set the UNIX file access use the <a href="../Process/index.html#umask" target="_blank">process.umask()</a> method </p>
    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - the <mark>fs</mark> library provides methods to work with the file system </p>
    <p> - there are 3 main approaches: </p>
    <p class="indent-lv1"> - callback methods </p>
    <p class="indent-lv1"> - promises (promises Api) </p>
    <pre>
    import fs from 'node:fs';
    import fsPromise from 'node:fs/promises';
    
// synchronous call --------
    fs.readFileSync('./test.txt')           // -> file content as node buffer
    
// callback -------------
    fs.readFile('./test.txt', (err, data) => {
      data                                  // -> file content as node buffer
    });
    
// promises Api -------------
    await fsPromises.readFile('./test.txt')     // -> file content as node buffer
  </pre>
    <!--------------------------------------------------------------------------------->
    <hr>
    <h3 class="header"> Allocate File Descriptors <mark>open()</mark> / <mark>openSync()</mark> / <mark>close()</mark> / <mark>closeSync()</mark> methods </u></h3>
  <p> - allocated file descriptors then can be used for file system operations </p>
  <details class="example">
    <summary> Example : </summary>
    <h4 class="header"> The <mark>open()</mark> / <mark>openSync()</mark> / <mark>close()</mark> / <mark>closeSync()</mark> methods </h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// asynchronous open method versions --------------------------------------------
    fs.open('testFile1.txt', 'a', 0o400, function(err, fd){                      // the 'a' flag creates a new file or opens an existing one, data appended to a file  /  the '0o400' specifies that the file will be read-only (this flag has only effect if the file is newly created!)   
        if (err) console.log( err );                                             // print eventual errors 
        console.log( fd );
        fs.write(fd, 'write this data--', 0, function(err, writtenSofar, data){  // write data to the newly created data (file is sitll writable while the file descriptor is open)   
            if (err) console.log(err);
            fs.close(fd, (err) => {if(err) console.log(err)});                   // close the file descriptor (after this the file is read-only)   
        });
    });
    
// synchronous open method version ----------------------------------------------
    var fd1 = fs.openSync('testFile2.txt', 'r+');                                // the 'r+' flag opens the file for read and write operations (file must be an existing file) 
    
    var buffer = Buffer.alloc(100);
    fs.readSync(fd1, buffer, 0, 100, 0);                                         // synchronously returned file descriptor references the file (read operation in this case)  
    console.log( buffer.toString() );
        
    fs.closeSync(fd1);                                                           // closing the file descriptor (from this point file is not referenced by this file descriptor)   

console.log( '-- end of module --' );    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\01 open() openSync() close() closeSync() TEST> node main      
        this is data from testFile2, cool he???                                  // -! console.log( buffer.toString() );
        -- end of module --                                                      // operations are asynchronous after this 
        3                                                                        // -! console.log( buffer.toString() );        // asynchronous file descriptor ID   
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\01 open() openSync() close() closeSync() TEST>    
    </pre>
  </details>
  <!--------------------------------------------------------------------------------->
  <hr>
  <h3 class="header"> Read Write files </h3>
  <h4 class="header indent-lv1"> Read <mark>read()</mark> / <mark>readSync()</mark> / <mark>readFile()</mark> / <mark>readFileSync()</mark> / <mark>createReadStream()</mark> methods </h4>
  <h4 class="header indent-lv1"> Write <mark>write()</mark> / <mark>writeSync()</mark> / <mark>writeFile()</mark> / <mark>writeFileSync()</mark> / <mark>truncate()</mark> / <mark>truncateSync()</mark> / <mark>ftruncate()</mark> / <mark>ftruncateSync()</mark> / <mark>createWriteStream()</mark> methods </h4>
  <details class="example">
    <summary> Example : </summary>
    <h4 style="color:darkblue;"><u> <mark>write()</mark> / <mark>writeSync()</mark> / <mark>read()</mark> / <mark>readSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// write() / writeSync() --------------------------------------------------------------
    var fd = fs.openSync('testFile', 'a');                                             // file descriptor read-write data appended to existing content (new file if file does not exist) (writing position cannot be set of this flag)   
    var bufferWrite = Buffer.alloc(17, 'kicsi kutya');
    var bufferWrite2 = Buffer.alloc(9, '- se fule');
    
    fs.writeSync(fd, bufferWrite, 0, 11, null);                                        // synchronous buffer writting to the file  
    fs.writeSync(fd, ' tarka', -2);                                                    // synchronous string writting to the file 
    
    fs.write(fd, bufferWrite2, 1, 8, null, function(err, bytesWritte, buffer){         // asynchronous buffer writting to the file (buffer is written from the 1st index position)   
        if(err) console.log(err);
    });    
    fs.write(fd, ' se farka!', function(err, written, str){                            // asynchronous string writting to the file 
        if(err) console.log(err);
        fs.closeSync(fd);                                                              // closing the file descriptor   
    });
    
// read() / readSync() ----------------------------------------------------------------
    var fd2 = fs.openSync('testFileR', 'r');                                           // ready-only file descriptor (default)  
    
    var bufferRead = Buffer.alloc(100);                                                // buffers are used to store and return the data 
    var bufferRead2 = Buffer.alloc(100);
    
    fs.readSync(fd2, bufferRead2, 2, 48, 0);
    console.log( bufferRead2.toString() );
    
    fs.read(fd2, bufferRead, 0, 100, 0, function(err, bytesRead, buffer){              // asynchronously reading a file part 
        if(err) console.log(err);
        console.log('bytes read = ' + bytesRead);
        console.log(buffer.toString());                                                // data returned here 
        fs.closeSync(fd2);                                                             // closing the file descriptor
    });
    
console.log( "----- end of module -----" );
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\03 write() writeSync() read() readSync() TEST> node main
        Lorem Ipsum is simply dummy text of the printing
        ----- end of module -----
        bytes read = 100
        Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\03 write() writeSync() read() readSync() TEST>    
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>readFile()</mark> / <mark>readFileSync()</mark> / <mark>writeFile()</mark> / <mark>writeFileSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// writeFile() / writeFileSync() ------------------------------------------------------
    fs.writeFile('newFile1', 'some new data', function(err){                           // asynchronous file (re)creation    
        if(err) console.log( err );
    });
    
    fs.writeFileSync('newFile2', 'some new data too');                                 // synchronous file (re)creation 
    
// readFile() / readFileSync() --------------------------------------------------------
    fs.readFile('newFile1', function(err, data){                                       // asynchronously reads the entire content of the file (careful this using this for large files!)   
        if(err) console.log(err);
        console.log( data.toString() );                                                // returned data 
    })
    
    console.log(                                                                       // synchronously reads the entire content of the file and returns it
        fs.readFileSync('newFile2').toString() 
    );  
    
console.log( "--- end of module ---" );                                        
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\04 readFile() readFileSync() writeFile() writeFileSync() TEST> node main               
        some new data too
        --- end of module --- 
        some new data        
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\04 readFile() readFileSync() writeFile() writeFileSync() TEST>    
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>truncate()</mark> / <mark>truncateSync()</mark> / <mark>ftruncate()</mark> / <mark>ftruncateSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// truncate() / truncateSync() --------------------------------------------------------
    fs.truncate('testFile1', 150, function(err){                                       // file's content is reduced to 150 bytes (asynchronously)
        if(err) console.log(err);
    });
    
    fs.truncateSync('testFile2', 0);                                                   // file's content is reduced to 0 (default) (synchronous)
    
// ftruncate() / ftruncateSync() ------------------------------------------------------
    var fd1 = fs.openSync('testFile3', 'r+');                                          // these methods do the same but they use file descriptors instead of paths  
    var fd2 = fs.openSync('testFile4', 'r+');
    
    fs.ftruncate(fd1, 250, function(err){                                              // file's content is reduced to 250 bytes (asynchronously) 
        if(err) console.log(err);
    });
    
    fs.ftruncateSync(fd2, 1000);                                                       // file's content is extended (content is shorted than 1000 bytes) (/0 characters added to fill the the bytes up to 1000)    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\05 truncate() truncateSync() ftruncate() ftruncateSync() TEST> node main                                                     
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\05 truncate() truncateSync() ftruncate() ftruncateSync() TEST>    
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>appendFile()</mark> / <mark>appendFileSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    var buffer = new Buffer.alloc(37, 'kicsi kutya tarka se fule se farka. \n');            
    
    fs.appendFile('testFile1', 'append this ...\r', function(err){                     // asynchronously creates than appends data to the file (every time it's called)     
        if(err) console.log(err);
    });
    
    fs.appendFileSync('testFile2', buffer);                                            // synchronously creates then appends data to the file (every time it is called)  
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\06 appendfile() appendFileSync() TEST> node main     
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\06 appendfile() appendFileSync() TEST>     
    </pre>
    <h4 style="color:darkblue;"><u> <mark>createReadStream()</mark> / <mark>createWriteStream()</mark> (event) TEST </u></h4>
    <p> - here we are dealing with the same file but in 2 channels, so two different file descriptors are allocated for the two different channels</p>
    <p> - the <mark>close</mark> event is a standard stream event <u>but it can be also emitted when the file descriptor closes (must be set!)</u></p>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
    var wStream = fs.createWriteStream('testFile', {emitClose:false});                             // file descriptor won't emit the close event when closed 
    var rStream = fs.createReadStream('testFile', {emitClose:true});                               // file descriptor emits the 'close' event when closed  
    
// write stream events ----------------------------------------------------------------------------
    wStream.on('open', function(fd){
        console.log( "writable stream 'open' event emitted! (file descriptor = " + fd + ")" );         
    });
    wStream.on('ready', () => console.log( "writable stream 'ready' event emitted!"));
    wStream.on('close', () => {console.log( "writable stream 'close' event emitted!" );});         // the 'close' event emitted once (because only the stream emits it)
    
// read stream events -----------------------------------------------------------------------------
    rStream.on('open', function(fd){
        console.log("readable stream 'open' event emitted! (file descriptor = " + fd + ")" );
    });
    rStream.on('ready', () => console.log("readable stream 'ready' event emitted!"));
    rStream.on('close', function(){                                                                // this 'close' event is emitted twice (because both the stream and the file descriptor emits it)
        console.log("readable stream 'close' event emitted!");
    });
    
// write read stream --- ---------------------------------------------------------------------------
    wStream.write('write something new')
    wStream.end();
    wStream.destroy();
    
    rStream.on('data', function(chunk){
        console.log( chunk.toString() );
        rStream.destroy();
    });
    
    console.log( '------------ end of module ------------' );    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\01 createReadStream() createWriteStream() (events) TEST> node main                                                           
        ------------ end of module ------------
        writable stream 'open' event emitted! (file descriptor = 3)
        writable stream 'ready' event emitted!
        readable stream 'open' event emitted! (file descriptor = 4)
        readable stream 'ready' event emitted!
        writable stream 'close' event emitted!
        write something new
        readable stream 'close' event emitted!
        readable stream 'close' event emitted!
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\01 createReadStream() createWriteStream() (events) TEST>    
    </pre>
    <!---------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>createReadStream()</mark> / <mark>createWriteStream()</mark> (properties) TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// writeableStream -----------------------------------------------------------------
    var writeStream = fs.createWriteStream('testFile', {autoClose:true});           // closes the file descriptor automatically when we're done writing (default)
    
    console.log( "file descriptor pending = " + writeStream.pending );              // -> true              // no file descriptor allocated yet (data pending)
    console.log( writeStream.bytesWritten );                                        // -> 0                 // no data is written yet
    console.log( writeStream.path );                                                // -> 'testFile'        // 1st argument of the 'createWriteStream()' method 
    
    writeStream.on('open', function(fd){ 
        console.log('writeStream opened! (file descriptor pending = ' + 
            writeStream.pending + ')');                                             // -> false             // file descriptor allocated 
    });
    
    writeStream.on('ready', function(){
        console.log('writeStream ready! (file descriptor pending = ' + 
            writeStream.pending + ')');                                             // -> false             // file descriptor allocated 
    });
    
    writeStream.on('close', function(){
        console.log('writeStream closed! (file descriptor pending = ' + 
            writeStream.pending + ')');                                             // -> true              // file descriptor is closed here 
        console.log('bytes written = ' + writeStream.bytesWritten );                // -> 23                // bytes written 
    });
    
    writeStream.write('write this new content');  
    writeStream.end();
    
// writeableStream -----------------------------------------------------------------
    var readStream = fs.createReadStream('testFile', {autoClose:false});            // file descriptor won't be closed (careful this is a bad practice!)   
    
    readStream.on('data', function(data){
        console.log( data.toString() );
        console.log( 'read path = ' + readStream.path );
        console.log( 'bytes read = ' + readStream.bytesRead );
        console.log( 'file descriptor pending = ' + readStream.pending );           // -> false             // !! file descriptor is NOT closed (Careful)
    });
    
    console.log( '----------  end of module ----------' );    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\02 createReadStream() createWriteStream() (properties) TEST> node main       
        file descriptor pending = true                                              // -! console.log( "file descriptor pending = " + writeStream.pending );
        0                                                                           // -! console.log( writeStream.bytesWritten );  
        testFile                                                                    // -! console.log( writeStream.path );          
        ----------  end of module ----------
// write stream --------------------------------------------------------------------
        writeStream opened! (file descriptor pending = false)                       // -! console.log('writeStream opened! (file descriptor pending = ' +  writeStream.pending + ')');
        writeStream ready! (file descriptor pending = false)                        // -! console.log('writeStream ready! (file descriptor pending = ' + writeStream.pending + ')');
// read stream ---------------------------------------------------------------------
        write this new content                                                      // -! console.log( data.toString() );
        read path = testFile                                                        // -! console.log( 'read path = ' + readStream.path );
        bytes read = 22                                                             // -! console.log( 'bytes read = ' + readStream.bytesRead );
        file descriptor pending = false                                             // -! console.log( 'file descriptor pending = ' + readStream.pending );
// write stream --------------------------------------------------------------------
        writeStream closed! (file descriptor pending = true)                        // -! console.log('writeStream closed! (file descriptor pending = ' + writeStream.pending + ')');
        bytes written = 22                                                          // -! console.log('bytes written = ' + writeStream.bytesWritten );
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\02 Read and Write files\02 createReadStream() createWriteStream() (properties) TEST>    
    </pre>
  </details>
  <!--------------------------------------------------------------------------------->
  <hr>
  <h3 class="header"> Directories <mark>opendir()</mark> / <mark>opendirSync()</mark> / <mark>readdir()</mark> / <mark>readdirSync()</mark> / <mark>mkdir()</mark> / <mark>mkdirSync()</mark> / <mark>mkdtemp()</mark> / <mark>mkdtempSync()</mark> / <mark>rmdir()</mark> / <mark>rmdirSync()</mark> methods </h3>
  <details class="example">
    <summary> Example : </summary>
    <h4 style="color:darkblue;"><u> <mark>readdir()</mark> / <mark>readdirSync()</mark> / <mark>Dirent</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// we read the 'File System' direcory here --------------------------------------------
    fs.readdir('../../', function(err, items){
        if(err) console.log(err);
        console.log( items );                                                          // directory items (item names) are returned in an Array 
    });
    
    var items = fs.readdirSync('../../', {withFileTypes:true});                        // Dirent object returned for each directory item  
    
    console.log( items );
    
    console.log( items[0].name );
    console.log( items[0].isFile() );
    console.log( items[0].isDirectory() );
    console.log( items[0].isSymbolicLink() );
    console.log( items[0].isSocket() );
    console.log( items[0].isBlockDevice() );
    console.log( items[0].isCharacterDevice() );
    console.log( items[0].isFIFO() );
    
console.log( "----- end of module -----" );
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\01 readdir() readdirSync() Dirent TEST> node main        
        [                                                                              // -! items  
        Dirent { name: '01 File Descriptors', [Symbol(type)]: 2 },
        Dirent { name: '02 Read and Write files', [Symbol(type)]: 2 },
        Dirent { name: '03 Watching Files', [Symbol(type)]: 2 },
        Dirent { name: '04 Directories', [Symbol(type)]: 2 },
        Dirent { name: 'index.html', [Symbol(type)]: 1 },
        Dirent { name: 'TEST', [Symbol(type)]: 2 }
        ]
        01 File Descriptors                                                            // -! items[0].name;
        false                                                                          // -! items[0].isFile();
        true                                                                           // -! items[0].isDirectory();
        false                                                                          // -! items[0].isSymbolicLink();
        false                                                                          // -! items[0].isSocket();
        false                                                                          // -! items[0].isBlockDevice();
        false                                                                          // -! items[0].isCharacterDevice();
        false                                                                          // -! items[0].isFIFO();
        ----- end of module -----
        [                                                                              // -! item (asynchronous)
        '01 File Descriptors',
        '02 Read and Write files',
        '03 Watching Files',
        '04 Directories',
        'index.html',
        'TEST'
        ]
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\01 readdir() readdirSync() Dirent TEST>     
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>opendir()</mark> / <mark>opendirSync()</mark> and <mark>Dir</mark> object </u></h4>
    <p> - I had to embeded the Promise in the asynchronous callback to avoid race conditions! </p>
    <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    var dirStream = fs.opendirSync(process.cwd() + '/testDir1');
    
// path -------------------------------------------------------------------------------
    console.log( dirStream.path );                                                     // path of the directory stream (argument passed in the 'opendirSync' method)   
    
// read() / readSync() ----------------------------------------------------------------
    console.log( dirStream.readSync() );                                               // synchronously returns the first item in the directory stream as Dirent object  
    
    dirStream.read(function(err, dirent){                                              // asynchronously returns the next item in the directory stream 
        if(err) console.log(err);
        console.log(dirent);                                                           // next item returned as Diren object here 
            dirStream.read()                                                           // returns a promise (resolved promise contains the next directory entry as Dirent object)   
                .then((res) => { 
                    console.log(res);
                    dirStream.close((err) => { if(err) {console.log(err);}});          // asynchronously closes the directory stream 
                })
                .catch((rej) => { console.log(rej) });  
    });
    
// close() / closeSync() -------------------------------------------------------------
    var dirStream2 = fs.opendirSync(process.cwd());
    var dirStream3 = fs.opendirSync(process.cwd());
    var dirStream4 = fs.opendirSync(process.cwd());
    
    dirStream2.close(function(err){ if(err) console.log(err) });                       // asynchronously closes the directory stream 
    
    dirStream3.close()                                                                 // asynchronously closes the directory stream by using the Promise API   
        .catch((rej) => { console.log(rej) });    
        
    dirStream4.closeSync();                                                            // synchronously closes the directory stream    
    
console.log( "----- end of module -----");    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 Node.js\file system\04 directories\04 opendir() opendirSync() and Dir TEST> node main  
// dirStream.paht --------------------------------------------------------------------   
        D:\safe\code +\my site\03 improuve\learn webdesign\04 Node.js\file system\04 directories\04 opendir() opendirSync() and Dir TEST/testDir1
        Dirent { name: 'testFile1.txt', [Symbol(type)]: 1 }                            // dirStream.readSync()                          // first entry as Dirent object   
        ----- end of module -----
        Dirent { name: 'testFile2.txt', [Symbol(type)]: 1 }                            // dirStream.read(function(err, dirent) {}       // asynchronous callback 
        Dirent { name: 'testFile3.txt', [Symbol(type)]: 1 }                            // dirStream.read()                              // Promise based API
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 Node.js\file system\04 directories\04 opendir() opendirSync() and Dir TEST>     
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>for await...of</mark> on <mark>Dir</mark> ojbect TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    var parentDir = fs.opendirSync('../');                                             // reading the parent directory 
    
    (async function(){                                                                 // asynchronous operation 
        for await (let i of parentDir){                                                // for await...of loop iterates over asynchronously itereable object (Ojbects having the [Symbol.asyncIterator] implemented)
            console.log(i);                                                            // -> Dirent object returned for each entry  
        }
    })().catch((rej) => {console.log(rej)});                                           // handling error in case the async function returns a rejected Promise 
    
    console.log('--- end of module ---');
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\file system\04 directories\05 for await...of on Dir object TEST> node main    
        --- end of module ---
        Dirent { name: '01 readdir() readdirSync() Dirent TEST', [Symbol(type)]: 2 }
        Dirent { name: '02 mkdir() mkdirSync() mkdtemp() mkdtempSync() TEST', [Symbol(type)]: 2 }
        Dirent { name: '03 rmdir() rmdirSync() TEST', [Symbol(type)]: 2 }
        Dirent { name: '04 opendir() opendirSync() and Dir TEST', [Symbol(type)]: 2 }
        Dirent { name: '05 for await...of on Dir object TEST', [Symbol(type)]: 2 }
        Dirent { name: 'index.html', [Symbol(type)]: 1 }
        Dirent { name: 'styles.css', [Symbol(type)]: 1 }
        Dirent { name: 'TEST', [Symbol(type)]: 2 }
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\file system\04 directories\05 for await...of on Dir object TEST>    
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>mkdir()</mark> / <mark>mkdirSync()</mark> / <mark>mkdtemp()</mark> / <mark>mkdtempSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// mkdir() / mkdirSync() --------------------------------------------------------------
    fs.mkdir('newDir1', function(err){
        if(err) console.log(err);
    });
    
    fs.mkdirSync('newDir2/subDir/another_subDir', {recursive:true})                    // recursive option allows to create subdirectories (also can override existing directories)    
    
// mkdtemp() / mkdtempSync() ----------------------------------------------------------
    fs.mkdtemp('tempFolder', function(err, folder){
        if(err) console.log(err);
        console.log( "asynchronously created temporary directory = " + folder );
    });
    
    console.log( "synchronously created temporary directory = " + fs.mkdtempSync('tempFolder') );    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\02 mkdir() mkdirSync() mkdtemp() mkdtempSync() TEST> node main      
        synchronously created temporary directory = tempFolderJoEUIN
        asynchronously created temporary directory = tempFolderiVb1Ak
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\02 mkdir() mkdirSync() mkdtemp() mkdtempSync() TEST>    
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> <mark>rmdir()</mark> / <mark>rmdirSync()</mark> TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');

    fs.mkdirSync('testDir1/subDir/subSubDir', {recursive:true});
    fs.mkdirSync('testDir2/subDir/subSubDir', {recursive:true});
    
// rmdir() / rmdirSync() -------------------------------------------------------------
    fs.rmdir('testDir1', {recursive:true, }, function(err){                           // recursive remove works just file (subdirectories are )
        if(err) console.log(err);
    });
    
    fs.rmdirSync('testDir2', {recursive:true});
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\03 rmdir() rmdirSync() TEST> node main       
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\04 directories\03 rmdir() rmdirSync() TEST>    
    </pre>
  </details>
  <!--------------------------------------------------------------------------------->
  <hr>
  <h3 class="header"> Hard & Symbolic links <mark>symlink()</mark> / <mark>symlinkSync()</mark> / <mark>readlink()</mark> / <mark>readlinkSync()</mark> / <mark>link()</mark> / <mark>linkSync()</mark> methods </h3>
  <details class="example">
    <summary> Example : </summary>
    <h4 style="color:darkblue;"><u> <mark>link()</mark> / <mark>linkSync()</mark> / <mark>readlink()</mark> / readlinkSync() TEST </u></h4>
    <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
// asynchronous ----------------------------------------------------------------------
    fs.symlink('./testFile.txt', './smLink_testFile.txt', function(err){              // symbolic link created in the same directory 
        if(err) console.log(err);
    });
    
    fs.symlink('../testFile.txt', 'testDir/smLink_testFile.txt', function(err){       // symbolic link created in the subdirectory (1st argument is relative to the created symbolic-link)
        if(err) console.log(err);
    });
    
    fs.symlink('./smLink_testFile.txt', 'testDir/smLink_testFile2.txt', function(err){  // symbolic-link created to another symbolic-link 
        if(err) console.log(err);
    });
    
// synchronous -----------------------------------------------------------------------
    fs.symlinkSync('./testDir', 'symDir');                                            // file symbolic-link   
    
    
// readlink() / readlinkSync() -------------------------------------------------------
    fs.readlink('testDir/smLink_testFile.txt', 'utf-8', function(err, link){          // returns the path where the symbolic-link points 
        if(err) console.log(err);
        console.log(link);                                                            // -> '..\testFile.txt'
    });
    
    console.log( fs.readlinkSync('testDir/smLink_testFile2.txt') );                   // -> '.\smLink_testFile.txt'
    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\01 symlink() symlinkSync() readlink() readLinkSync() TEST> node main    
        .\smLink_testFile.txt
        ..\testFile.txt
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\01 symlink() symlinkSync() readlink() readLinkSync() TEST>    
    </pre>
    <!----------------------------------------------------------------------------------------------------------------->
    <hr>
    <h4 style="color:darkblue;"><u> symbolic-link option argument TEST </u></h4>
    <p> - the <mark>file</mark> or <mark>dir</mark> type arguments are automatically detected </p>
    <p> - the <mark>'junction'</mark> type argument resolves the target path of the symbolic-link to absolute <u>(only for directory symbolic-links)</u>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    fs.symlink('./main.js', 'smLink1.js', 'file', function(err){                      // type is automatically detected (putting 'dir' here won't work because this is a file [TESTED])   
        if(err) console.log(err);
        console.log( fs.readlinkSync('smLink1.js') );                                 // -> 'main.js'        // realative path 
    });

    fs.symlink('./', 'symlinkDir', 'junction', function(err){                         // type argument set to 'junction', this will resolve the target path (1st argument) as absolute path     
        if(err) console.log(err);
        console.log( fs.readlinkSync('symlinkDir') );                                 // -> 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\01.1 symbolic-link option argument TEST\main.js\'        
    });
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\01.1 symbolic-link option argument TEST> node main    
        .\main.js                                                                                                                                           // -! fs.readlinkSync('smLink1.js')
        D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\01.1 symbolic-link option argument TEST\   // -! fs.readlinkSync('symlinkDir')
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\01.1 symbolic-link option argument TEST>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>link()</mark> / <mark>linkSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    console.log( fs.statSync('testFile').nlink );                                      // -> 1             (1 file in the hard-link chain (no other file linked))
    
    fs.linkSync('testFile', 'link1');                                                  // synchronously creates a hard link 
    
    fs.link('testFile', 'link2', function(err){                                        // asynchronously creates a hard link 
        if(err) console.log(err);
        console.log( fs.statSync('testFile').nlink );                                  // -> 3             (3 files in the hard-link chain)
    });    
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02 link() linkSync() TEST> node main    
        1                                                                              // -! fs.statSync('testFile').nlink
        3                                                                              // -! fs.statSync('testFile').nlink
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02 link() linkSync() TEST>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> placing hard-links in other than the current directory TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    fs.linkSync('./testFile', './subDir/link1');                                       // hard-link created in the subdirectory 
    fs.linkSync('./testFile', '../link2');                                             // hard-link created in the parent directory 
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02.1 placing hard-links in other than the current directory TEST\testDir> node main                                   
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02.1 placing hard-links in other than the current directory TEST\testDir>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> hard-link directories TEST </u></h4>
      <p style="color:yellow;"> - hard-linking directories is not allowed! </p>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    fs.linkSync('testDir1', 'testDir2');                                               // throws an error (hard-linking directories not allowed)   
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02.2 hard-link directories TEST> node main
        hard-link directories TEST> node main                                                                            
        fs.js:130
        throw err;
        ^
    
        Error: EPERM: operation not permitted, link 'testDir1' -> 'testDir2'
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02.2 hard-link directories TEST>
    </pre>
      <!----------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> hard-link chain break TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    fs.linkSync('testFile', 'link1');                                                  // creating a hard link chain 
    fs.linkSync('link1', 'link2');
    fs.linkSync('link2', 'link3');
    
    console.log( fs.statSync('testFile').nlink );                                      // -> 4          // all files have 4 hard-linked files in the chain (including the file itself)
    console.log( fs.statSync('link1').nlink );                                         // -> 4          // -! this means that each all the files are linked togeher = webbed not chained!
    console.log( fs.statSync('link2').nlink );                                         // -> 4
    console.log( fs.statSync('link3').nlink );                                         // -> 4  
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02.3 hard-link chain break TEST> node main  
        4                                                                              // -! fs.statSync('testFile').nlink 
        4                                                                              // -! fs.statSync('link1').nlink 
        4                                                                              // -! fs.statSync('link2').nlink 
        4                                                                              // -! fs.statSync('link3').nlink 
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\06 Hard-Link and Symbolic-Link\02.3 hard-link chain break TEST> node main    
    </pre>
    </details>
    <!--------------------------------------------------------------------------------->
    <hr>
    <h3 class="header"> Other File Operations </h3>
    <h4 class="header indent-lv1"> <mark>constants</mark> / <mark>existsSync()</mark> / <mark>realpath()</mark> / <mark>realpath.native()</mark> / <mark>realpathSync()</mark> / <mark>realpathSync.native()</mark> </h4>
    <h4 class="header indent-lv1"> <mark>access()</mark> / <mark>accessSync()</mark> / <mark>chmod()</mark> / <mark>chmodSync()</mark> / <mark>fchmod()</mark> / <mark>fchmodSync()</mark> / <mark>chown()</mark> / <mark>chownSync()</mark> / <mark>fchown()</mark> / <mark>fchownSync()</mark> </h4>
    <h4 class="header indent-lv1"> <mark>rename()</mark> / <mark>renameSync()</mark> / <mark>copyFile()</mark> / <mark>copyFileSync()</mark> / <mark>unlink()</mark> / <mark>unlinkSync()</mark> </h4>
    <h4 class="header indent-lv1"> <mark>watchFile()</mark> / <mark>unwatchFile()</mark> / <mark>watch()</mark> </h4>
    <h4 class="header indent-lv1"> <mark>stat()</mark> / <mark>statSync()</mark> / <mark>fstat()</mark> / <mark>fstatSync()</mark> / <mark>lstat()</mark> / <mark>lstatSync()</mark> / <mark>utimes()</mark> / <mark>utimesSync()</mark> / <mark>futimes()</mark> / <mark>futimesSync()</mark> / <mark>lutimes()</mark> / <mark>lutimesSync()</mark> </h4>
    <details class="example">
      <summary> Example : </summary>
      <h4 style="color:darkblue;"><u> <mark>constants</mark> / <mark>existsSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// constants --------------------------------------------------------------------------
    console.log( fs.constants );                                                       // os specific file system constants   
    
// existsSync() -----------------------------------------------------------------------
    console.log( fs.existsSync('testFile') );                                          // -> true          // path exists  
    console.log( fs.existsSync('noFile') );                                            // -> false         // path doesn't exists     
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\01 constants existsSync() TEST> node main           
        [Object: null prototype] {                                                     // -! fs.constants 
        UV_FS_SYMLINK_DIR: 1,
        UV_FS_SYMLINK_JUNCTION: 2,
        O_RDONLY: 0,
        O_WRONLY: 1,
        O_RDWR: 2,
        UV_DIRENT_UNKNOWN: 0,
        UV_DIRENT_FILE: 1,
        UV_DIRENT_DIR: 2,
        UV_DIRENT_LINK: 3,
        UV_DIRENT_FIFO: 4,
        UV_DIRENT_SOCKET: 5,
        UV_DIRENT_CHAR: 6,
        UV_DIRENT_BLOCK: 7,
        S_IFMT: 61440,
        S_IFREG: 32768,
        S_IFDIR: 16384,
        S_IFCHR: 8192,
        S_IFLNK: 40960,
        O_CREAT: 256,
        O_EXCL: 1024,
        O_TRUNC: 512,
        O_APPEND: 8,
        F_OK: 0,
        R_OK: 4,
        W_OK: 2,
        X_OK: 1,
        UV_FS_COPYFILE_EXCL: 1,
        COPYFILE_EXCL: 1,
        UV_FS_COPYFILE_FICLONE: 2,
        COPYFILE_FICLONE: 2,
        UV_FS_COPYFILE_FICLONE_FORCE: 4,
        COPYFILE_FICLONE_FORCE: 4
        }
        true                                                                           // -! fs.existsSync('testFile')
        false                                                                          // -! fs.existsSync('noFile')
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\01 constants existsSync() TEST>     
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>realpath()</mark> / <mark>realpath.native()</mark> / <mark>realpathSync()</mark> / <mark>realpathSync.native()</mark> TEST </u></h4>
      <p> - you can see that the <mark>realpath.native()</mark> is faster than the <mark>realpath()</mark>, the 'native' methods are faster [TESTED: 2019-10-04] </p>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// realpath() / realpath.native() --------------------------------------------------
    fs.realpath('./', {encoding:'buffer'}, function(err, resPath){                  // resolves the current directory path 
        if(err) console.log(err);
        console.log( "realpath() resolved path = " + resPath );
    });
    
    fs.realpath.native('../', {encoding:'buffer'}, function(err, resPath){          // resolves the parent directory path 
        if(err) console.log(err);
        console.log( "realpath.native() resolved path = " + resPath );
    });
    
// realpathSync() / realpathSync.native() ------------------------------------------
    console.log( "realpathSync() resolved path = " + 
        fs.realpathSync('testFile') );                                              // resolves the file path into an absolute path 
    
    console.log( "realpathSync.native() resolved path = " + 
        fs.realpathSync.native('symLinkTestFile') );                                // -! symbolic-link resolved to the original file (not to the symbolic-link)    
    
console.log( "-----  end of module -----" );
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\02 realpath() realpathSync() realpath.native() realpathSync.native() TEST> node main  
        realpathSync() resolved path = D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\02 realpath() realpathSync() realpath.native() realpathSync.native() TEST\testFile
        realpathSync.native() resolved path = D:\Safe\CODE +\My Site\03 Improuve\Learn WebDesign\04 Node.js\File System\05 File Management\02 realpath() realpathSync() realpath.native() realpathSync.native() TEST\testFile
        -----  end of module -----
        realpath.native() resolved path = D:\Safe\CODE +\My Site\03 Improuve\Learn WebDesign\04 Node.js\File System\05 File Management
        realpath() resolved path = D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\02 realpath() realpathSync() realpath.native() realpathSync.native() TEST
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\02 realpath() realpathSync() realpath.native() realpathSync.native() TEST>
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>access()</mark> / <mark>accessSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
    fs.chmodSync('testFile', 0o400)                                                    // file is read-only 
    
    fs.accessSync('testFile', 1);                                                      // on windows this falls back to 0 (no error thrown = file is visible);
    
    fs.access('testFile', 2|4, function(err){                                          // tests for read and write acces 
        console.log(err);                                                              // no writing permission = error is thrown 
    });
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\03 access() accessSync() TEST> node main       
        [Error: EPERM: operation not permitted, access 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\03 access() accessSync() TEST\testFile'] {
        errno: -4048,
        code: 'EPERM',
        syscall: 'access',
        path: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\03 access() accessSync() TEST\\testFile'
        }
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\03 access() accessSync() TEST>     
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>chmod()</mark> / <mark>chmodSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// program checks the file for writting condition, if the file is read-only changes the permission to read-write 
    fs.access('testFile', 2|4, function(err){
        if(err) {
            console.log(err);
            console.log( 'file access permission changed to READ-WRITE' );
            fs.chmod('testFile', 0o666, (err) => { if(err) console.log(err); });      // asynchronously changes the file access permission to read-write
        }
    });
    
// -----------------------------------------------------------------------------------
    fs.chmodSync('testFile2', 0o444);                                                 // synchronously changes the file access permission to read-only 
    
    fs.access('testFile2', fs.constants.W_OK, function(err){
        if(err) console.log(err);
    });
    
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\04 chmod() chmodSync() TEST> node main    
// access permission changed to read-write -------------------------------------------
        [Error: EPERM: operation not permitted, access 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\04 chmod() chmodSync() TEST\testFile'] {
        errno: -4048,
        code: 'EPERM',
        syscall: 'access',
        path: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\04 chmod() chmodSync() TEST\\testFile'
        }
        file access permission changed to READ-WRITE
// access permission changed to read-only --------------------------------------------
        [Error: EPERM: operation not permitted, access 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\04 chmod() chmodSync() TEST\testFile2'] {
        errno: -4048,
        code: 'EPERM',
        syscall: 'access',
        path: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\04 chmod() chmodSync() TEST\\testFile2'
        }
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\04 chmod() chmodSync() TEST>     
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>chown()</mark> / <mark>chownSync()</mark> TEST </u></h4>
      <pre>
    var fs = require('fs');
    
    fs.chown('testFile.txt', 1500, 1500, function(err){
        if (err) console.log( err.message );
    });
    
    fs.chownSync('testFile2.txt', 1500, 1500);    
    </pre>
      <pre class="cmd">
pall@Ryzen:~/Documents/CodePlus/My Site/03 Improuve/Learn WebDesign/04 Node.js/File System/TEST$ sudo node main // -! sudo must be used 
pall@Ryzen:~/Documents/CodePlus/My Site/03 Improuve/Learn WebDesign/04 Node.js/File System/TEST$    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>chmod()</mark> TEST (on Linux) </u></h4>
      <pre>
    var fs = require('fs');
    
    fs.chmodSync('testFile.txt', 0744);                                                // synchronously changes the file access to 744 = rwxr--r--
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>rename()</mark> / <mark>renameSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// rename files -----------------------------------------------------------------------
    fs.renameSync('oldFile', 'newFile');                                               // synchronously renames the file 
    
    fs.rename('newFile', 'shinyFile', function(err){                                   // asynchronously renames the file 
        if(err) console.log(err);
    });
    
// rename directory -------------------------------------------------------------------
    fs.renameSync('oldDirectory', 'newDirectory');                                     // synchronously renames the directory
    
    fs.rename('newDirectory', 'shinyDirectory', function(err){                         // asynchronously renames the directory
        if(err) console.log(err);
    });
    
// move file and directory ------------------------------------------------------------
    fs.renameSync('fileMove', 'moveDir/fileMove');                                     // moves the file 
    
    fs.rename('dir1', 'moveDir/subDir', function(err){                                 // moves and renames the file (at the same time)
        if(err) console.log(err);
    });
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\05 rename() renameSync() TEST> node main          
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\05 rename() renameSync() TEST>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>copyFile()</mark> / <mark>copyFileSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    fs.copyFileSync('testFile1', 'someDir/file_A', 0);                                 // overrides the target file if exist (new file renamed)
        
    fs.copyFile('testFile2', 'someDir/file_B', 1, function(err){                       // throws an error if the file already exist (new file renamed)
        if(err) console.log(err);                                                      // error is thrown   
    });
        
    fs.copyFileSync('testFile3', 'someDir/file_C', 2);                                 // attempt to copy-on-write (if fails uses the default copy mechanism as    fallback = 0 (which is the case here))   
        
    fs.copyFile('testFile4', 'someDir/file_D', 4, function(err){                       // attempt to copy-on-write (if fials an error is thrown)   
        if(err) console.log(err);                                                      // error is thrown (no copy-on-write mechanism implemented)
    });
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\06 copyFile() copyFileSync() TEST> node main        
// ---------------- fs.copyFile('testFile2', 'someDir/file_B', 1, function(err){ if(err) console.log(err); });-------------------------------
        [Error: EEXIST: file already exists, copyfile 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\06 copyFile() copyFileSync() TEST\testFile2' -> 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\06 copyFile() copyFileSync() TEST\someDir\file_B'] {
        errno: -4075,
        code: 'EEXIST',
        syscall: 'copyfile',
        path: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\06 copyFile() copyFileSync() TEST\\testFile2',
        dest: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\06 copyFile() copyFileSync() TEST\\someDir\\file_B'
        }
// ---------------- fs.copyFile('testFile4', 'someDir/file_B', 4, function(err){ if(err) console.log(err); });-------------------------------
        [Error: ENOSYS: function not implemented, copyfile 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\06 copyFile() copyFileSync() TEST\testFile4' -> 'D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\06 copyFile() copyFileSync() TEST\someDir\file_D'] {
        errno: -4054,
        code: 'ENOSYS',
        syscall: 'copyfile',
        path: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\06 copyFile() copyFileSync() TEST\\testFile4',
        dest: 'D:\\safe\\code +\\My Site\\03 improuve\\learn webdesign\\04 node.js\\file system\\05 File Management\\06 copyFile() copyFileSync() TEST\\someDir\\file_D'
        }
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\06 copyFile() copyFileSync() TEST>     
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>unlink()</mark> / <mark>unlinkSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require("fs");
    
    fs.unlinkSync('testFile');                                                         // synchronously deletes the file  
    
    fs.unlink('symbLink', function(err){                                               // asynchronously deletes the symbolic-link    
        if(err) console.log(err);
    });
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\07 unlink() unlinkSync() TEST> node main    
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\05 File Management\07 unlink() unlinkSync() TEST>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>watch()</mark> method and <mark>FSWatcher</mark> object TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
    var watchObj = fs.watch('testDir', {recursive:true}, function(eventType, fileName){ // returns the fsWatcher object (also watches for subdirectory changes)    
        console.log( "callback fired! (event type = " + eventType + ", file name = " + fileName + ")" );
    });
    
// fsWatch object events --------------------------------------------------------------
    watchObj.on('change', function(eventType, fileName){                               // event fires on any change 
        console.log( 'change event fired! (event type = ' + eventType + ', file name = ' + fileName + ')' );
    });
        
    watchObj.on('error', function(err){                                                // event fires on error  
        if(err) console.log(err);
    });
        
    watchObj.on('close', function(){                                                   // event fires when the fsWatcher object is closed 
        console.log( 'close event fired!' );
    });
    
// stop watching ----------------------------------------------------------------------
    setTimeout(function(){
        watchObj.close();                                                              // closing the fsWatcher object after 10 seconds 
    }, 10000);
    
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\03 watch() FSWatcher TEST> node main    
        callback fired! (event type = change, file name = newDir\another File)         // subdirectory file modified 
        change event fired! (event type = change, file name = newDir\another File)
        callback fired! (event type = change, file name = newDir\another File)
        change event fired! (event type = change, file name = newDir\another File)
        close event fired!
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\03 watch() FSWatcher TEST>     
    </pre>
      <!--------------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>watchFile()</mark> / <mark>unwathcFile()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
    fs.watchFile('testFile', function(current, previous){                              // watching a file 
        console.log( current.size );
        console.log( previous.size );
        fs.unwatchFile('testFile');                                                    // close the watch after the first modification
    });
    
    fs.watchFile('testFolder', function(current, previous){                            // -! we can watch folders too but it is far less effective than the 'watch()' method 
        console.log( current.size );
        console.log( previous.size );   
        fs.unwatchFile('testFolder');                                                  // close the watch after the first modification
    });
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\04 watchFile() unwatchFile() TEST> node main       
// testFile --------------------------------------------------------------------------
        3                                                                             // -! current.size
        2                                                                             // -! previous size 
// testFolder ------------------------------------------------------------------------
        0                                                                             // -! current.size
        0                                                                             // -! previous size
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\04 watchFile() unwatchFile() TEST>    
    </pre>
      <!--------------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>unwathcFile()</mark> multiple listeners TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// listeners ------------------------------------------------------------------------
    var listener1 = function(current, previous){
        console.log( 'listener1 fired! (current size = ' + current.size + ', previous size = ' + previous.size + ')' );
    }
    
    var listener2 = function(current, previous){
        console.log( 'listener2 fired! (current size = ' + current.size + ', previous size = ' + previous.size + ')' );
    }
    
// watch file ------------------------------------------------------------------------
    fs.watchFile('testFile', {interval:2000}, listener1);
    fs.watchFile('testFile', {interval:2000}, listener2);
    
// unwatch file ----------------------------------------------------------------------
    fs.unwatchFile('testFile', listener1);                                            // only the 'listener1' watcher listener is removed from watching (the 'listener2' is still watching)    
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\05 unwatchFile() multiple listeners TEST> node main     
        listener2 fired! (current size = 4, previous size = 9)                        // file modified twice (listener2 watches only)  
        listener2 fired! (current size = 6, previous size = 4)    
    </pre>
      <!--------------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>StatWatcher</mark> / <mark>unref()</mark> / <mark>ref()</mark> TEST </u></h4>
      <pre>
    var fs = require('fs');
    
    var statWatcher_1 = fs.watchFile('./testFile.txt', function(curent, new_){         // watches the file (returns the StatWatcher of this watch) 
        console.log( curent );                                                         // when this method watches a file it keeps the process alive   
        console.log( new_ );
    });
    
    setTimeout(function(){
        statWatcher_1.unref();                                                         // this statWatcher not prevent the process from closing 
        statWatcher_1.ref();                                                           // (re)attached to the event loop so it prevents the process from closing 
        statWatcher_1.unref();                                                         // again this statWatcher not prevent the process from closing 
    }, 10000);    
    </pre>
      <!--------------------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>stat()</mark> / <mark>statSync()</mark> / <mark>fstat()</mark> / <mark>fstatSync()</mark> / <mark>lstat()</mark> / <mark>lstatSync()</mark> TEST </u></h4>
      <pre style="margin-bottom:1px;">
    const fs = require('fs');
    
// stat() / statSync() ------------------------------------------------------------------
    fs.stat('testFile', function(err, statObj){
        if(err) console.log(err);
        console.log( "stat() file size = " + statObj.size );
    });
    
    console.log( "statSync() file size = " + fs.statSync('testFile').size );
    
// fstat() / fstatSync() ----------------------------------------------------------------
    var fd = fs.openSync('testFile');
    
    fs.fstat(fd, {bigint:true}, function(err, statsObj){
        if(err) console.log(err);
        console.log( "fstat() file size = " + statsObj.size );
        fs.closeSync(fd);
    });
    
    console.log( "fstatSync() file size = " + fs.fstatSync(fd).size );
    
// lstat() / lstatSync() -------------------------------------------------------------------
    fs.lstat('symbolicLinkTest', function(err, statsObj){
        if(err) console.log(err);
        console.log( "lstat() symbolic-link size = " + statsObj.size );                     // points to the symbolic-link NOT to the file 
    });
    
    console.log( "lstat() symbolic-link size = " + fs.lstatSync('symbolicLinkTest').size ); // points to the symbolic-link NOT to the file
    
console.log( "----- end of module -----" );    
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\06 stat() statSync() fstat() fstatSync() lstat() lstatSync() TEST> node main                                                       
        statSync() file size = 823
        fstatSync() file size = 823
        lstat() symbolic-link size = 10
        ----- end of module -----
        stat() file size = 823
        fstat() file size = 823
        lstat() symbolic-link size = 10
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\06 stat() statSync() fstat() fstatSync() lstat() lstatSync() TEST>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>utimes()</mark> / <mark>utimesSync()</mark> / <mark>futimes()</mark> / <mark>futimesSync()</mark> TEST </u></h4>
      <p style="color:yellow;"> - the <mark>utimes()</mark> method works just fine as it is specified [TESTED : 2019-10-02], but in this situation (below) along with the <mark>futimesSync()</mark> method it just does not modifies the expected data for some reasons</p>
      <p style="color:yellow;"> - maybe the <mark>f</mark> versions of these methods override the normal <mark>utimes()</mark> and <mark>utimesSync()</mark> methods? (bug?) </p>
      <pre style="margin-bottom:1px;">
        const fs = require('fs');
    
    var fd = fs.openSync('testFile', 'rs+');
    var dateNow = new Date();
    
    console.log( "original acces time = " + fs.statSync('testFile').atimeMs );
    console.log( "original modify time = " + fs.statSync('testFile').mtimeMs );
    
// utimesSync() -----------------------------------------------------------------------
    fs.utimesSync('testFile', 1500000000, 1400000000);                                 // POSIX Epoch time 
                                
    console.log( "utimesSync access time = " + fs.statSync('testFile').atimeMs );
    console.log( "utimesSync modified time = " + fs.statSync('testFile').mtimeMs );
    
// futimesSync() ----------------------------------------------------------------------
    fs.futimesSync(fd, '1000000000', '999999999');                                     // using string 
    
    console.log( "futimesSync access time = " + fs.statSync('testFile').atimeMs );
    console.log( "futimesSync modified time = " + fs.statSync('testFile').mtimeMs );
    
// utimes() ---------------------------------------------------------------------------
    fs.utimes('testFile', 0, 0, function(err){                                         // asynchronously modified the file 
        if(err) console.log(err);                                                      // !! this method does not modify the time in this situation because I used another method with the file descritptor (Bug?)   
        console.log( "utimes access time = " + fs.statSync('testFile').atimeMs );
        console.log( "utimes modified time = " + fs.statSync('testFile').mtimeMs );
    });
    
// futimes() --------------------------------------------------------------------------
    fs.futimes(fd, dateNow, dateNow, function(err){                                    // using date 
        if(err) console.log(err);
        console.log( "futimes access time = " + fs.statSync('testFile').atimeMs );
        console.log( "futimes modified time = " + fs.statSync('testFile').mtimeMs );
    });
    
console.log( '----- end of module -----' );
    </pre>
      <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\07 utimes() utimesSync() futimes() futimesSync() TEST> node main  
        original acces time = 1570035525796
        original modify time = 1570035525796
        utimesSync access time = 1500000000000
        utimesSync modified time = 1400000000000
        futimesSync access time = 1000000000000
        futimesSync modified time = 999999999000
        ----- end of module -----
        futimes access time = 1570035566779
        futimes modified time = 1570035566779
        utimes access time = 1570035566779                                            // !! in this situation this method does not modify the data but works fine normally (I tested it) (bug?)    
        utimes modified time = 1570035566779
    PS D:\safe\code +\My Site\03 improuve\learn webdesign\04 node.js\file system\03 watching files\07 utimes() utimesSync() futimes() futimesSync() TEST>    
    </pre>
      <!----------------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>lutimes()</mark> / <mark>lutimesSync()</mark> TEST </u></h4>
      <p style="color:yellow"> - in this test [2020-07-11] these methods does NOT modify the atime and mtime of the symbolic-links as supposed to they do, however the original file's time is not modified either </p>
      <pre>
    var fs = require('fs');

    fs.lutimes('./sym', 1000, 1000, function(err){
        if(err) console.log( err.message );
    });

    fs.lutimesSync('./sym2', 1000, 1000);
    </pre>
    </details>

    <br><br>
  </body>

</html>