<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title> Zlib </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
  </head>
  <body>
    <h1> Zlib </h1>
    <p> Updated ( 2021-01-07 / 2022-02-12 / 2025-03-27 )</p>
    <nav class="sitenav">
      <a href="../../index.html">MySite > </a>
      <a href="../index.html">Node.js > </a> Zlib
    </nav>
    <table class="table">
      <tr>
        <th style="width:30%;"> Property </th>
        <th> Description </th>
      </tr>
      <tr>
        <td> <strong>zlib</strong>.constants </td>
        <td> - returns an object containing the zlib module's constants
          <span class="browserSupport" title="updated : 2021-01-08">
            <span><i class="fab fa-node-js"></i> 7 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.crc32(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <optval>crcChecksum:int</optval>)
        </td>
        <td>
          - computes a 32-bits Cryclic Redundancy Check checksum of the passed data, returns a <reqval>crcChecksum</reqval> (32 bits unsigned integer) <br>
          - the optional <optval>crcChecksum:int</optval> is used as prefix (if passed)
          <span class="browserSupport" title="updated : 2025-03-28">
            <span><i class="fab fa-node-js"></i> 22.2 / 20.15 </span>
          </span>
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption>
        GZIP and DEFLATE methods
      </caption>
      <tr>
        <th style="width:30%;"> Property </th>
        <th> Description </th>
      </tr>
      <tr>
        <td colspan="2"> compression Transform Streams </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createGzip(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that compresses data using GZIP algorithm
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createGunzip(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that decompresses data using GZIP algorithm
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createDeflate(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that compresses data using DECOMPRESS algorithm
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createInflate(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that decompresses data using DECOMPRESS algorithm
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createDeflateRaw(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that compresses data using <span class="openable">DEFLATE_RAW<div>
              <p> - normal decompress algorithm without <mark>zlib</mark> header </p>
            </div></span> algorithm
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createInflateRaw(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that decompresses data using <span class="openable">DEFLATE_RAW<div>
              <p> - normal decompress algorithm without <mark>zlib</mark> header </p>
            </div></span> algorithm
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createUnzip(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that decompresses data using GZIP or DEFLATE algorithm (autodetects the used algorithm)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td colspan="2"> compression methods </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.gzip(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <reqval>fn(err, data:buf)</reqval>) <br>
          <strong>zlib</strong>.gzipSync(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync compresses the passed data using GZIP compression algorithms
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.gunzip(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <strong class="openable">fn(err, data:buf)</strong>) <br>
          <strong>zlib</strong>.gunzipSync(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync decompresses the passed data using GZIP compression algorithms
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.deflate(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>)
          <strong>zlib</strong>.deflateSync(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync compresses the passed data using DEFLATE compression algorithms
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.inflate(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>) <br>
          <strong>zlib</strong>.inflateSync(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync decompresses the passed data using DEFLATE compression algorithms
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.deflateRaw(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>) <br>
          <strong>zlib</strong>.deflateRawSync(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync compresses the passed data using <span class="openable">DEFLATE_RAW<div>
              <p> - normal decompress algorithm without <mark>zlib</mark> header </p>
            </div></span> compression algorithms
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.inflateRaw(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>) <br>
          <strong>zlib</strong>.inflateRawSync(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync decompresses the passed data using <span class="openable">DEFLATE_RAW<div>
              <p> - normal decompress algorithm without <mark>zlib</mark> header </p>
            </div></span> compression algorithms
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.unzip(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>) <br>
          <strong>zlib</strong>.unzip(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-options" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync decompresses the passed data using GZIP or DEFLATE compression algorithms (autodetects the used compression) <br>
          - cannot decompress <span class="openable">DEFLATE_RAW<div>
              <p> - normal decompress algorithm without <mark>zlib</mark> header </p>
            </div></span> compressed data
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption>
        BROTLI methods
      </caption>
      <tr>
        <th style="width:30%;"> Property </th>
        <th> Description </th>
      </tr>
      <tr>
        <td colspan="2"> compression Transform Streams </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createBrotliCompress(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-brotlioptions" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that compresses data using BROTLI algorithm
          <span class="browserSupport" title="updated : 2021-01-09">
            <span><i class="fab fa-node-js"></i> 10.16.0 / 11.7.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.createBrotliDecompress(<a href="https://nodejs.org/docs/latest/api/zlib.html#class-brotlioptions" target="_blank">options:obj</a>)
        </td>
        <td>
          - creates and returns a <strong>compressTransformStream</strong> that decompresses data using BROTLI algorithm
          <span class="browserSupport" title="updated : 2021-01-09">
            <span><i class="fab fa-node-js"></i> 10.16.0 / 11.7.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td colspan="2"> compression methods </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.brotliCompress(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-brotlioptions" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>)
          <strong>zlib</strong>.brotliCompress(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-brotlioptions" target="_blank">options:obj</a>)
        </td>
        <td>
          - async|sync compresses the passed data using BROTLI compression algorithms
          <span class="browserSupport" title="updated : 2021-01-09">
            <span><i class="fab fa-node-js"></i> 11.7.0 / 10.16.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <strong>zlib</strong>.brotliDecompress(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-brotlioptions" target="_blank">options:obj</a>, <strong>fn(err, data:buf)</strong>) <br>
          <strong>zlib</strong>.brotliDecompress(<strong class="openable">str|...<div>
              <p> - <strong>buf</strong> (node Buffer) </p>
              <p> - <strong>TypedArray</strong> </p>
              <p> - <strong>DataView</strong> </p>
              <p> - <strong>ArrayBuffer</strong> </p>
            </div></strong>, <a href="https://nodejs.org/docs/latest/api/zlib.html#class-brotlioptions" target="_blank">options:obj</a>)
        </td>
        <td>
          - asynch|sync decompresses the passed data using BROTLI compression algorithms
          <span class="browserSupport" title="updated : 2021-01-09">
            <span><i class="fab fa-node-js"></i> 11.7.0 / 10.16.0 </span>
            <span class="openable"> more...<div>
                <p> 14.5.0 / 12.19.0 - option <mark>maxOutputLength</mark> supported </p>
              </div></span>
          </span>
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption>
        compression Transform Stream methods
      </caption>
      <tr>
        <th style="width:30%;"> Property </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          <strong>compressTransformStream</strong>.bytesWritten
        </td>
        <td>
          - returns the number of bytes written to the engine <u>(before the bytes are processed (compressed/decompressed))</u>
          <span class="browserSupport" title="updated : 2021-01-09">
            <span><i class="fab fa-node-js"></i> 10.0.0 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <strong>compressTransformStream</strong>.params(<strong>level:nr</strong>, <strong>strategy:nr</strong>, <i class="openable">fn<div>
              <p> - callback fires when the operation is finished </p>
            </div></i>)
        </td>
        <td>
          - dynamically updates the compression level and strategy of the <strong>compressTransformStream</strong> <u>(GZIP and DEFLATE compression only)</u>
        </td>
      </tr>
      <tr>
        <td>
          <strong>compressTransformStream</strong>.reset()
        </td>
        <td>
          - reset the compressor/decompressor to factory defaults (INFLATE & DEFLATE compression only)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>compressTransformStream</strong>.flush(<i class="openable">kind:nr<div>
              <p><b> Default: </b></p>
              <p> ZLIB and DEFLATE compress streams = <mark><strong>zlib</strong>.constants.Z_FULL_FLUS</mark> (<mark>3</mark>) </p>
              <p> BROTLIE compress streams = <mark><strong>zlib</strong>.constants.BROTLI_OPERATION_FLUSH</mark> (<mark>1</mark>) </p>
            </div></i>, <i class="openable">fn<div>
              <p> - callback called when the data is flushe form the compress stream internal buffer </p>
            </div></i>)
        </td>
        <td>
          - flushes the <u>pending compressed data</u> from the <span class="openable">zlib state<div>
              <p> - does not flush the data from the internal stream buffer </p>
              <p> - it does flush the zlib state! <u>so only the already compressed data is flushed out this way</u> </p>
            </div></span> (to the target stream) <u>(negatively affects the compression)</u>
        </td>
      </tr>
      <tr>
        <td>
          <strong>compressTransformStream</strong>.close(<i class='openable'>fn(err)<div>
              <p> - callback fires when the operation is done </p>
            </div></i>)
        </td>
        <td>
          - immediately closes the <strong>compressTransformStream</strong>
        </td>
      </tr>
    </table>
    <h2 class="headerSection"> Notes : </h2>
    <p> - [TESTED: 2021-01-09] I have no idea what the <mark>compressTransformStream.reset()</mark> does! (the docs says that resets a DEFLATE compress to factory settings but I can't see that!) <u>(It does not closes the stream, does not reset stream options, does not resets the byte counter) So what it does then? </u></p>
    <p> - Zstd compression algorithm support is comming but still experimental in v.23.8 </p>
    <h2 class="headerSection"> Useful Links : </h2>
    <p><a href="https://nodejs.org/docs/latest/api/zlib.html" target="_blank">Zlib (nodejs.org)</a></p>
    <h2 class="headerSection"> Remember This : </h2>
    <p> - <mark>brotli</mark> compression algorithm is superior to <mark>gzip</mark> and <mark>deflate</mark> algorithms </p>
    <p> - the <mark>deflateRaw</mark> is the same compression algorithm as <mark>deflate</mark> but without zlib header </p>
    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - the <mark>zlib</mark> module provides compression tools for compressing/decompressing data, it implements <mark>gzip</mark>, <mark>deflate</mark> and <mark>brotli</mark> (<mark>br</mark>) compression algorithms (as defined by HTTP) </p>
    <p> - this module provides 2 approaches for compression: </p>
    <p style="text-indent:30px;"> - compression Transform Stream (piping data though the compression Transform Stream) </p>
    <p style="text-indent:30px;"> - methods that return the compressed/decompressed data </p>
    <pre>
    var zlib = require('zlib');
    var fs = require('fs');
    var stream = require('stream');
    
// Using compression Transform Streams ------------------------------------------------
    var inFile = fs.createReadStream('inFile.txt');                                    // source file as readable stream 
    var outFile = fs.createWriteStream('outFile.txt')                                  // destination file as writable stream 
    
    var compStream = zlib.createGzip();                                                // compression Transform Stream (gzip)
    
    stream.pipeline(                                                                   // method pipes the data through the streams 
        inFile,
        compStream,                                                                    // compression Transform Stream compresses the data that flows throug here    
        outFile,
        function(err){ err } 
    );
    
// Using compression methods ----------------------------------------------------------
    zlib.gzip('data to compress', function(err, compData){
        compData;                                                                      // -> &lt;Buffer...&gt;      // the compressed data is returned here as node Buffer   
    });
    </pre>
    <h3 class="header"> The <mark>crc32()</mark> method </h3>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    import zlib from 'node:zlib';
    import { Buffer } from 'node:buffer';
    
    let crc = zlib.crc32('hello');                             // -> 907060870
    zlib.crc32('world', crc);                                  // -> 4192936109
    
    crc = zlib.crc32(Buffer.from('hello', 'utf16le'));        // -> 1427272415
    zlib.crc32(Buffer.from('world', 'utf16le'), crc);         // -> 4150509955
      </pre>
    </details>
    <hr>
    <!------------------------------------------------------------------------------------------------------------->
    <h2 class="headerExtra"><u> GZIP and DEFLATE compression </u></h2>
    <h3 class="header"> The <mark>createGzip()</mark> / <mark>createGunzip()</mark> / <mark>createDeflate()</mark> / <mark>createInflate()</mark> / <mark>createDeflateRaw()</mark> / <mark>createInflateRaw()</mark> / <mark>createUnzip()</mark> / <mark>gzip()</mark> / <mark>gzipSync()</mark> / <mark>gunzip()</mark> / <mark>gunzipSync()</mark> / <mark>deflate()</mark> / <mark>deflateSync()</mark> / <mark>inflate()</mark> / <mark>inflateSync()</mark> / <mark>deflateRaw()</mark> / <mark>deflateRawSync()</mark> / <mark>inflateRaw()</mark> / <mark>inflateRawSync()</mark> / <mark>unzip()</mark> / <mark>unzipSync()</mark> methods </h3>
    <details class="example">
      <summary> DEMO </summary>
      <h4 class="header"> GZIP compression/decompression </h4>
      <pre>
    var zlib = require('zlib');
    var fs = require('fs');
    var stream = require('stream');
    
    
// compression Transform Stream -------------------------------------------------------
// createGzip() / createGunzip() ------------------------------------------------------
    stream.pipeline(
        fs.createReadStream('inFile.txt'),
        zlib.createGzip({level:9}),                                                    // the compress GZIP transform stream compresses the data that flows through    
        fs.createWriteStream('outFile.txt'),
        function(err){        
            stream.pipeline(
                fs.createReadStream('outFile.txt'),
                zlib.createGunzip(),                                                   // decompresses the above compressed data 
                fs.createWriteStream('compress.txt'),
                function(err){ err }
            )
        }
    )
    
// compression methods ----------------------------------------------------------------
// gzip() / gunzip --------------------------------------------------------------------
    zlib.gzip('Some data for compression', {level:2}, function(err, compData){         // asynchronously compresses the passed data using gzip compression    
        compData;                                                                      // -> &lt;Buffer...&gt;         // the compressed data as node Buffer    
        
        zlib.gunzip(compData, function(err, deComp){                                   // asynchronously decompresses the above compressed data    
            deComp;                                                                    // -> &lt;Buffer...&gt;         // the decompressed data as node Buffer    
        })
    })
    
// gzipSync() / gunzipSync() ----------------------------------------------------------
    var compressedData = zlib.gzipSync('Some data for compression', {level:2});        // -> &lt;Buffer...&gt;          // synchronously compresses the passed data using GZIP and returns the compressed result in a Buffer    
    
    zlib.gunzipSync(compressedData);                                                   // -> &lt;Buffer...&gt;          // synchronously decompresses the above compressed data and returns the result in a Buffer    
      </pre>
      <hr>
      <!------------------------------------------------------------------------------------------------------------->
      <h4 class="header"> DEFLATE and DEFLATE_RAW compression/decompression </h4>
      <pre>
    var zlib = require('zlib');
    var fs = require('fs');
    var stream = require('stream');
    
    
// compression Transform Stream -------------------------------------------------------
// createDeflate() createInflate() ----------------------------------------------------
    stream.pipeline(
        fs.createReadStream('inFile.txt'),
        zlib.createDeflate(),                                                          // the compress DEFLATE transform stream compresses the data that flows through    
        fs.createWriteStream('outFile.txt'),
        function(err){        
            stream.pipeline(
                fs.createReadStream('outFile.txt'),
                zlib.createInflate(),                                                  // decompresses the above compressed data    
                fs.createWriteStream('compress.txt'),
                function(err){ err }
            )
        }
    )
    
// createDeflateRaw() createInflateRaw() ----------------------------------------------
    stream.pipeline(
        fs.createReadStream('inFile.txt'),
        zlib.createDeflateRaw(),                                                       // the compress DEFLATE_RAW transform stream compresses the data that flows through    
        fs.createWriteStream('outFile.txt'),
        function(err){        
            stream.pipeline(
                fs.createReadStream('outFile.txt'),
                zlib.createInflateRaw(),                                               // decompresses the above compressed data    
                fs.createWriteStream('compress.txt'),
                function(err){ err }
            )
        }
    )
    
// compression methods ----------------------------------------------------------------
// deflate() / inflate() --------------------------------------------------------------
    zlib.deflate('Some data for compression', function(err, compData){                 // asynchronously compresses the passed data using DEFLATE compression    
        compData;                                                                      // -> &lt;Buffer...&gt;         // the compressed data as node Buffer    
        
        zlib.inflate(compData, function(err, deComp){                                  // asynchronously decompresses the above compressed data    
            deComp;                                                                    // -> &lt;Buffer...&gt;         // the decompressed data as node Buffer    
        })
    })
    
// deflateRaw() / inflateRaw() --------------------------------------------------------
    zlib.deflateRaw('Some data for compression', function(err, compData){              // asynchronously compresses the passed data using DEFLATE_RAW compression    
        compData;                                                                      // -> &lt;Buffer...&gt;         // the compressed data as node Buffer    
        
        zlib.inflateRaw(compData, function(err, deComp){                               // asynchronously decompresses the above compressed data    
            deComp;                                                                    // -> &lt;Buffer...&gt;         // the decompressed data as node Buffer    
        })
    })
    
// deflateSync() / inflateSync() ------------------------------------------------------
    var compressedData = zlib.deflateSync('Some data for compression');                // -> &lt;Buffer...&gt;         // synchronously compresses the passed data using DEFLATE and returns the compressed result in a Buffer    
    
    zlib.inflateSync(compressedData);                                                  // -> &lt;Buffer...&gt;         // synchronously decompresses the above compressed data and returns the result in a Buffer    
    
// deflateRawSync() / inflateRawSync() ------------------------------------------------
    var compressedData = zlib.deflateRawSync('Some data for compression');             // -> &lt;Buffer...&gt;         // synchronously compresses the passed data using DEFLATE_RAW and returns the compressed result in a Buffer    
    
    zlib.inflateRawSync(compressedData);                                               // -> &lt;Buffer...&gt;         // synchronously decompresses the above compressed data and returns the result in a Buffer    
      </pre>
      <hr>
      <!------------------------------------------------------------------------------------------------------------->
      <h4 class="header"> GZIP and DEFLATE decompression </h4>
      <pre>
    var zlib = require('zlib');
    var fs = require('fs');
    var stream = require('stream');
    
// compression Transform Stream -------------------------------------------------------
// createUnzip() ----------------------------------------------------------------------
    var compGzip = stream.Readable.from(gzipCompressed);                               // GZIP compressed data 
    var compDeflate = stream.Readable.from(deflateCompressed);                         // DEFLATE compressed data
    var compDeflateRaw = stream.Readable.from(deflateRawCompressed);                   // DEFLATE_RAW compressed data
    
    stream.pipeline(
        compGzip, 
        zlib.createUnzip(),                                                            // autodetects and decompresses the GZIP compressed data flowing through    
        fs.createWriteStream('outFile.txt'), 
        function(err){ err }
    ); 
    
    stream.pipeline(
        compDeflate, 
        zlib.createUnzip(),                                                            // autodetects and decompresses the DEFLATE compressed data flowing through    
        fs.createWriteStream('outFile.txt'), 
        function(err){ err }
    ); 
    
    stream.pipeline(
        compDeflateRaw, 
        zlib.createUnzip(), 
        fs.createWriteStream('outFile.txt'), 
        function(err){ err }                                                           // -> Error               // -! this method cannot decompres DEFLATE_RAW compressed data   
    ); 
    
// compression method -----------------------------------------------------------------
// unzip() ----------------------------------------------------------------------------
    zlib.unzip(compGzip, function(err, data){                                          // asynchronously autodetects and decompresses the GZIP compressed data   
        data;                                                                          // -> &lt;Buffer...&gt;         // the decompressed data as node Buffer   
    });
    
    zlib.unzip(compDeflate, function(err, data){                                       // asynchronously autodetects and decompresses the DEFLATE compressed data   
        data;                                                                          // -> &lt;Buffer...&gt;         // the decompressed data as node Buffer   
    });
    
    zlib.unzip(compDeflateRaw, function(err, data){                                    // -! this method cannot decompres DEFLATE_RAW compressed data   
        err;                                                                           // -> Error   
    });
    
// unzipSync() ------------------------------------------------------------------------
    zlib.unzipSync(compGzip);                                                          // -> &lt;Buffer...&gt;          // synchronously autodetects and decompresses the GZIP compressed data and return the result in a node Buffer    
    
    zlib.unzipSync(compDeflate);                                                       // -> &lt;Buffer...&gt;          // synchronously autodetects and decompresses the DEFLATE compressed data and return the result in a node Buffer    
    
    zlib.unzipSync(compDeflateRaw);                                                    // -> Error                // -! this method cannot decompres DEFLATE_RAW compressed data   
      </pre>
    </details>
    <hr>
    <!------------------------------------------------------------------------------------------------------------->
    <h2 class="headerExtra"><u> BROTLI compression </u></h2>
    <h3 class="header"> The <mark>createBrotliCompress()</mark> / <mark>createBrotliDecompress()</mark> / <mark>brotliCompress()</mark> / <mark>brotliCompressSync()</mark> / <mark>brotliDecompress()</mark> / <mark>brotliDecompressSync()</mark> methods </h3>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    var zlib = require('zlib');
    var fs = require('fs');
    var stream = require('stream');
    
    
// compression Transform Stream -------------------------------------------------------
// createBrotliCompress() / createBrotliDecompress() ----------------------------------
    stream.pipeline(
        fs.createReadStream('inFile.txt'),
        zlib.createBrotliCompress(),                                                   // the compress BROTLI transform stream compresses the data that flows through    
        fs.createWriteStream('outFile.txt'),
        function(err){        
            stream.pipeline(
                fs.createReadStream('outFile.txt'),
                zlib.createBrotliDecompress(),                                         // decompresses the above compressed data 
                fs.createWriteStream('compress.txt'),
                function(err){ err }
            )
        }
    )
    
// compression methods ----------------------------------------------------------------
// brotliCompress() / brotliDecompress() ----------------------------------------------
    zlib.brotliCompress('Some data for compression', function(err, compData){          // asynchronously compresses the passed data using brotli compression    
        compData;                                                                      // -> &lt;Buffer...&gt;         // the compressed data as node Buffer    
        
        zlib.brotliDecompress(compData, function(err, deComp){                         // asynchronously decompresses the above compressed data    
            deComp;                                                                    // -> &lt;Buffer...&gt;         // the decompressed data as node Buffer    
        })
    })
    
// brotliCompressSync() / brotliDecompressSync() --------------------------------------
// gzipSync() / gunzipSync() ----------------------------------------------------------
    var compressedData = zlib.brotliCompressSync('Some data for compression');         // -> &lt;Buffer...&gt;          // synchronously compresses the passed data using BROTLI and returns the compressed result in a Buffer    
    
    zlib.brotliDecompressSync(compressedData);                                         // -> &lt;Buffer...&gt;          // synchronously decompresses the above compressed data and returns the result in a Buffer    
      </pre>
    </details>
    <hr>
    <!------------------------------------------------------------------------------------------------------------->
    <h2 class="headerExtra"><u> compression Transform Stream methods </u></h2>
    <h3 class="header"> The <mark>bytesWritten</mark> / <mark>params()</mark> / <mark>close()</mark> / <mark>flush()</mark> property and methods </h3>
    <p> - these methods can affect the <mark>compressTransformStream</mark>, they are inherited from the <mark>stream.Transform</mark> (not exported by the <mark>zlib</mark> module) </p>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    var zlib = require('zlib');
    var fs = require('fs');
    
    fs.createReadStream('inFile.txt')
        .pipe( zlib.createDeflate() )
        .pipe( fs.createWriteStream('outFile.txt') );
    
// bytesWritten -----------------------------------------------------------------------
    compressDeflate.bytesWritten;                                                      // -> 0      // bytes writted to the compress Transform Stream so far (before compression/decompression)    
    
// params() ---------------------------------------------------------------------------
    compressDeflate.params(2, 1, function(){ })                                        // changes the level and strategy options on the fly (callback fires when the changes are done)   
    
// close() ----------------------------------------------------------------------------
    compressDeflate.close(function(){ });                                              // immediately closes the compress Transform Stream (callback fires when the stream is closed)    
    
// flush() ----------------------------------------------------------------------------
    compressDeflate.flush(function(){ });                                              // flushes the compressed data to the target stream 
                                                                                       // -! affect the performance, used in situations where the target stream must have the data as soon as possible    
    </pre>
    </details>

    <br><br>
  </body>
</html>
