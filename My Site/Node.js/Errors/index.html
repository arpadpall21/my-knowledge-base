<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title> Errors </title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
    integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="../../Assets/stylesPages.css">
  <script src="../../Assets/scriptPages.js"></script>
</head>

<body>
  <h1> Errors </h1>
  <p> Updated ( 2019-08-06 / 2023-04-04 )</p>
  <p class="sitenav"> <a href="../../index.html">MySite></a>
    <a href="../index.html">Node.js></a> Errors
  </p>
  <table class="table">
    <caption>
      <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
    </caption>
    <tr>
      <th> Error Class / properties </th>
      <th> Description </th>
    </tr>
    <tr class='05.01'>
      <td> AssertionError </td>
      <td>
        - indicates the failure of an assertion <a href="../Assert/index.html" target="_blanc"><mark>(assert</mark>
          module [link])</a>
      </td>
    </tr>
    <tr class='10.01'>
      <td> Error </td>
      <td>
        - general error does not denote any specific circumstances <br>
        - all other error classes are instances of this class
      </td>
    </tr>
    <tr class='10.02'>
      <td class='indented'> <em>Error</em>.stackTraceLimit </td>
      <td> 
        - gets or sets the number of stack frames of the stack trace
      </td>
    </tr>
    <tr class='10.03'>
      <td class='indented'> <strong>error</strong>.code </td>
      <td> 
        - identifies the kind of error (stable property according to Node.js specification)
      </td>
    </tr>
    <tr class='10.04'>
      <td class='indented'> <strong>error</strong>.message </td>
      <td> 
        - message description
      </td>
    </tr>
    <tr class='10.05'>
      <td class='indented'> <strong>error</strong>.stack </td>
      <td> 
        - describes the point in the code which the error was instantained
      </td>
    </tr>
    <tr class='15.01'>
      <td> RangeError </td>
      <td> 
        - indicates that the provided argument is not within the acceptable range
      </td>
    </tr>
    <tr class='20.01'>
      <td> ReferenceError </td>
      <td> 
        - indicates the attempt to access an undefined variable
      </td>
    </tr>
    <tr class='25.01'>
      <td> SyntaxError </td>
      <td> 
        - indiates that the program (script) is not a valid JavaScript code
      </td>
    </tr>
    <tr class='30.01'>
      <td> SystemError </td>
      <td> 
        - system error occured in the runtime environment
      </td>
    </tr>
    <tr class='30.02'>
      <td class='indented'> <strong>systemError</strong>.address </td>
      <td> 
        - describes the adderss to which a network connection failed
      </td>
    </tr>
    <tr class='30.03'>
      <td class='indented'> <strong>systemError</strong>.code </td>
      <td> 
        - specifies the error code
      </td>
    </tr>
    <tr class='30.04'>
      <td class='indented'> <strong>systemError</strong>.dest </td>
      <td> 
        - file path destination when reporting a file system error
      </td>
    </tr>
    <tr class='30.05'>
      <td class='indented'> <strong>systemError</strong>.errno </td>
      <td> 
        - error number
      </td>
    </tr>
    <tr class='30.06'>
      <td class='indented'> <strong>systemError</strong>.info </td>
      <td> 
        - error condition details
      </td>
    </tr>
    <tr class='30.07'>
      <td class='indented'> <strong>systemError</strong>.message </td>
      <td> 
        - error description
      </td>
    </tr>
    <tr class='30.08'>
      <td class='indented'> <strong>systemError</strong>.path </td>
      <td> 
        - file path when reporting a file system error
      </td>
    </tr>
    <tr class='30.09'>
      <td class='indented'> <strong>systemError</strong>.port </td>
      <td> 
        - network connection port that is not available
      </td>
    </tr>
    <tr class='30.10'>
      <td class='indented'> <strong>systemError</strong>.syscall </td>
      <td> 
        - the name of the system call that triggered the error
      </td>
    </tr>
    <tr class='35.01'>
      <td> TypeError </td>
      <td> 
        - indicates that the provided argument is not an allowable type
      </td>
    </tr>
  </table>
  <h2 class="headerSection"> Notes : </h2>
  <details class="example" id="notes">
    <summary> Notes :</summary>
  </details>
  <h2 class="headerSection"> Useful Links : </h2>
  <p><a href="https://nodejs.org/dist/latest-v12.x/docs/api/errors.html" target="_blanc"> Node.js Errors </a></p>
  <p><a href="https://nodejs.org/dist/latest-v12.x/docs/api/debugger.html" target="_blanc"> Node.js Debugger </a></p>
  <h2 class="headerSection"> Remember This : </h2>
  <p> - Node.js fllows an idomatic pattern referred to as an error-first callback, this means most asynchronous methods'
    callback function's first argument is the thrown exception </p>
  <h2 class="headerSection"> Description and Demonstration : </h2>
  <p> - an application running in Node.js experiences 4 categories of errors </p>
  <ul style="margin:0;">
    <li> Standar JavaScript errors (like SyntaxError / RangeError / RefferenceError / ect...) </li>
    <li> System errors triggered by the underlying OS (like attempt to open an unexisting file ect...) </li>
    <li> User specified errors tirggered by an application code (manually thrown) </li>
    <li> <mark>AssertionError</mark>s <a href="../Assert/index.html" target="_blanc"><mark>(assert</mark> module
        [link])</a> </li>
  </ul>
  <p> - all JavaScript and System errors are instances of the <mark>Error</mark> class </p>
  <p> - an <u><b>error</b></u> is an error object, an <u><b>exception</b></u> is a value (any) what is thrown by the
    <mark>throw</mark> statement
  </p>
  <p> - JavaScript generates an error object an uses the <mark>throw</mark> statement in order to throw the exception
  </p>
  <hr>
  <!---------------------------------------------------------------------------------------------------------------------->
  <h2 style="color:darkblue;"><u> Synchronous Error Interception </u></h2>
  <p> - the <mark>try ...catch</mark> statement can intercept <u>synchronously generated exceptions</u> and handle it,
    using the <mark>throw</mark> statement outside the <mark>try ...catch</mark> statements will crash the process</p>
  <pre>
    try{
        throw 'myException1';                                                    // throwing an exception in the 'try' statement 
    } catch(err) {                                                                  
        err;                                                                     // -> 'myException1'   // handling exception 
    }
    throw 'myException2';                                                        // using the 'throw' statement outside <mark>try ...catch</mark> crashes the process (error bubbled up to top level)
    </pre>
  <h2 style="color:darkblue;"><u> Aynchronous Error Interception </u></h2>
  <p> - throwing <u>an asynchronously generated exception</u> in the <mark>try ...catch</mark> statement won't work
    because the <mark>try ...catch</mark> block is already exited </p>
  <pre>
    const fs = require('fs');
    var writeStream = fs.createWriteStream('write.txt');
    
    writeStream.destroy(Error('stream destroyed!'), function(error){             // async error 
        try {                                                                    // <mark>try ...catch</mark> doesn't work on async operations   
            throw error
        } catch(e) {
            console.error(e);                                                    // -! ignored
        }
    });
    </pre>
  <p> - in asynchronous methods Node.js follows an idomatic pattern referred to as an <u>error-first callback</u>, this
    means that most async method callback function's first argument is the thrown exception </p>
  <pre>
    const fs = require('fs');
        
    fs.readFile('read.txt', function(err, data){                                 // 'err' first argument in the callback returns the thrown exception if any  
        err;                                                                     // -> thrown exception | null        // asynchronously thrown excepton is returned here (otherwise null)   
        data;                                                                    // -> read data is returned here 
    }); 
    </pre>
  <p> - any instances of the <mark>EventEmitter</mark> class can use the <mark>error</mark> event to intercept
    synchronously or asynchronously thrown exceptions </p>
  <pre>
    const fs = require('fs');
    var writeStream = fs.createWriteStream('write.txt');
    
    writeStream.on('error', function(err){                                       // listener listens to an execption thrown by the 'writeStream' object 
        err;                                                                     // -> thrown exception  
    });
    </pre>
  <details class="example">
    <summary> Exaple : </summary>
    <h3 style="color:darkblue;"><u> error-fist callback TEST </u></h3>
    <pre style="margin-bottom:1px;">
    const fs = require('fs');
        
    fs.readFile('read.txt', function(err, data){
        console.log(err);                                                        // -> null                     // no error raised 
        console.log(data);                                                       // -> &lt;Buffer ...... &gt;         // data returned
    }); 
        
    fs.readFile('noFile.txt', function(err, data){
        console.log(err);                                                        // -> Error thrown             // thrown exception 
        console.log(data);                                                       // -> undefined                // no data available 
    });
        
    console.log( "end of module!" );    
    </pre>
    <pre class="cmd" style="margin-top:1px;">
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\errors and debugger\01 error-first callback TEST> node main
        end of module!                                                           // -! last synchronous line (all further execution is asynchronous)   
        [Error: ENOENT: no such file or directory, open 'D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\errors and debugger\01 error-first callback TEST\noFile.txt'] {      // -! 1st argument in the 2nd 'readFile' callback (error thrown)  
        errno: -4058,
        code: 'ENOENT',
        syscall: 'open',
        path: 'D:\\safe\\code +\\my site\\03 improuve\\learn webdesign\\04 ' +
            'node.js\\errors and debugger\\01 error-first callback ' +
            'TEST\\noFile.txt'
        }
        undefined                                                                // -! 2nd argument in the 2nd 'readFile' callback (no available data) 
        null                                                                     // -! 1st argument in the 1st 'readFile' callback (no exception thrown)
        &lt;Buffer 44 61 74 61 20 74 6f 20 72 65 61 64 21&gt;                          // -! 2nd argument in the 1st 'readFile' callback (read data)  
    PS D:\safe\code +\my site\03 improuve\learn webdesign\04 node.js\errors and debugger\01 error-first callback TEST>    
    </pre>
    <hr>
    <!------------------------------------------------------------------------------------------------------>
  </details>

  <br><br>
</body>

</html>