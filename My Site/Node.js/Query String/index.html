<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title> Query String </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
  </head>
  <body>
    <h1> Query String </h1>
    <p> Updated: ( 2019-09-09 / 2020-11-21 / 2022-01-31 / 2025-03-22 )</p>
    <nav class="sitenav">
      <a href="../../index.html">MySite > </a>
      <a href="../index.html">Node.js > </a> Query String
    </nav>
    <pre class="syntax">
    <span style="color:deepskyblue;">┌────────────────────────────────────────────────────────────────────────────────────────────────┐</span>
    <span style="color:deepskyblue;">│                                              href                                              │</span>
    <span style="color:deepskyblue;">├──────────┬──┬─────────────────────┬────────────────────────┬───────────────────────────┬───────┤</span>
    <span style="color:deepskyblue;">│ protocol │  │        auth         │          host          │           path            │ hash  │</span>
    <span style="color:deepskyblue;">│          │  │                     ├─────────────────┬──────┼──────────┬────────────────┤       │</span>
    <span style="color:deepskyblue;">│          │  │                     │    hostname     │ port │ pathname │     search     │       │</span>
    <span style="color:deepskyblue;">│          │  │                     │                 │      │          ├─┬──────────────┤       │</span>
    <span style="color:deepskyblue;">│          │  │                     │                 │      │          │ │    query     │       │</span>
    "  https:   //    user   :   pass   @ sub.example.com : 8080   /p/a/t/h  ?  query=string   #hash "
    <span style="color:deepskyblue;">│          │  │          │          │    hostname     │ port │          │                │       │</span>
    <span style="color:deepskyblue;">│          │  │          │          ├─────────────────┴──────┤          │                │       │</span>
    <span style="color:deepskyblue;">│ protocol │  │ username │ password │          host          │          │                │       │</span>
    <span style="color:deepskyblue;">├──────────┴──┼──────────┴──────────┼────────────────────────┤          │                │       │</span>
    <span style="color:deepskyblue;">│  origin     .                     .         origin         │ pathname │     search     │ hash  │</span>
    <span style="color:deepskyblue;">└─────────────┴─────────────────────┴────────────────────────┴──────────┴────────────────┴───────┘</span>
    </pre>
    <br>
    <table class="table">
      <caption>
        <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
      </caption>
      <tr>
        <th style="width:30%;"> Method </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          <strong>querystring</strong>.parse(<strong>querystring:str</strong> <a href="https://nodejs.org/docs/latest/api/querystring.html#querystringparsestr-sep-eq-options" target="_blank">args...</a>) <br>
          <strong>querystring</strong>.decode(<strong>querystring:str</strong> <a href="https://nodejs.org/docs/latest/api/querystring.html#querystringparsestr-sep-eq-options" target="_blank">args...</a>)
        </td>
        <td>
          - interpretes the passed string as a query string, returns an object with the query strings key/value pairs 
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>querystring</strong>.stringify(<strong>querystring:obj</strong>, <a href="https://nodejs.org/docs/latest/api/querystring.html#querystringstringifyobj-sep-eq-options" target="_blank">args...</a>) <br>
          <strong>querystring</strong>.encode(<strong>querystring:obj</strong>, <a href="https://nodejs.org/docs/latest/api/querystring.html#querystringstringifyobj-sep-eq-options" target="_blank">args...</a>)
          
        </td>
        <td>
          - parses the passed <reqval>querystring:obj</reqval> into a URL-safe querystring <reqval>str</reqval> (internally uses <mark>querystring.escape()</mark>)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> <strong>querystring</strong>.escape(<strong>str</strong>) </td>
        <td>
          - url encodes all non url-safe and <u>reserved characters</u> (used to url encode url parts) (internally uses <mark>encodeURIComponent()</mark>)
        </td>
      </tr>
      <tr>
        <td> <strong>querystring</strong>.unescape(<strong>str</strong>) </td>
        <td>
          - decodes the previously encoded <mark>escape()</mark> into human readable format
        </td>
      </tr>
    </table>
    <h2 class="headerSection"> Notes : </h2>
    <details class="example" id="notes">
      <summary> Notes :</summary>
      <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
    <h2 class="headerSection"> Useful Links : </h2>
    <p><a href="https://nodejs.org/docs/latest/api/querystring.html" target="_blanc">Query String (node.js.org)</a></p>
    <h2 class="headerSection"> Remember This : </h2>

    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - the <mark>querystring</mark> module provides methods to work with URL querystrings </p>
    <pre>
    import querystring from 'node:querystring';
    
    const querystringObj = querystring.parse('chinese=ሖሌቃኜ&russian=ՄՋԤԪԡ&symbols=©֎۝۩');
      // output:
      // {
      //   chinese: 'ሖሌቃኜ',
      //   russian: 'ՄՋԤԪԡ',
      //   symbols: '©֎۝۩'
      // }
    
    querystring.stringify(querystringObj);                    // -> 'chinese=%E1%88%96%E1%88%8C%E1%89%83%E1%8A%9C&russian=%D5%84%D5%8B%D4%A4%D4%AA%D4%A1&symbols=%C2%A9%D6%8E%DB%9D%DB%A9'
                                                              // string can be passed as valid URL query string
    
    
// escape() / unescape() ---------------------
    const allURLSafe = querystring.escape('chinese=ሖ&russian=Մ');                                 // -> 'chinese%3D%E1%88%96%26russian%3D%D5%84'       // also encodes reserved characters
    querystring.unescape(allURLSafe);                                                     // -> 'chinese=ሖ&russian=Մ'
    </pre>
    <br><br>
  </body>
</html>
