<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title> JS basics</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
    <script>
        function function_head(){
            document.getElementById('head_JS').innerHTML = 'Paragraph Changed'
        }
    </script>
  </head>
  <body>
    <h1> JavaScript Basics </h1>
    <p> Updated ( 2017-05-26 / 2018-06-26 / 2025-03-06 )</p>
    <nav class="sitenav">
      <a href="../../index.html">MySite > </a>
      <a href="../index.html">JavaScript > </a> Basics
    </nav>
    <br>
    <details class="example" id="notes">
      <summary> Notes :</summary>
    </details>
    <h2 style="color:green;"><u> Useful Links : </u></h2>
    <p><a href="https://www.w3schools.com/js/js_scope.asp" target="_blank">W3Schools JavaScript Scope </a></p>
    <h2 style="color:green;"><u> Remember This : </u></h2>
    <p> - in modern JavaScript avoid using the <mark>eval()</mark> and <mark>with()</mark>, they slows down your code because the way of JavaScript scopes work </p>
    <h2 style="color:green;"><u> Description and Demonstration: </u></h2>
    <p> - JavaScript is a single threaded high level object oriented programming language officialy ECMA-262, originally developed powers web browsers (by Brendan Eich) </p>
    <p> - JS send tasks to APIs <u>(they opperate on their own thread!)</u>, once APIs are finished they put the result in the "Callback Queue" </p>
    <p> - there are 2 calback queues in the browser JavaScript: </p>
    <p class="indent-lv1"> - <mark class="mark">microtask</mark>: handles promises <u>has higher precedence over macrotask</u> </p>
    <p class="indent-lv1"> - <mark class="mark">macrotask</mark>: handles all other async operations (DOM events, Ajax calls, etc...) </p>
    <p> - <mark class="mark">Event Loop</mark> : </p>
    <p class="indent-lv1"> - opperates between the call stack and the callback queue </p>
    <p class="indent-lv1"> - once the calls stack becomes empty JavaScript start watching the event loop for finished tasks and start executing them (one event loop execution is called <u>1 tick</u>) </p>
    <p class="indent-lv1"> - if the callback queue becomes empty the program ends </p>
    <img src="Event Loop.jpg" height="350px">
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 style="color:darkblue;"><u> Expressions and Statements </u></h2>
    <p> - an expression evaluates to a value, a statement does some kind of action </p>
    <pre>
    2 + 2;                                                                             // expression that returns a value (4)
    
    var x = 4;                                                                         // statement binds the 4 literal to the 'x' variable   
    </pre>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 style="color:darkblue;" id="prec_"><u> White space / line break / <mark>,</mark> (comma) / <mark>;</mark> (semicolon) / <mark>()</mark> expression grouping </u></h2>
    <pre class="syntax">
    <strong>whiteSpace|lineBreak</strong>                                                       // in JavaScript white spaces and line breaks are simply ignored  
    
    <strong>exp</strong>, <i>exp, ...</i>;                                                             // the comma separates expressions, all expressions are evaluated in the sequence and the last one is returned   
    
    <strong>statement</strong>;                                                                 // the semicolon indicates the end of a statement <u>(automatically assigned on new line character)</u>    
    
    (<strong>exp</strong>) <strong>exp</strong>                                                                  // the expression grouping is the highest operator in JavaScript   
    </pre>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    var                                                                                // white spaces are ignored in JavaScript (not Python)
        x 
        =       10;      
        
// ------------------------------------------------------------------------------------
    var x = 10                                                                         // semicolon omitted (not recommended but works)
    var y = 11;
    
// ------------------------------------------------------------------------------------
    var x;
    var y;
    
    x = 21, y = 22, 1 + 1;                                                             // -> 2      // all 3 expressions are evaluated and the last is returned  
    
    x;                                                                                 // -> 21
    y;                                                                                 // -> 22
    
// ------------------------------------------------------------------------------------
    2 + 2 * 2;                                                                         // -> 6      // the multiplication has higher precedence   
    (2 + 2) * 2;                                                                       // -> 8      // the addition is executed frist then the multiplication   
    </pre>

    </details>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> Declaring variables </h2>
    <table class="table">
      <tr>
        <th style="width:30%;"> Variable </th>
        <th> Description </th>
      </tr>
      <tr>
        <td> <strong>id</strong><i> = value</i> </td>
        <td>
          - (global variable) global scoped (<span style="color:green;">Reassignable</span> / <span style="color:green;">Redeclarable</span>) <br>
          - creates a property on the global object (no matter here declared) <br>
          - not hoisted <br>
          - <u>discouraged to use, in strict mode throws an error</u>
        </td>
      </tr>
      <tr>
        <td> var <strong>id</strong><i> = value</i> </td>
        <td>
          - global & function scoped (<span style="color:green;">Reassignable</span> / <span style="color:green;">Redeclarable</span>) <br>
          - creates a property on the current scope <br>
          - hoisted <br>
        </td>
      </tr>
      <tr>
        <td> let <strong>id</strong><i> = value</i> </td>
        <td>
          - block scoped <mark>{ }</mark> (<span style="color:green;">Reassignable</span> / <span style="color:orangered;">Not-Redeclarable</span>) <br>
          - does not create a property on the current scope <br>
          - not hoisted <br>
          <span id="browserSupport" title="updated: 2021-05-26">
            <span><i class="fab fa-chrome"></i> 48 </span>
            <span><i class="fab fa-firefox"></i> 44 </span>
            <span><i class="fab fa-opera"></i> 17 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 14 </span>
            <span><i class="fab fa-safari"></i> 10 </span>
            <span><i class="fab fa-node-js"></i> 6 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td> const <strong>id</strong><i> = value</i> </td>
        <td>
          - block scoped <mark>{ }</mark> (<span style="color:orangered;">Not-Reassignable</span> / <span style="color:orangered;">Not-Redeclarable</span>) <br>
          - does not create a property on the current scope <br>
          - not hoisted <br>
          <span id="browserSupport" title="updated: 2021-05-26">
            <span><i class="fab fa-chrome"></i> 21 </span>
            <span><i class="fab fa-firefox"></i> 36 </span>
            <span><i class="fab fa-opera"></i> 9 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 11 </span>
            <span><i class="fab fa-safari"></i> 5.1 </span>
            <span><i class="fab fa-node-js"></i> 6 </span>
          </span>
        </td>
      </tr>
    </table>
    <br>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
// global variable ---------------------------------------
    function hello() {
      x = 'Hello';          // -! declared on the global scope (so careful don't use it)
    }
    
    global.x;               // -> 'hello'
    
    
// var ------------------------------------
    var x = 'Hello';
    x = 'New Hello';                    // reassignable 
    var x = 'Hello again';              // redeclarable
    
    global.x;                           // -> 'Hello again'     // creates a property on the current scope
    
    function hello() {
      var y = 'Hello from this function';      // function scoped (not available outside the function block)
    }
    
    {
      var z = 'Hello from this block';    // not block scoped (this becomes a global variable)
    }
    
    z;                                    // -> 'Hello from this block'
    
    
// const / let -------------------------
    let x = 'Hello 1';
    const y = 'Hello 2';
    
    let x = 'Hello 1';                  // -! not redeclarable (thros an error)
    const y = 'Hello 2';                // -! not redeclarable (thros an error)
    
    x = 'New Hello 1';                  // reassignable 
    y = 'New Hello 1';                  // -! not reassignable (throws an error)
    
    global.x;                           // -> undefined (does not create a property on the current scope)
    global.y;                           // -> undefined (does not create a property on the current scope)
    
    {
      let a = 'Hello from this block 1';      // block scoped (any JS block including function block)
      const b = 'Hello from this block 2';    // block scoped (any JS block including function block)
    }
    
    a;                                  // -> undefined
    b;                                  // -> undefined
    
  // complex data still can be mutated ----
    const myObj = { a: 1 };
    myObj.b = 2;                    // const cannot be reassigned but complex data still can be mutated
    
    myObj;                          // -> { a: 1, b: 2 }
      </pre>
    </details>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 style="color:darkblue;"><u> Comments </u></h2>
    <pre class="syntax">
    <strong>jsCode</strong>                   // <strong>comment</strong>   // on a line text after <mark>//</mark> is commented out   
    
    <strong>jsCode</strong> /* <strong>comment</strong> */ <strong>jsCode</strong>                                                // text between <mark>/*  */</mark> is commneted out   
    </pre>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
// single line comment ----------------------------------------------------------------
    // this is a single line comment                                                   // single line comment is valid only on this line 
    var x = 10;                                                                        // -! this is not part of the single line comment because it is in a new line
    
// multi line comment -----------------------------------------------------------------
    /* this is                                                                         // start of multi line comment
        a multi 
        line 
        comment
        var x = 10;                                                                    // !! this is not evaluated because it is part of the comment 
    */                                                                                 // end of multi line comment 
    </pre>
    </details>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 style="color:darkblue;"><u>Hoisting</u></h2>
    <p> - in JavaScript all <u>declarations</u> are hoisted (moved to the top of the current scope) <u>(initializations, definition are not hoisted)</u></p>
    <pre>
    hello();                                  // -> 'Hello World!'
    
    function hello() {                       // because this is a declaration JavaScript hoists on the top (can be called before declared)
      return 'Hello World';
    }
    </pre>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 style="color:darkblue;"><u>Strict Mode
        <i class="fab fa-js">5 </i>
        <span id="browserSupport" title="updated: 2021-06-04">
          <span><i class="fab fa-chrome"></i> 13 </span>
          <span><i class="fab fa-firefox"></i> 4 </span>
          <span><i class="fab fa-opera"></i> 12.1 </span>
          <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 10 </span>
          <span><i class="fab fa-safari"></i> 6 </span>
          <span><i class="fab fa-node-js"></i> 0.1.14 </span>
        </span>
      </u></h2>
    <p> - strict mode was implemented to better error checking, the intent is to turn "bad syntax" into real errors </p>
    <p class="indent-lv1"> - undeclared variables are not allowed (<mark>var</mark> keyword required)</p>
    <p class="indent-lv1"> - deleting variables, objects or functions with the <mark>delete</mark> keyword is not allowed </p>
    <p class="indent-lv1"> - deleting undeletable property is not allowed (ex: <mark>delete Object.prototype</mark>) </p>
    <p class="indent-lv1"> - duplicate function arguments are not allowed (ex: <mark>function(a, a){}</mark>)</p>
    <p class="indent-lv1"> - octal literals or octal escape characters are not allowed (ex: <mark>010</mark>) </p>
    <p class="indent-lv1"> - setter or getter only properties are not allowed </p>
    <p class="indent-lv1"> - using the <mark>eval()</mark> method to create variables is not allowed </p>
    <p class="indent-lv1"> - using the <mark>with()</mark> method is not allowed </p>
    <pre>
    'use strict';                     // strict mode enabled at the beginning of the current scope
    
    
    function someFunction() {
      'use strict';                     // strict mode enabled at the beginning of the current scope
      
      // ...
    }
    </pre>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    "use strict";                               // strict mode in global scope <b style="text-decoration:underline;">(local sopes are running in strict mode to in this case!)</b>
    
    function myFunc() {
        "use strict"                            // using strict mode in local scope (in this case the global scope is NOT running in strict mode)
    }
    </pre>
      <p><b> - words not allowed as variable names in strict mode </b></p>
      <pre>
    arguments       interface       private         static
    eval            let             protected       yield
    implements      package         public  
    </pre>
      <p><b> - undeclared variables will cause error in Strict Mode </b></p>
      <pre>
    x = "this string";                          // throws an error in strict mode
    y = {Mark:"Audi", Model:"A8"};              // throws an error in strict mode
    </pre>
      <p><b> - deleting variable, object or function is Not Allowed in Strict Mode </b></p>
      <pre>
    var x = 21;
    var y = {p1:10, p2:20};
    function z(a, b){};
    
    delete x;                                   // throws an error in strict mode
    delete y;                                   // throws an error in strict mode
    delete z;                                   // throws an error in strict mode
    </pre>
      <p><b> - duplicating parameters is Not Allowed in Strict Mode</b></p>
      <pre>
    function myFunc(a, a){}                     // throws an error in strict mode
    </pre>
      <p><b> - octal literals <mark>010</mark> and octal escape characters <mark>\"010</mark> are Not Allowed in Stirct Mode </b></p>
      <pre>
    var x = 010;                                // throws an error in strict mode (octal literal)
    var y = "\045";                             // throws an error in strict mode (octal escape literal)
    </pre>
      <p><b> - <u>set</u> read-only and get-only properties are Not Allowed in Strict Mode </b></p>
      <pre>
// read-only property -------------------- 
    var myObj = {prop1:"myVal"};
    Object.defineProperty(myObj, "prop1", {writable:false});    // <b>this won't throw an error (it is OK <u>to have</u> read-only property)</b>
    myObj.prop1;                                // -> "myVal"   // we can read read-only property in strict mode no problem!
    myObj.prop1 = "modifiedVal";                // throws an error in strict mode (read-only property cannot be modified)
    
// get-only property ---------------------
    var myObj = {get prop1() {return "value what you get"}};    // the "prop1" is set as getter-only propearty (no "set" specified)
    myObj.prop1;                                // -> "value what you get"      // we can read the get-only property no problem!
    myObj.prop1 = "set new value";              // throws an error in strict mode <u>(because the property has no setter function)</u>     
    </pre>
      <p><b> - deleting an undeletable property in Strict Mode is Not Allowed </b></p>
      <pre>
    delete Object.prototype;                    // throws an error in strict mode
    </pre>
      <p><b> - using the <mark>eval()</mark> function to create variables is Not Allowed in Strict Mode </b></p>
      <pre>
    eval("var x = 'this variable'");            // throws an error in strict mode          
    </pre>
      <p><b> - using the <mark>with</mark> statement is Not Allowed in Strict Mode </b></p>
      <pre>
    with (Math){                                // throws an error in strict mode  
        x = cos(3 * PI) + sin (LN10)    
        y = tan(14 * E)  
    }  
    </pre>
    </details>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 style="color:darkblue;"><u> Explicit VS Implicit data coerction </u></h2>
    <p> - Explicit coerction = when we intentionally convert data types VS Implicit coercion = when the program converts the data type </p>
    <p> - JavaScript tries does implicit data coercion tries to convert a 'wrong' data type into the 'right' data type </p>
    <pre>
// explicit coerction -----------------------------------------------------------------
    var x = '1';
    
    var y = Boolean(x);                                                                // -! explicit coerction (we intended to convert the data type)
    
    y;                                                                                 // -> true 
    typeof y;                                                                          // -> 'boolean'
    
// implicit coerction -----------------------------------------------------------------
    var x = '2' * 2;                                                                   // -!
    
    x;                                                                                 // -> 4 
    typeof x;                                                                          // -> 'number'
    
// the + operator ---------------------------------------------------------------------
    1 + 1 + 1;                                                                         // -> 3              // when used with numers performs addition 
    
    1 + '1'                                                                            // -> '11'           // data after the '+' operator is concatenated  
    1 + 1 + '1' + 1 + 1;                                                               // -> '2111' 
    </pre>
    <details class="example">
      <summary> Example : </summary>
      <p><u> Adding numbers and strings </u></p>
      <p id="numberVSstring"></p>
      <script>
    var a = "The" + " " + "Boss";           // concatenation    - result (string)
    var b = 5 * 2 - 2;                      // operation        - result (number)
    var c = "The" + 85 + "'s";              // concatenation    - result (string)
    var d = 40 + 45 + "is" + 40 + 45;       // concatenation    - result (string) 
                                            //  numbers before the string calculated, after the string concatenated
    document.getElementById('numberVSstring').innerHTML = a + " / " + b + " / " + c + " / " + d;
</script>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;p id="numberVSstring"&gt;&lt;/p&gt;
&lt;script&gt;
    var a = "The" + " " + "Boss";           // concatenation    - result (string)
    var b = 5 * 2 - 2;                      // operation        - result (number)
    var c = "The" + 85 + "'s";              // concatenation    - result (string)
    var d = 40 + 45 + "is" + 40 + 45;       // concatenation    - result (string) 
                                            //  numbers before the string calculated, after the string concatenated
    document.getElementById('numberVSstring').innerHTML = a + " / " + b + " / " + c + " / " + d;
&lt;/script&gt;
    </pre>
      </details>
      <p><u> String Convertion to Number </u></p>
      <p id="convert_string_to_number"></p>
      <script>
    var a = "5" * "5";                              // returns a number
    var b = "50" / "10";                            // returns a number
    var c = "25" - "10";                            // returns a number
    var d = "10" + "10";                            // returns a string
    var e = "50" * "2" / "5" - "1" + "85";          // returns a string (what a mess) :D 
    document.getElementById('convert_string_to_number').innerHTML = a + " / " + b + " / " + c + " / " + d + " / " + e;
    typeof 20;
</script>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;p id="convert_string_to_number"&gt;&lt;/p&gt;
&lt;script&gt;
    var a = "5" * "5";                              // returns a number
    var b = "50" / "10";                            // returns a number
    var c = "25" - "10";                            // returns a number
    var d = "10" + "10";                            // returns a string
    var e = "50" * "2" / "5" - "1" + "85";          // returns a string (what a mess) :D 
    document.getElementById('convert_string_to_number').innerHTML = a + " / " + b + " / " + c + " / " + d + " / " + e;
&lt;/script&gt;
    </pre>
      </details>
      <p><u> Result <mark>infinity</mark></u></p>
      <p id="infinity"></p>
      <script>
    var a = 25 / 0;                     // division by "0"
    var b = -22 / 0;                    // division by "0"
    var x = 1542e16000 + 1254e154;
    var y = -154e355 - 125e546;
    document.getElementById('infinity').innerHTML = x + " / " + y + " // " + a + " / " + b;
</script>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;p id="infinity"&gt;&lt;/p&gt;
&lt;script&gt;
    var a = 25 / 0;                     // division by "0"
    var b = -22 / 0;                    // division by "0"
    var x = 1542e16000 + 1254e154;
    var y = -154e355 - 125e546;
    document.getElementById('infinity').innerHTML = x + " / " + y + " // " + a + " / " + b;
&lt;/script&gt;
    </pre>
      </details>
    </details>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> Shebang (Hashbang) <span class="fab fa-js">2023</span> </h2>
    <p> - Shebangs are indtuduced from <span class="fab fa-js">2023</span>, but earlier javascript versions don't throw any error either </p>
    <pre>
    #!/usr/bin/env node                   // executes this file with the <mark>node</mark> command in <mark>PATH</mark>
    
    console.log('Hello Wold!');
    </pre>
    <!--------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="headerExtra"><u> JavaScript in the browser </u></h2>
    <p> - in the browser JavaScript mainly interact with DOM, but also other browser features (AJAX call, dark mode, etc...) </p>
    <pre>
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;script&gt;
            document.write("Hello Word!");                                                 // JavaScript embeded in the head 
        &lt;/script&gt;
        &lt;script src="myJavaScript.js"&gt;                                                     // external JavaScript file embeded in the head 
    &lt;/head&gt;
    &lt;body&gt;
        &lt;script&gt;
            document.write("Hello Word!");                                                 // JavaScript embeded in the body 
        &lt;/script&gt;
        &lt;script src="myJavaScript.js"&gt;                                                     // external JavaScript file embeded in the body 
    &lt;/body&gt;
    &lt;/html&gt;
    </pre>
    <br><br>
  </body>
</html>