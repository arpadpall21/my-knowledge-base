<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Floating Point Numbers explained </title> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css"> 
    <script src="../../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Floating Point Numbers explained (ver 4.0.0) </h1>
    <p> Updated ( 2019-11-23 / 2021-05-24 )</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html">JavaScript></a> 
        <a href="../index.html">Numbers></a> Floating Point Numbers Explained
    </p>
    <br>
    <details class="example" id="notes">
    <summary> Notes :</summary>
	<!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    
<h2 style="color:green;"><u> Remember This : </u></h2>
    
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
    <p> - computers have limitations to represent numbers with decimals because the data is stored in binary data </p>
    <p> - one solution is to use <u>Fixed Point</u> numbers, the decimal point is fixed (ex: in a range of 8 bits we fix the decimal point between the 4 and 5 bits) this is accurate but limits the range what can be represented</p>
    <p> - the other solution is to use <u>Floating Point</u> numbers, the decimal point 'floats' (decimal point can be changed on the printed number), this <u>can represent a very large range of numbers however it <span style="background-color:yellow;"> looses accuracy after a certain limit and decimals are not 100% accurate!</span></u></p>
    <p> - the <u>IEEE-754</u> international standard defines a fairly complicated formula to calculate and represent these floating points (the first bit defines a negative or positive number | exponent bits calculate the position of the decimal point | mantissa is the actual number) </p>
    <p> - calculating floating points is a CPU heavy task, so there is a dedicated FPU (Floating Point Unit) buit in the CPU which deals with floating point calculations </p>
<h4><u> 32 bit Single Precision floating point number (Binary32)</u></h4>    
    <p> - uses <mark>32 bits</mark> = <mark>(1bit = sign | 8bits = exponent | 23bits = mantissa)</mark> accurate about <b style="background-color:yellow;">7 significant digits (7 digits including decimals)</b> <u>(decimals are still not 100% accurate careful!)</u> </p>
<h4><u> 64 bit Double Precision floating point number (Binary64)</u></h4>    
    <p> - uses <mark>64 bits</mark> = <mark>(1bit = sign | 11bits = exponent | 52bits = mantissa)</mark> accurate about <b style="background-color:yellow;">16 significant digits (16 digits including decimals)</b> <u>(decimals are still not 100% accurate careful!)</u> </p>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> decimal inaccuracy problem in JavaScript TEST </u></h4>    
    <button onmouseup="floatDecimal()"> RUN TEST (result printed in console)</button>
<script>
var floatDecimal = function(){
    console.log( 0.1 + 0.2 );                                   // -> 0.30000000000000004           // decimals are not accurate 
                                                              
    console.log(  0.1 + 0.2 + 0.1 + 0.2 + 0.1 + 0.2 + 
                  0.1 + 0.2 + 0.1 + 0.2 + 0.1 + 0.2 + 
                  0.1 + 0.2 );                                  // -> 2.1000000000000005            // if we top up these inaccuarate numbers this can lead to a serious problem 
                  
    console.log( 1 + 2 + 1 + 2 + 1 + 2 +
                 1 + 2 + 1 + 2 + 1 + 2 +
                 1 + 2);                                        // -> 21                            // the solution is simply use integers (treat the last digit as decimal)
}
</script>
<details> 
<summary> CODE : </summary>
<pre>
    <button onmouseup="floatDecimal()"> RUN TEST (result printed in console)</button>
<script>
var floatDecimal = function(){
    console.log( 0.1 + 0.2 );                                   // -> 0.30000000000000004           // decimals are not accurate 
                                                              
    console.log(  0.1 + 0.2 + 0.1 + 0.2 + 0.1 + 0.2 + 
                  0.1 + 0.2 + 0.1 + 0.2 + 0.1 + 0.2 + 
                  0.1 + 0.2 );                                  // -> 2.1000000000000005            // if we top up these inaccuarate numbers this can lead to a serious problem 
                  
    console.log( 1 + 2 + 1 + 2 + 1 + 2 +
                 1 + 2 + 1 + 2 + 1 + 2 +
                 1 + 2);                                        // -> 21                            // the solution is simply use integers (treat the last digit as decimal)
}
</script>
</pre>
</details>
</details>
    
    <br><br>    
</body>
</html>