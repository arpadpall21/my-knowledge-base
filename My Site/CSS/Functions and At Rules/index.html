<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> Functions / @ Rules </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
  </head>

  <body>
    <h1> Functions / @ Rules </h1>
    <p> Updated ( 2019-01-12 / 2019-04-09 / 2020-01-17 / 2021-06-11 / 2024-03-15 )</p>
    <nav class="sitenav"> <a href="../../index.html">MySite > </a>
      <a href="../index.html" title="CSS">CSS > </a> Functions / @ Rules
    </nav>
    <table class="table">
      <caption>
        CSS Functions
      </caption>
      <tr>
        <th style="width:30%;"> Unit </th>
        <th> Description </th>
      </tr>
      <tr>
        <td> calc(<strong>cssLength</strong> +|-|*|/ <i>cssLength ...</i>) </td>
        <td> - <i class="fab fa-css3-alt"></i> performs a calculation and returns the result
          <span id="browserSupport">
            <span><i class="fab fa-chrome"></i> 26/19 -webkit- </span>
            <span><i class="fab fa-firefox"></i> 16/4 -moz- </span>
            <span><i class="fab fa-opera"></i> 15 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 9 </span>
            <span><i class="fab fa-safari"></i> 7/6 -webkit- </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> min(<strong>cssLength</strong><i>, ...</i>) </td>
        <td> - <i class="fab fa-css3-alt"></i> returns the smallest value (especially useful with mixed units (ex: <mark>min(100%, 10px)</mark>))
          <span id="browserSupport">
            <span><i class="fab fa-chrome"></i> 79 </span>
            <span><i class="fab fa-firefox"></i> 75 </span>
            <span><i class="fab fa-opera"></i> 66 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 79 </span>
            <span><i class="fab fa-safari"></i> 11.1 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td> max(<strong>cssLength</strong><i>, ...</i>) </td>
        <td> - <i class="fab fa-css3-alt"></i> returns the largest value (especially useful with mixed units (ex: <mark>max(100%, 10px)</mark>))
          <span id="browserSupport">
            <span><i class="fab fa-chrome"></i> 79 </span>
            <span><i class="fab fa-firefox"></i> 75 </span>
            <span><i class="fab fa-opera"></i> 66 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 79 </span>
            <span><i class="fab fa-safari"></i> 11.1 </span>
          </span>
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption>
        @ Rules
        <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
      </caption>
      <tr>
        <th style="width:30%;"> @ rule </th>
        <th> Description </th>
      </tr>
      <tr>
        <td> @charset "<strong>charset</strong>" </td>
        <td>
          - specifies the character encoding for the CSS document <br>
          - must be the 1st declaration in the CSS document <br>
          - HTTP header overrides it <br>
          - cannot be placed as inline style or between the <mark>&lt;style&gt;</mark> tags in the head of the HTML document
          <span id="browserSupport">
            <span><i class="fab fa-chrome"></i> 2 </span>
            <span><i class="fab fa-firefox"></i> 1.5 </span>
            <span><i class="fab fa-opera"></i> 9 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 5.5/ NO EDGE </span>
            <span><i class="fab fa-safari"></i> 4 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td> @import <strong>filePath:str</strong>|url(<strong>filePath:str</strong>) <i>mediaQueryCondition</i>
        </td>
        <td>
          - imports a stylesheet in the current stylesheet <br>
          - must be the first declaration after <mark>@charset</mark>
          <span id="browserSupport">
            <span><i class="fab fa-chrome"></i> yes </span>
            <span><i class="fab fa-firefox"></i> yes </span>
            <span><i class="fab fa-opera"></i> yes </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 5.5 </span>
            <span><i class="fab fa-safari"></i> yes </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> @supports <small>not</small> (<strong>prop</strong>:<strong>val</strong>) <small>not|and|or</small> <i>(prop:val) ...</i> { }</td>
        <td>
          - executes the code block if the <strong>prop</strong>:<strong>val</strong> (property and value) is supported by the browser <br>
          - multiple logical conditions can be specified <br>
          - if the <strong>prop</strong>:<strong>val</strong> is not supported the code block is ignored
          <span id="browserSupport" title="updated : 2019-05-24">
            <span><i class="fab fa-chrome"></i> 28 </span>
            <span><i class="fab fa-firefox"></i> 22 </span>
            <span><i class="fab fa-opera"></i> 12.1 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
            <span><i class="fab fa-safari"></i> 9 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> @layer </td>
        <td>
          - solves the css specificity complexity by basically namespacing a group of css declarations and setting the specificity by the namespace relation <br>
          - so <mark>@layer</mark>s are basically namespaced css declarations, and the specificity is set by layer relation (not by selector specificity)<br>
          <span id="browserSupport" title="updated : 2024-12-28">
            <span><i class="fab fa-chrome"></i> 99 </span>
            <span><i class="fab fa-firefox"></i> 97 </span>
            <span><i class="fab fa-opera"></i> 85 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 99 </span>
            <span><i class="fab fa-safari"></i> 15.4 </span>
          </span>
        </td>
      </tr>
    </table>
    <br>
    <details class="example" id="notes">
      <summary> Notes :</summary>
      <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
    <h2 class="headerSection"> Useful Links : </h2>
    <p><a href='https://www.w3schools.com/css/css_units.asp' target="_blank"> W3Schools CSS Units </a></p>
    <h2 class="headerSection"> Remember This : </h2>

    <h2 class="headerSection"> Description and Demonstration : </h2>
    <h2 class="headerExtra"><u> CSS Functions </u></h2>
    <h2 class="header"> The <mark>var()</mark> function CSS custom properties </h2>
    <p> - CSS custom properties are basically variables in CSS, they are used to <u>insert property values</u> </p>
    <p> - CSS variables are scoped (available only on the declared element and on all its nested child elements) </p>
    <pre class="syntax">
    <reqval>parentSelector</reqval> {
        --<reqval>var</reqval>: <reqval>val</reqval>;     // variable
    }
    
    <reqval>childSelector</reqval> {
        <reqval>property</reqval>: var(--<reqval>var</reqval><optval>, fallbackVal</optval>);     // variable value can be used as property values
    }                                     // declared variables available in any child elelements (but not elsewhere)
    </pre>
    <details class="example">
      <summary> Example : </summary>
      <div class="var-parent">
        <div class="var-child">Child element</div>
      </div>
      <div class="var-sibling">Sibling element</div>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
// HTML -------------------------------------------
    &lt;div class="var-parent"&gt;
      &lt;div class="var-child"&gt;Child element&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="var-sibling"&gt;Sibling element&lt;/div&gt;
    
    
// CSS --------------------------------------------
    .var-parent {
        --customBorder: solid 2px cyan;
        height: 25px;
        margin: 10px;
        border: var(--customBorder, solid 1px black);
    }
    .var-child {
        margin: 10px;
        border: var(--customBorder, solid 1px black);     // child element inherits the variable value
    }
    .var-sibling {
        margin: 10px;
        border: var(--customBorder, solid 1px black)      // sibling element does not inherit the variable value (fallback used)
    }
        </pre>
      </details>
    </details>
    <!--------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> The <mark>calc()</mark> function </h2>
    <details class="example">
      <summary> Example : </summary>
      <h4><u> <mark>calc()</mark> function TEST </u></h4>
      <div class="calc_1"> Width (100% - 180px)</div>
      <div class="calc_2"> Width (50% + 150px)</div>
      <div class="calc_3"> Width (100% / 3)</div>
      <div class="calc_4"> Width (15% * 4)</div>
      <div class="calc_5"> Width (((10% * 4) / 2) + 35 - 5)</div>
      <details>
        <summary> CODE:</summary>
        <pre>
-- CODE (HTML) --
    &lt;div class="calc_1"&gt; Width (100% - 180px)&lt;/div&gt;
    &lt;div class="calc_2"&gt; Width (50% + 150px)&lt;/div&gt;
    &lt;div class="calc_3"&gt; Width (100% / 3)&lt;/div&gt;
    &lt;div class="calc_4"&gt; Width (15% * 4)&lt;/div&gt;
    &lt;div class="calc_5"&gt; Width (((10% * 4) / 2) + 35 - 5)&lt;/div&gt;
    
-- CODE (CSS) --
    [class^=calc]{
        border: 2px double black;
        background-color: orange;
        padding: 10px;
        text-align: center;
        margin: auto;
    }
    .calc_1{
        width: 100%;        /* fallback */
        width: calc(100% - 180px);
    }
    .calc_2{
        width: 80%;        /* fallback */
        width: calc(50% + 150px);
    }
    .calc_3{
        width: 30%;        /* fallback */
        width: calc(100% / 3);
    }
    .calc_4{
        width: 45%;        /* fallback */
        width: calc(15% * 4);
    }
    .calc_5{
        width: 20%;        /* fallback */
        width: calc(((10% * 4) / 2) + 135px - 25px);
    }
        </pre>
      </details>
    </details>
    <!--------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> The <mark>mix()</mark> / <mark>max()</mark> functions </h2>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    .test {
      min(100%, 55px);                    // takes the smallest value 
    }
    
    .test {
      min(100%, 55px);                    // takes the largest value 
    }
    </pre>
    </details>
    <!--------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="headerExtra"><u> @ Rules </u></h2>
    <h2 class="header"> The <mark>@charset</mark> / <mark>@import</mark> rule </h2>
    <details class="example">
      <summary> Example : </summary>
      <h4 style="color:darkblue;"><u> <mark>@charset</mark> / <mark>@import</mark> rule TEST </u></h4>
      <p class="importedCss"> styled by imported CSS code </p>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
-- CODE (HTML) --
    &lt;p class="importedCss"&gt; styled by imported CSS code &lt;/p&gt;
    
-- CODE (CSS) -- 
    @charset "utf-8";                                                   // character encoding set       // -! must be the first declaration if set 
    @import "css files/testCss1.css" screen and (min-width:1000px);     // "testCss1.css" file is linked with media query condition 
    @import url("css files/testCss2.css");                              // "testCss2.css" file is linked 
    
-- CODE (CSS) -- file "testCss1.css"
    .importedCss {
        color: red;
        font-weight: bold;
}
-- CODE (CSS) -- file "testCss2.css"
    .importedCss {
        text-decoration: underline;
        font-size: 2em;   
    }
        </pre>
      </details>
    </details>
    <!--------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> The <mark>@supports</mark> rule </h2>
    <details class="example">
      <summary> Example : </summary>
      <h4 style="color:darkblue;"><u> <mark>@supports()</mark> TEST-1 </u></h4>
      <p class="support1"> test paragraph </p>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
-- CODE (HTML) --
    &lt;p class="support1"&gt; test paragraph &lt;/p&gt;
    
-- CODE (CSS) -- 
    @supports(color:green) {                    // property and value are supported by the browser so the code block is executed 
        .support1 {
            color: green;
            text-decoration: underline;
            text-decoration-color: red;
        }
    }
    @supports(unvalidProp: noVal) {             // not supported property and value so the code block is not executed 
        .support1 {
            font-size: 10rem;
        }
    }
        </pre>
      </details>
      <!--------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>@supports()</mark> with <mark>not</mark> operator TEST </u></h4>
      <p class="support2"> text paragraph </p>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
-- CODE (HTML) --
    &lt;p class="support2"&gt; text paragraph &lt;/p&gt;
    
-- CODE (CSS) -- 
    @supports not (noProp:noVal) {          // fires this code block because thye are NOT supported by the browser 
        .support2 { color: green }
    }
    @supports not (color: white) {          // code block is not executed because the property and value are supported by the browser 
        .support2 { font-size: 2rem }
    }
        </pre>
      </details>
      <!--------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>@supports()</mark> with <mark>and</mark> and <mark>or</mark> operators TEST </u></h4>
      <p class="support3"> test paragraph </p>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
-- CODE (HTML) --
    &lt;p class="support3"&gt; test paragraph &lt;/p&gt;
    
-- CODE (CSS) -- 
    @supports (color:yellow) and (color:piros) {        // because both exressions must be supported by the browser this code block is not executed 
        .support3 { color:green }
    }
    @supports (color:yellow) or (color:piros) {         // one of the two condition is supported by the browser so this code block is fired 
        .support3 { font-family: monospace }
    }
        </pre>
      </details>
      <!--------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>@supports()</mark> nested conditions TEST </u></h4>
      <p class="support4"> test paragraph </p>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
-- CODE (HTML) --
    &lt;p class="support4"&gt; test paragraph &lt;/p&gt;
    
-- CODE (CSS) -- 
    @supports ((not (pagex:reg)) or (-webkit-animation-delay:2s)) and (break-after:page) {
        .support4 { color: green }
    }
        </pre>
      </details>
      <!--------------------------------------------------------------------------------------------------------->
      <hr>
      <h4 style="color:darkblue;"><u> <mark>CSS.supports</mark> TEST </u></h4>
      <script>
      var support1 = CSS.supports('-webkit-animation-name', 'myAnim');                    // -> true          
      var support2 = CSS.supports('(not (pageY:bottom)) and (clip-path:inset(22%)');      // -> true      // (false in EDGE)
      var support3 = CSS.supports('not (color:orange)');                                  // -> false 
    </script>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
&lt;script&gt;
    var support1 = CSS.supports('-webkit-animation-name', 'myAnim');                    // -> true          
    var support2 = CSS.supports('(not (pageY:bottom)) and (clip-path:inset(22%)');      // -> true      // (false in EDGE)
    var support3 = CSS.supports('not (color:orange)');                                  // -> false 
&lt;/script&gt;
        </pre>
      </details>
    </details>
    <!--------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> The <mark>@layer</mark> rule </h2>
    <p> - <mark>@layer</mark>s solve the css specificity complexity by basically namespacing a group of css declarations and setting the specificity by the namespace relation </p>
    <p> - so <mark>@layer</mark>s are basically namespaced css declarations, and the specificity is set by layer relation (not by selector specificity) </p>
    <pre class="syntax">
    @layer <reqval>layerName</reqval><optval>, ...</optval>   // <span class="openable">it's common to declare the layer specificity<div>
      <p> - cascade layers stack in the order they first appear, meaning the very fist declaration sets the layer specificity </p>
      <p> - this is a neat technique to see layer specificity relations in one line </p>
    </div></span> on the top of the file (rightmost has higher specificity)
                                                        // -! when using <mark>!important</mark> the lefmost important declaration has the highest specificity
    
    @layer <optval>layerName</optval> {     // layer namespaces is a set of css declarations (we can declare anonymus layers too)
        <reqval>cssSelector</reqval> {
            <reqval>prop</reqval>: <reqval>val</reqval> revert-layer;       // reverts this property (so the previous specific takes precedence)  
        }
        <optval>cssStyling...</optval>
        
        <opt>@layer <reqval>childLayerName</reqval> {</opt>   // we can nest layers in order give more structure to our code
            <optval>cssStyling...</optval>
        <opt>}</opt>
        <optval>...</optval>
    }
    <optval>...</optval>                    // the latest layer declaration overrides the previous onces' (more specific)
    
    @layer <reqval>layerName</reqval>.<reqval>childLayerName</reqval> {   // setting a nested layer 
        <optval>cssStyling...</optval>
    }
    
    
    <reqval>cssStyling</reqval>             // css code outside layers has higher specificity than any @layer
    </pre>
    <pre class="syntax">
// importing layers -----------------------------------------
    @layer <reqval>layerName</reqval><optval>, ...</optval>;              // -! layer specificity must be declared before import
    
    @import url(<reqval>filePath</reqval>);                     // @layers declared in <reqval>filePath</reqval> are imported  
    @import url(<reqval>filePath</reqval>) layer(<reqval>layerName</reqval>);                     // file <reqval>filePath</reqval> imported and namespaced as <reqval>layerName</reqval> @layer
    </pre>
    <details class="example">
      <summary> Example : </summary>
      <h4 class="header"> @layer specificity order </h4>
      <div class="layer-parent">
        <div class="layer-child">
          <p> Hello <span>World!</span> </p>
        </div>
      </div>
      <details class="example">
        <summary> DEMO : </summary>
        <pre>
// HTML --------------------------------------------------
    &lt;div class="layer-parent"&gt;
      &lt;div class="layer-child"&gt;
        &lt;p&gt; Hello &lt;span&gt;World!&lt;/span&gt; &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    
    
// CSS --------------------------------------------------
    @layer high-specific, low-specific;       // layer specificity declared here (the rightmost layer is the most specific)
    
    .layer-parent span {                      // vanilla css utility cannot be overriden by any layer (has the highest specificity)
      color: white;
    }
    
    // specificity score: <mark>11</mark>
    @layer low-specific {                     // -! since on top we decalred the layer specificity order layer declaration order does not matter anymore
      .layer-parent span {
        background-color: green;
        color: yellow;
      }
    }
    
    // specificity score: <mark>22</mark>
    @layer high-specific {
      .layer-parent > .layer-child > p > span {
        background-color: red;
        color: orange;
      }
    }
    </pre>
      </details>
      <hr>
      <!---------------------------------------------------------------------------------------------->
      <h4 class="header"> Using <mark>!important</mark> with @layers </h4>
      <p class="layer-important"> Hello World! </p>
      <details class="example">
        <summary> DEMO : </summary>
        <pre>
// HTML --------------------------------------------------
    &lt;p class="layer-important"&gt; Hello World! &lt;/p&gt;
    
    
// CSS --------------------------------------------------
    @layer l1, l2;                      // the leftmost <mark>!important</mark> declaration have the highest specificity
    
    @layer l1 {
      .layer-important {
        background-color: red !important;
      }
    }
    @layer l2 {
      .layer-important {
        background-color: green !important;
      }
    }
    </pre>
      </details>
      <hr>
      <!---------------------------------------------------------------------------------------------->
      <h4 class="header"> Nested Layers </h4>
      <ol class="layer-nest-parent">
        <li class="layer-nest-1st-child"> one </li>
        <li class="layer-nest-2nd-child"> two </li>
      </ol>
      <details class="example">
        <summary> DEMO : </summary>
        <pre>
// HTML --------------------------------------------------
    &lt;ol class="layer-nest-parent"&gt;
      &lt;li class="layer-nest-1st-child"&gt; one &lt;/li&gt;
      &lt;li class="layer-nest-2nd-child"&gt; two &lt;/li&gt;
    &lt;/ol&gt;
    
// CSS --------------------------------------------------
    @layer list {                           // this gives more structure 
      @layer item-1, item-2;
      
      @layer item-1 {
        .layer-nest-1st-child {
          background-color: orange;
        }
      }
      @layer item-2 {
        .layer-nest-2nd-child {
          background-color: green;
        }
      }
      
      .layer-nest-parent {
        border: solid 1px black;
      }
    }
    
    @layer list.item2 {                   // overriding nested layer
      .layer-nest-2nd-child {
        background-color: cyan;
      }
    }
        </pre>
      </details>
      <hr>
      <!---------------------------------------------------------------------------------------------->
      <h4 class="header"> Import @layers from another file </h4>
      <pre>
// styles.css (file) -----------------
    @layer my-p2, my-p1;                          // -! layer specificity must be declared before import
    @import url("css files/layerImport1.css");    // import layers
    
// module1.css (file) -----------------
    @layer my-p1 {
      .my-p {
        color: blue;
      }
    }
    
    @layer my-p2 {
      .my-p {
        color: red;
      }
    }
    </pre>
      <hr>
      <!---------------------------------------------------------------------------------------------->
      <h4 class="header"> Import file as @layers </h4>
      <pre>
// styles.css (file) -------------------
    @layer my-p2, my-p1;                                          // -! layer specificity must be declared before import
    @import url("css files/module1.css") layer(my-p1);            // importing css files as individual layers
    @import url("css files/module2.css") layer(my-p2);
      
// module1.css (file) -------------------
    .my-p {
      color: blue;
      background-color: yellow;
    }
    
// module2.css (file) -------------------
    .my-p {
      color: red;
      background-color: gray;
    }
      </pre>
      <hr>
      <!---------------------------------------------------------------------------------------------->
      <h4 class="header"> Revert css utility <mark>revert-layer</mark> </h4>
      <p class="my-p"> Hello World! </p>
      <details class="example">
        <summary> DEMO : </summary>
        <pre>
// HTML --------------------------------------------------
    &lt;p class="my-p"&gt; Hello World! &lt;/p&gt;
    
// CSS --------------------------------------------------
    @layer my-p1 {
      .my-p {
        color: white;
        background-color: black;
      }
    }
    @layer my-p2 {
      .my-p {
        color: blue;
        background-color: darkgreen revert-layer;       // property disabled (so the previous specific takes precedence)
      }
    }
        </pre>
      </details>
    </details>


    <br><br>
  </body>

</html>