<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title> Styling </title>    
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="../../Assets/stylesPages.css"> 
    <script src="../../Assets/scriptPages.js"></script>
</head>    
<body>
<h1> Styling (ver 2.9) </h1>
    <p> Updated ( 2018-11-05 / 2018-11-29 )</p>
    <p class="sitenav"> <a href="../../index.html">MySite></a>  
        <a href="../index.html">Canvas></a> Styling  
    </p>
<table class="table">
    <tr>
        <th> Method / Property </th>
        <th> Description </th>
    </tr>
    <tr>
        <td> <prot>canvasCtx2D.canvasGradient</prot>.addColorStop(<strong>colorStop_nr(0.0 - 1.0)</strong>, "<strong>colorCSS</strong>") </td>
        <td> specifies the color and the color stop in a canvasGradient object </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.createLinearGradient(<strong>xStart</strong>, <strong>yStart</strong>, <strong>xEnd</strong>, <strong>yEnd</strong>) </td>
        <td> returns a linearGradientCanvas object with the linear coordinates set (opaque object) </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.createPattern(<strong>media</strong>, "<strong>repeat</strong>") </td>
        <td> creates a canvasPatternObject by using a Picture, Video or Canvas element </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.createRadialGradient(<strong>xInnerCircle</strong>, <strong>yInnerCircle</strong>, <strong>radiusInnerCircle</strong>, <strong>xOuterCircle</strong>, <strong>yOuterCircle</strong>, <strong>radiusOuterCircle</strong>) </td>
        <td> returns a radialGradientCanvas object with the radial coordinates set (opaque object) </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.fillStyle = <strong>"colorCSS"/gradient/pattern</strong> </td>
        <td> gets or sets the fill style of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.getLineDash() </td>
        <td> returns the line dash patern as an Array of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.globalAlpha = <strong>opacityValueCSS</strong> </td>
        <td> gets or sets the transparency of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.globalCompositeOperation = "<strong>compositionValue</strong>" 
            (<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation" target="_blank">MDN Values [link]</a>)
        </td>
        
        <td> gets or sets the overlapping or <u>blending</u> style between the previous and new spahes (images) </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.lineCap = "<strong>butt/round/square</strong>" </td>
        <td> gets or sets the line ending cap (edge) style of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.lineDashOffset = <strong>nr(px)</strong> </td>
        <td> gets or sets the "offset" of the dashed line (moves "off" [ex: horizontal line moves dashed line to the left on its frame]) </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.lineJoin = "<strong>miter/round/bevel</strong>" </td>
        <td> gets or sets the type of corner created when two lines meet of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.lineWidth = <strong>nr(px)</strong> </td>
        <td> gets or sets the line width of the canvas context (line width is split by half/half around shapes) </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.miterLimit = <strong>nr(px)</strong> </td>
        <td> gets or sets the maximum miter length (default <mark>10</mark>), if the mitter is bigger than the set limit value (<mark>(lineWidth / 2 ) / miterLength</mark>) line join set to <mark>"blunt"</mark> (only works if the lineJoin is set to "miter") </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.setLineDash([<i>line_nr(px)</i>, <i>space_nr(px)</i>, <i>...</i>]) </td>
        <td> sets the line dash pattern of the canvas context (no value = no line dash / 1 value = 1line and 1space (repeat)) </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.shadowBlur = <strong>nr(blurValue)</strong> </td>
        <td> gets or sets the shadow blur value of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.shadowColor = "<strong>colorCSS</strong>" </td>
        <td> gets or sets the shadow color of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.shadowOffsetX = <strong>nr(px)</strong> </td>
        <td> gets or sets the horizontal distance of the shadow from the shape of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.shadowOffsetY = <strong>nr(px)</strong> </td>
        <td> gets or sets the vertical distance of the shadow from the shap of the canvas context </td>
    </tr>
    <tr>
        <td> <strong>canvasCtx2D</strong>.strokeStyle = <strong>"colorCSS"/gradient/pattern</strong> </td>
        <td> gets or sets the stroke style of the canvas context </td>
    </tr>
</table>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    <p><a class="important-link" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation" target="_blank">MDN globalCompositeOperation property and <b>Values</b></a></p>
    <p><a href="http://www.awekas.at/html5/flotr/lib/FlashCanvas/examples/dl.dropbox.com/u/1865210/mindcat/canvas_compositing.html" target="_blank">globalCompositeOperation values TEST SITE </a></p>
<h2 style="color:green;"><u> Remember This : </u></h2>
     <p> - if the shape has both "fill" and "stroke" the shadow will hide one another (depending the order [tested 2018-11-11]) </p>
    <p> - in canvas, <u>any</u> line or filed area which partially fills pixels will have blurry edges </p>
    <p> - using external fonts in canvas loaded by CSS <mark>@font-face</mark> roule has poor support (EDGE support only) [tested 2018-11-15]</p>
    <p> - there are a bunch of values for the <mark>globalCompositeOperation</mark> property, but not all works garanteed you can find my <u>GlobalCompositeOperation TESTER on the Exercise section</u> </p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
    <p> - you set the styling parameters to the canvas <u>context</u>, not to individual shapes </p>
    <pre>
    var ctx = document.getElementById("myCanvasElement").getContext("2d");
    ctx.strokeStyle = "blue";           // all the strokes will be blue form this point (unles specified otherwise)
    ctx.rect(75, 75, 50, 50);
    ctx.stroke();
    
    ctx.beginPath();
    ctx.rect(175, 175, 50, 50);
    ctx.stroke();                       // this rectangle's stroke is also blue          
    </pre>
<!------------------------------------------------------------------------------------------------------------------------------>
<hr>    
<h2 style="color:darkblue;"><u> color and shadow <mark>strokeStyle</mark> / <mark>fillStyle</mark> / <mark>globalAlpha</mark> / <mark>globalCompositeOperation</mark> / <mark>shadowOffsetX</mark> / <mark>shadowOffsetY</mark> / <mark>shadowColor</mark> / <mark>shadowBlur</mark> </u></h2> 
    <p style="color:yellow;"> - if the shape has both "fill" and "stroke" the shadow will hide one another (depending the order [tested 2018-11-11]) </p>
    <p> - the shadow thickness itself is controled by the <mark>lineWidth</mark> property </p>
    <pre class="syntax">
SYNTAX :    <strong>canvasCtx2D</strong>.strokeStyle = <strong>"colorCSS"/gradient/pattern</strong>      // gets or sets the stroke style of the canvas context
            <strong>canvasCtx2D</strong>.fillStyle = <strong>"colorCSS"/gradient/pattern</strong>        // gets or sets the fill style of the canvas context
            <strong>canvasCtx2D</strong>.globalAlpha = <strong>opacityValueCSS</strong>                  // gets or sets the transparency of the canvas context
            <strong>canvasCtx2D</strong>.globalCompositeOperation = "<strong>compositionValue</strong>"  // gets or sets the overlapping or <u>blending</u> style between the previous and new spahes (images)
                - "<strong>compositionValue</strong>" : <em>"source-over"</em> (default) = new shape overlaps the old one            / <em>"destination-over"</em> = new shape under the old one               /  <em>"source-atop"</em> = part of the new shape is visible only in the old shape's area     
                                       <em>"destination-out"</em> = new shape removed even in the old shape's area  / <em>"lighter"</em> = retains the lighter pixes in the overlapping area  /  <em>"xor"</em> = overlapping area set to transparent
                                       <a style="color:aqua;" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation" target="_blank">MDN Values [link]</a>
    
            <strong>canvasCtx2D</strong>.shadowColor = "<strong>colorCSS</strong>"              // gets or sets the shadow color of the canvas context
            <strong>canvasCtx2D</strong>.shadowBlur = <strong>nr(blurValue)</strong>            // gets or sets the shadow blur value of the canvas context
            <strong>canvasCtx2D</strong>.shadowOffsetX = <strong>nr(px)</strong>                // gets or sets the horizontal distance of the shadow from the shape of the canvas context
            <strong>canvasCtx2D</strong>.shadowOffsetY = <strong>nr(px)</strong>                // gets or sets the vertical distance of the shadow from the shap of the canvas context
    </pre>
    <pre>
    &lt;canvas id="demo"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var colorDemo = function() {
        var ctx = document.getElementById("demo").getContext("2d", {alpha:false});
        ctx.fillStyle = "red";                                // fill color set
        ctx.strokeStyle = "rgb(0, 0, 255)";                   // stroke color set
        ctx.lineWidth = 10;                                   // stroke thickness set
    // shadow --------                                        
        ctx.shadowColor = "yellow";                           // shadow paremethers set
        ctx.shadowOffsetX = 10;
        ctx.shadowOffsetY = 5;
        ctx.shadowBlur = 5;
        
        ctx.beginPath();
        ctx.rect(70, 30, 100, 75);
        ctx.stroke();               
        ctx.fill();                                           // -! shadow displayed arround the shape itself (filled area) because the shape ends with the "fill()" method the shadow hides (displayed on the top of) the stroke   
    }                                                       
    colorDemo();
&lt;/script&gt;
    </pre>
    <p> - <mark>globalCompositeOperation</mark> and <mark>globalAlpha</mark> properties </p>
    <pre>
    &lt;canvas id="demo" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var ctx = document.getElementById("demo").getContext("2d");
    ctx.fillStyle = "red";
    ctx.fillRect(10, 10, 200, 50);
    
    ctx.globalCompositeOperation = "destination-over";        // old shape overlaps the new one ("source-over" (default) = new shap overlaps the old one)
    ctx.globalAlpha = 0.5;                                    // context set to half opaque 
    
    ctx.fillStyle = "blue";
    ctx.fillRect(90, 10, 200, 50);
&lt;/script&gt; 
    </pre>
<details class="example">
    <summary> Example : </summary>
<h4><u> <mark>strokeStyle</mark> and <mark>fillStyle</mark> properties TEST </u></h4>    
    <canvas id="colorStyleCanvas" style="border:solid 1px black"></canvas>
<script>
    var coloring = function() {
        var ctx = document.getElementById("colorStyleCanvas").getContext("2d");
        ctx.strokeStyle = "white";              // global color style applied
        ctx.fillStyle = "#368ac5";
        ctx.lineWidth = 5;
        
        ctx.beginPath();
        ctx.rect(20, 50, 50, 50);
        ctx.stroke();
        ctx.fill();
        
        ctx.beginPath();
        ctx.arc(125, 75, 27, 0, Math.PI * 2);
        ctx.stroke();
        ctx.fill();
        
        ctx.beginPath();
        ctx.strokeStyle = "red";                // global styling changed, applies to all further styling (not for this path only)
        ctx.fillStyle = "lightgreen";
        ctx.ellipse(200, 75, 17, 30, 0, 0, Math.PI * 2);
        ctx.stroke();
        ctx.fill();
        
        ctx.strokeRect(250, 20, 25, 25);
        ctx.fillRect(250, 70, 25, 25);
    }
    coloring();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="colorStyleCanvas" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var coloring = function() {
        var ctx = document.getElementById("colorStyleCanvas").getContext("2d");
        ctx.strokeStyle = "white";              // global color style applied
        ctx.fillStyle = "#368ac5";
        ctx.lineWidth = 5;
        
        ctx.beginPath();
        ctx.rect(20, 50, 50, 50);
        ctx.stroke();
        ctx.fill();
        
        ctx.beginPath();
        ctx.arc(125, 75, 27, 0, Math.PI * 2);
        ctx.stroke();
        ctx.fill();
        
        ctx.beginPath();
        ctx.strokeStyle = "red";                // global styling changed, applies to all further styling (not for this path only)
        ctx.fillStyle = "lightgreen";
        ctx.ellipse(200, 75, 17, 30, 0, 0, Math.PI * 2);
        ctx.stroke();
        ctx.fill();
        
        ctx.strokeRect(250, 20, 25, 25);
        ctx.fillRect(250, 70, 25, 25);
    }
    coloring();
&lt;/script&gt;
        </pre>
        </details>
<h4><u> <mark>globalAlpha</mark> property TEST </u></h4>
    <p> - the double stroke appears because the stroke thickness arround the rectangle </p>
    <canvas id="globalAlpha" style="border:1px black solid"></canvas>
    <script>
    var globalAlpha = function() {
        var ctx = document.getElementById("globalAlpha").getContext("2d");
        ctx.strokeStyle = "red";
        ctx.fillStyle = "blue";
        ctx.lineWidth = 15;
        ctx.rect(20, 20, 50, 50);
        ctx.stroke();
        ctx.fill();
        
        ctx.globalAlpha = 0.5;              // global alpha chanel = half opaque (transparency set to the context)
        ctx.beginPath();
        ctx.rect(100, 20, 50, 50);
        ctx.stroke();
        ctx.fill();
    }
    globalAlpha();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
        &lt;canvas id="globalAlpha" style="border:1px black solid"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var globalAlpha = function() {
        var ctx = document.getElementById("globalAlpha").getContext("2d");
        ctx.strokeStyle = "red";
        ctx.fillStyle = "blue";
        ctx.lineWidth = 15;
        ctx.rect(20, 20, 50, 50);
        ctx.stroke();
        ctx.fill();
        
        ctx.globalAlpha = 0.5;              // global alpha chanel = half opaque (transparency set to the context)
        ctx.beginPath();
        ctx.rect(100, 20, 50, 50);
        ctx.stroke();
        ctx.fill();
    }
    globalAlpha();
&lt;/script&gt;  
        </pre>
        </details>
<h4><u> <mark>globalCompositeOperation</mark> property TEST </u></h4> 
    <p> - these values works properly in <u>every browsers (which supports canvas obviosly)</u></p>
    <canvas id="globalComposite" style="border:1px black solid" width="700" height="250"></canvas>
<script>
    var globalCompositeFn = function() {
        var ctx = document.getElementById("globalComposite").getContext("2d");
        ctx.font = "16px sans-serif";
        ctx.textBaseline = "middle";
        
// source-over (default) 
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 10, 40, 30);
            ctx.globalCompositeOperation = "source-over";           // default value
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 25, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.fillStyle = "black";
        ctx.fillText("\"source-over\" (default) / new shape overlaps the old one", 100, 25);
        
// soruce-atop 
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 50, 40, 30);
            ctx.globalCompositeOperation = "source-atop";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 65, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";       // I actually had to use this "soucre-over" because otherwise the text will be hidden in this (and some other) cases!
        ctx.fillStyle = "black";
        ctx.fillText("\"source-atop\" / new shape drawn only in the old shape's area", 100, 65);
        
// destination-over
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 90, 40, 30);
            ctx.globalCompositeOperation = "destination-over";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 105, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"destination-over\" / new shape is placed under the old one", 100, 105);
        
// destination-out
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 130, 40, 30);
            ctx.globalCompositeOperation = "destination-out";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 145, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"destination-out\" / all shapes are removed from the old shape's region", 100, 145);
        
// lighter
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 170, 40, 30);
            ctx.globalCompositeOperation = "lighter";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 185, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"lighter\" / retains the lightest pixels of the overlapping area", 100, 185);
        
// xor        
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 210, 40, 30);
            ctx.globalCompositeOperation = "xor";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 225, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"xor\" / overlapping area transparent", 100, 225);
    }
    globalCompositeFn();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="globalComposite" style="border:1px black solid" width="700" height="250"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var globalCompositeFn = function() {
        var ctx = document.getElementById("globalComposite").getContext("2d");
        ctx.font = "16px sans-serif";
        ctx.textBaseline = "middle";
        
// source-over (default) 
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 10, 40, 30);
            ctx.globalCompositeOperation = "source-over";           // default value
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 25, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.fillStyle = "black";
        ctx.fillText("\"source-over\" (default) / new shape overlaps the old one", 100, 25);
        
// soruce-atop 
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 50, 40, 30);
            ctx.globalCompositeOperation = "source-atop";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 65, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";       // I actually had to use this "soucre-over" because otherwise the text will be hidden in this (and some other) cases!
        ctx.fillStyle = "black";
        ctx.fillText("\"source-atop\" / new shape drawn only in the old shape's area", 100, 65);
        
// destination-over
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 90, 40, 30);
            ctx.globalCompositeOperation = "destination-over";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 105, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"destination-over\" / new shape is placed under the old one", 100, 105);
        
// destination-out
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 130, 40, 30);
            ctx.globalCompositeOperation = "destination-out";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 145, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"destination-out\" / all shapes are removed from the old shape's region", 100, 145);
        
// lighter
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 170, 40, 30);
            ctx.globalCompositeOperation = "lighter";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 185, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"lighter\" / retains the lightest pixels of the overlapping area", 100, 185);
        
// xor        
        ctx.beginPath();
        ctx.fillStyle = "blue";
        ctx.fillRect(10, 210, 40, 30);
            ctx.globalCompositeOperation = "xor";              
        ctx.beginPath();
        ctx.fillStyle = "red";
        ctx.arc(55, 225, 19, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.globalCompositeOperation = "source-over";
        ctx.fillStyle = "black";
        ctx.fillText("\"xor\" / overlapping area transparent", 100, 225);
    }
    globalCompositeFn();
&lt;/script&gt;    
        </pre>
        </details>
<h4 id="composTester"><u> <mark>globalCompositeOperation</mark> <span style="color:yellow;">TESTER</span></u></h4>    
    <p> enter a "globalCompositeOperation" value to TEST =  
        <input onchange="composTester(this.value)" type="text" value="source-over" size="30">
    </p>
    <canvas id="compositeTester" style="border:1px black solid"></canvas>
<script>
    function composTester(comp) {
        var ctx = document.getElementById("compositeTester").getContext("2d");
        
        var linearGrad = ctx.createLinearGradient(150, 0, 150, 150);
        linearGrad.addColorStop(0, "black");
        linearGrad.addColorStop(1, "white");
        ctx.fillStyle = linearGrad;
        ctx.fillRect(0, 0, 200, 150);
        
        ctx.globalCompositeOperation = comp;               // global composite value between 1st and 2nd rectangle
        
        ctx.beginPath();
        var triColorGrad = ctx.createLinearGradient(150, 0, 150, 150);
        triColorGrad.addColorStop(0, "red");
        triColorGrad.addColorStop(.5, "green");
        triColorGrad.addColorStop(1, "blue");
        ctx.fillStyle = triColorGrad;
        ctx.fillRect(100, 0, 200, 150);
        
        ctx.globalCompositeOperation = "source-over";       // guide lines (to see shape limits)
        ctx.strokeStyle = "yellow";
        ctx.moveTo(100, 0);
        ctx.lineTo(100, 150);
        ctx.moveTo(200, 0);
        ctx.lineTo(200, 150);
        ctx.stroke();
    }
    composTester("source-over");
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="compositeTester" style="border:1px black solid"&gt;&lt;/canvas&gt;
&lt;script&gt;
    function composTester(comp) {
        var ctx = document.getElementById("compositeTester").getContext("2d");
        
        var linearGrad = ctx.createLinearGradient(150, 0, 150, 150);
        linearGrad.addColorStop(0, "black");
        linearGrad.addColorStop(1, "white");
        ctx.fillStyle = linearGrad;
        ctx.fillRect(0, 0, 200, 150);
        
        ctx.globalCompositeOperation = comp;               // global composite value between 1st and 2nd rectangle
        
        ctx.beginPath();
        var triColorGrad = ctx.createLinearGradient(150, 0, 150, 150);
        triColorGrad.addColorStop(0, "red");
        triColorGrad.addColorStop(.5, "green");
        triColorGrad.addColorStop(1, "blue");
        ctx.fillStyle = triColorGrad;
        ctx.fillRect(100, 0, 200, 150);
        
        ctx.globalCompositeOperation = "source-over";       // guide lines (to see shape limits)
        ctx.strokeStyle = "yellow";
        ctx.moveTo(100, 0);
        ctx.lineTo(100, 150);
        ctx.moveTo(200, 0);
        ctx.lineTo(200, 150);
        ctx.stroke();
    }
    composTester("source-over");
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> combine multiple <mark>globalCompositeOperaton</mark> value on the same canvas context TEST </u></h4>    
    <canvas id="globCompos_multiple" style="border:1px solid black"></canvas>
<script>
    var multipleGlobalCom_Fn = function() {
        var ctx = document.getElementById("globCompos_multiple").getContext("2d");
        ctx.fillStyle = "red";
        ctx.fillRect(10, 10, 50, 50);
        
        ctx.globalCompositeOperation = "destination-over";
        
        ctx.fillStyle = "white";
        ctx.fillRect(40, 20, 50, 50);
        
        ctx.globalCompositeOperation = "source-over";
        
        ctx.fillStyle = "green";
        ctx.fillRect(70, 30, 50, 50);
        
        ctx.globalCompositeOperation = "destination-over";
        
        ctx.fillStyle = "black";
        ctx.fillRect(100, 40, 50, 50);
        
        ctx.globalCompositeOperation = "source-over";
        
        ctx.fillStyle = "blue";
        ctx.fillRect(130, 50, 50, 50);
        
        ctx.fillStyle = "orange";
        ctx.fillRect(170, 60, 50, 50);
        
        ctx.fillStyle = "yellow";
        ctx.fillRect(200, 70, 50, 50);
    }
    multipleGlobalCom_Fn();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="globCompos_multiple" style="border:1px solid black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var multipleGlobalCom_Fn = function() {
        var ctx = document.getElementById("globCompos_multiple").getContext("2d");
        ctx.fillStyle = "red";
        ctx.fillRect(10, 10, 50, 50);
        
        ctx.globalCompositeOperation = "destination-over";
        
        ctx.fillStyle = "white";
        ctx.fillRect(40, 20, 50, 50);
        
        ctx.globalCompositeOperation = "source-over";
        
        ctx.fillStyle = "green";
        ctx.fillRect(70, 30, 50, 50);
        
        ctx.globalCompositeOperation = "destination-over";
        
        ctx.fillStyle = "black";
        ctx.fillRect(100, 40, 50, 50);
        
        ctx.globalCompositeOperation = "source-over";
        
        ctx.fillStyle = "blue";
        ctx.fillRect(130, 50, 50, 50);
        
        ctx.fillStyle = "orange";
        ctx.fillRect(170, 60, 50, 50);
        
        ctx.fillStyle = "yellow";
        ctx.fillRect(200, 70, 50, 50);
    }
    multipleGlobalCom_Fn();
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> <mark>shadowOffsetX</mark> / <mark>shadowOffsetY</mark> / <mark>shadowColor</mark> / <mark>shadowBlur</mark></u></h4>    
    <canvas id="shadowCanvas"> properties TEST </canvas>
<script>
    var shadowCan = function() {
        var ctx = document.getElementById("shadowCanvas").getContext("2d", {alpha:false});
        ctx.fillStyle = "red";
        ctx.strokeStyle = "blue";
        ctx.shadowColor = "hsl(100, 75%, 50%)";
        ctx.shadowOffsetX = 25;
        ctx.shadowOffsetY = 10;
        ctx.shadowBlur = 20;
        ctx.fillRect(20, 20, 75, 75);
        
        ctx.fillRect(150, 20, 75, 75);
        
        ctx.shadowBlur = 2;
        ctx.shadowOffsetX = 3;
        ctx.shadowOffsetY = 3;
        ctx.shadowColor = "yellow";
        ctx.strokeText("some text", 120, 125);
    }
    shadowCan();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="shadowCanvas"&gt; properties TEST &lt;/canvas&gt;
&lt;script&gt;
    var shadowCan = function() {
        var ctx = document.getElementById("shadowCanvas").getContext("2d", {alpha:false});
        ctx.fillStyle = "red";
        ctx.strokeStyle = "blue";
        ctx.shadowColor = "hsl(100, 75%, 50%)";
        ctx.shadowOffsetX = 25;
        ctx.shadowOffsetY = 10;
        ctx.shadowBlur = 20;
        ctx.fillRect(20, 20, 75, 75);
        
        ctx.fillRect(150, 20, 75, 75);
        
        ctx.shadowBlur = 2;
        ctx.shadowOffsetX = 3;
        ctx.shadowOffsetY = 3;
        ctx.shadowColor = "yellow";
        ctx.strokeText("some text", 120, 125);
    }
    shadowCan();
&lt;/script&gt;      
        </pre>
        </details>
<h4><u> shadow interferes if both <mark>fill()</mark> and <mark>stroke()</mark> methods are used </u></h4>  
    <p> - 1st rectangle : the shadow is displayed arround the stroke (path ends with <mark>stroke()</mark>) = interferes with the filled area </p>
    <p> - 2nd rectangle : the shadow is displayed arround the fill (shape itself) (path ends with <mark>fill()</mark>) = interferes with the stroke </p>
    <canvas id="shadowArround" style="border:1px black solid"></canvas>
<script>
    var shadoArround = function() {
        var ctx = document.getElementById("shadowArround").getContext("2d");
        ctx.fillStyle = "white";
        ctx.strokeStyle = "red";
        ctx.lineWidth = 5;
        
        ctx.shadowColor = "green";
        ctx.shadowOffsetX = 10;
        ctx.shadowOffsetY = 10;
        
        ctx.beginPath();
        ctx.rect(20, 20, 100, 50);
        ctx.fill();
        ctx.stroke();                   // shape ended with stroke = shadow displayed arround
        
        ctx.beginPath();
        ctx.rect(150, 20, 100, 50);
        ctx.stroke();
        ctx.fill();                     // shape ended with fill = shadow displayed arround
    }
    shadoArround();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="shadowArround" style="border:1px black solid"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var shadoArround = function() {
        var ctx = document.getElementById("shadowArround").getContext("2d");
        ctx.fillStyle = "white";
        ctx.strokeStyle = "red";
        ctx.lineWidth = 2;
        
        ctx.shadowColor = "green";
        ctx.shadowOffsetX = 5;
        ctx.shadowOffsetY = 5;
        
        ctx.beginPath();
        ctx.rect(20, 20, 100, 50);
        ctx.fill();
        ctx.stroke();                   // shape ended with stroke = shadow displayed arround
        
        ctx.beginPath();
        ctx.rect(150, 20, 100, 50);
        ctx.stroke();
        ctx.fill();                     // shape ended with fill = shadow displayed arround
    }
    shadoArround();
&lt;/script&gt;     
        </pre>
        </details>
</details>      
<!------------------------------------------------------------------------------------------------------------------------------>
<hr>    
<h2 style="color:darkblue;"><u> gradients and pattern <mark>createLinearGradient()</mark> / <mark>createRadialGradient()</mark> / <mark>addColorStop()</mark> / <mark>createPattern()</mark> </u></h2> 
    <p> - the position of patterns and gradients are relative to the canvas element itself NOT the current shape</p>
    <p> - they used as <mark>strokeStyle</mark> and <mark>fillStyle</mark>, they basically appears only where the shape's stroke and fill areas are on the canvas </p>
    <pre class="syntax">
SYNTAX :    <strong>canvasCtx2D</strong>.createLinearGradient(<strong>xStart</strong>, <strong>yStart</strong>, <strong>xEnd</strong>, <strong>yEnd</strong>)                       // returns a linearGradientCanvas object with the linear coordinates set (opaque object)
                - <strong>xStart</strong> / <strong>yStart</strong> and <strong>xEnd</strong> / <strong>yEnd</strong> : start and end coordinates <u>relative to the canvas element itself NOT the shape</u> 
            <strong>canvasCtx2D</strong>.createRadialGradient(<strong>xInnerCircle</strong>, <strong>yInnerCircle</strong>, <strong>radiusInnerCircle</strong>, <strong>xOuterCircle</strong>, <strong>yOuterCircle</strong>, <strong>radiusOuterCircle</strong>)     // returns a radialGradientCanvas object with the radial coordinates set (opaque object)
                - <strong>xInnerCircle</strong> / <strong>yInnerCircle</strong> / <strong>radiusInnerCircle</strong> : inner (start) circle parameters <u>relative to the canvas element itself NOT the shape</u>
                - <strong>xOuterCircle</strong> / <strong>yOuterCircle</strong> / <strong>radiusOuterCircle</strong> : outer (end) circle parameters <u>relative to the canvas element itself NOT the shape</u>
                  
            <prot>canvasCtx2D.canvasGradient</prot>.addColorStop(<strong>colorStop_nr(0.0 - 1.0)</strong>, "<strong>colorCSS</strong>")       // specifies the color and the color stop in a canvasGradient object 
                - <strong>colorStop_nr(0.0 - 1.0)</strong> : position of the current color stop (<mark>0.0</mark> = start / <mark>1.0</mark> = end)
                
            <strong>canvasCtx2D</strong>.createPattern(<strong>media</strong>, "<strong>repeat</strong>")                                         // creates a canvasPatternObject by using a Picture, Video or Canvas element 
                - <strong>media</strong> : media to repeat (HTMLImage / SVGImage / HTMLVideo / CanvasElement)
                - "<strong>repeat</strong>" : how to repeat the image (<mark>"repeat"</mark>(default) / <mark>"repeat-x"</mark> / <mark>"repeat-y"</mark> / <mark>"no-repeat"</mark>)
    </pre>
    <pre>
    &lt;canvas id="demo" style="border:solid 1px black;"&gt;&lt;/canvas&gt;
&lt;script&gt;
    let ctx = document.getElementById("demo").getContext("2d");
    ctx.lineWidth = 15;
// create linear gradient     
    var linearGradient = ctx.createLinearGradient(0, 75, 300, 75);      // linear gradient goes from the very left to the very right // -! relative to the canvas element NOT the shape!
    linearGradient.addColorStop(0, "white");                            // assign color stops to the gradient object (0 is the start point)
    linearGradient.addColorStop(.5, "blue");                            
    linearGradient.addColorStop(1, "red");                              // 1 is the ending point (scale goes from 0 to 1);
// create radial gradient
    var radialGradient = ctx.createRadialGradient(150, 75, 10, 150, 75, 80);    // the inner and outer circle is the same but it is possible to position elsewhere, this could create interesting effects
    radialGradient.addColorStop(0, "white");
    radialGradient.addColorStop(.3, "blue");
    radialGradient.addColorStop(.6, "green");
    radialGradient.addColorStop(1, "red");
    
    ctx.fillStyle = linearGradient;                                     // gradient object are declared as styles
    ctx.strokeStyle = radialGradient;
    
    ctx.fillRect(20, 20, 100, 100);                                     // gradients visible only on these areas (fancy stuff)
    ctx.strokeRect(150, 20, 100, 100);
&lt;/script&gt; 
    </pre>
     <p> - pattern </p>
    <pre>
    &lt;canvas id="demo" style="border:solid 1px black;"&gt;&lt;/canvas&gt;
        &lt;img src="lamp.jpg" style="display:none;"&gt;                      // image is present in the DOM but not displayed
&lt;script&gt;
    let ctx = document.getElementById("demo").getContext("2d");
    var img = document.querySelector('[src="lamp.jpg"]');               // get the image from the DOM
    var pattern = ctx.createPattern(img, "repeat");                     // create image pattern (different repeat options are available)  // -! video can be used as pattern too but the canvas has to be redrawn in order to display the playing video (see demo below)  
    
    ctx.fillStyle = pattern;                                            // pattern used as fill style 
    
    ctx.fillRect(10, 10, 280, 130);                                     // filled rectange uses the patern as fill style
&lt;/script&gt; 
    </pre>
<details class="example">
    <summary> Example : </summary>
<h4><u> <mark>createLinearGradient()</mark> method TEST </u></h4>    
    <canvas id="linearGradientTest" style="border:solid 1px black;"></canvas>
    <canvas id="linearGradientFull" style="border:solid 1px black;"></canvas>
<script>
    var linearGrad = function() {
        var ctx = document.getElementById("linearGradientTest").getContext("2d");
        var linearGradient = ctx.createLinearGradient(0, 0, 300, 150);      // create the linear gradient canvas object
        linearGradient.addColorStop(0, "red");                              // add color stop to the returned gradient object
        linearGradient.addColorStop(1, "black");
        
        ctx.fillStyle = linearGradient;                                     // can apply as fill and stroke to the context
        ctx.strokeStyle = linearGradient;
        
        ctx.lineWidth = 20;
        ctx.strokeRect(20, 20, 100, 120);
        ctx.fillRect(150, 20, 120, 120);
    }
    linearGrad();
    
    var liearGradientFull = function() {
        var ctx = document.getElementById("linearGradientFull").getContext("2d");
        var linearGradient = ctx.createLinearGradient(150, 0, 150, 100);    // create linear gradient canvas object
        linearGradient.addColorStop(0, "white");                            // color stops set
        linearGradient.addColorStop(0.2, "red");
        linearGradient.addColorStop(0.4, "green");
        linearGradient.addColorStop(.6, "orange");
        linearGradient.addColorStop(.8, "magenta");
        linearGradient.addColorStop(1, "black");
        ctx.fillStyle = linearGradient;                                     // set the linear gradeint object as fill style
        
        ctx.fillRect(10, 10, 280, 130);
    }
    liearGradientFull();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="linearGradientTest" style="border:solid 1px black;"&gt;>&lt;/canvas&gt;
    &lt;canvas id="linearGradientFull" style="border:solid 1px black;"&gt;>&lt;/canvas&gt;
&lt;script&gt;
    var linearGrad = function() {
        var ctx = document.getElementById("linearGradientTest").getContext("2d");
        var linearGradient = ctx.createLinearGradient(0, 0, 300, 150);      // create the linear gradient canvas object
        linearGradient.addColorStop(0, "red");                              // add color stop to the returned gradient object
        linearGradient.addColorStop(1, "black");
        
        ctx.fillStyle = linearGradient;                                     // can apply as fill and stroke to the context
        ctx.strokeStyle = linearGradient;
        
        ctx.lineWidth = 20;
        ctx.strokeRect(20, 20, 100, 120);
        ctx.fillRect(150, 20, 120, 120);
    }
    linearGrad();
    
    var liearGradientFull = function() {
        var ctx = document.getElementById("linearGradientFull").getContext("2d");
        var linearGradient = ctx.createLinearGradient(150, 0, 150, 100);    // create linear gradient canvas object
        linearGradient.addColorStop(0, "white");                            // color stops set
        linearGradient.addColorStop(0.2, "red");
        linearGradient.addColorStop(0.4, "green");
        linearGradient.addColorStop(.6, "orange");
        linearGradient.addColorStop(.8, "magenta");
        linearGradient.addColorStop(1, "black");
        ctx.fillStyle = linearGradient;                                     // set the linear gradeint object as fill style
        
        ctx.fillRect(10, 10, 280, 130);
    }
    liearGradientFull();
&lt;/script&gt; 
        </pre>
        </details>
<h4><u> <mark>createRadialGradient()</mark> method TEST </u></h4>    
    <p> - the ending (outer) circle has the same center coordinates </p>
    <canvas id="radialGradientTest" style="border:solid 1px black;" width="150"></canvas>
    <canvas id="radialGradientFull" style="border:solid 1px black;" width="150"></canvas>
<script>
    var radialGrad = function() {
        var ctx = document.getElementById("radialGradientTest").getContext("2d");
        var radGradient = ctx.createRadialGradient(75, 75, 30, 75, 75, 55);
        radGradient.addColorStop(0, "red");
        radGradient.addColorStop(1, "black");
        ctx.lineWidth = 30;
        ctx.strokeStyle = radGradient;
        
        ctx.beginPath();
        ctx.arc(75, 75, 40, 0, 7);
        ctx.stroke();
        
    }
    radialGrad();
    
    var radialGradFull = function() {
        var ctx = document.getElementById("radialGradientFull").getContext("2d");
        var radGradient = ctx.createRadialGradient(75, 75, 0, 75, 75, 75);
        radGradient.addColorStop(0, "red");
        radGradient.addColorStop(.5, "white");
        radGradient.addColorStop(1, "darkgreen");
        ctx.lineWidth = 30;
        ctx.fillStyle = radGradient;
        
        ctx.fillRect(0,0, 150, 150);
    }
    radialGradFull();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="radialGradientTest" style="border:solid 1px black;" width="150"&gt;&lt;/canvas&gt;
    &lt;canvas id="radialGradientFull" style="border:solid 1px black;" width="150"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var radialGrad = function() {
        var ctx = document.getElementById("radialGradientTest").getContext("2d");
        var radGradient = ctx.createRadialGradient(75, 75, 30, 75, 75, 55);
        radGradient.addColorStop(0, "red");
        radGradient.addColorStop(1, "black");
        ctx.lineWidth = 30;
        ctx.strokeStyle = radGradient;
        
        ctx.beginPath();
        ctx.arc(75, 75, 40, 0, 7);
        ctx.stroke();
        
    }
    radialGrad();
    
    var radialGradFull = function() {
        var ctx = document.getElementById("radialGradientFull").getContext("2d");
        var radGradient = ctx.createRadialGradient(75, 75, 0, 75, 75, 75);
        radGradient.addColorStop(0, "red");
        radGradient.addColorStop(.5, "white");
        radGradient.addColorStop(1, "darkgreen");
        ctx.lineWidth = 30;
        ctx.fillStyle = radGradient;
        
        ctx.fillRect(0,0, 150, 150);
    }
    radialGradFull();
&lt;/script&gt;        
        </pre>
        </details>
<h4><u> <mark>createRadialGradient()</mark> method TEST 2 </u></h4>   
    <p> - the ending (outer) circle has different center than the inner one here </p>
    <canvas id="radG1" style="border:solid 1px black;"></canvas>
    <canvas id="radG2" style="border:solid 1px black;"></canvas>
<script>
    var outerCircle = function() {
        var ctx = document.getElementById("radG1").getContext("2d");
        var gradient1 = ctx.createRadialGradient(75, 75, 0, 130, 75, 60);
        gradient1.addColorStop(0, "red");
        gradient1.addColorStop(.5, "white");
        gradient1.addColorStop(1, "green");
        ctx.fillStyle = gradient1;
        
        ctx.fillRect(10, 10, 280, 130);
        
    // rectagnel 2
        var ctx2 = document.getElementById("radG2").getContext("2d");
        var gradient2 = ctx2.createRadialGradient(75, 75, 0, 140, 75, 60);      // the outer circle is out of range = causes wierd effect
        gradient2.addColorStop(0, "red");
        gradient2.addColorStop(.5, "white");
        gradient2.addColorStop(1, "green");
        ctx2.fillStyle = gradient2;
        
        ctx2.fillRect(10, 10, 280, 130);
    }
    outerCircle();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="radG1" style="border:solid 1px black;"&gt;&lt;/canvas&gt;
    &lt;canvas id="radG2" style="border:solid 1px black;"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var outerCircle = function() {
        var ctx = document.getElementById("radG1").getContext("2d");
        var gradient1 = ctx.createRadialGradient(75, 75, 0, 130, 75, 60);
        gradient1.addColorStop(0, "red");
        gradient1.addColorStop(.5, "white");
        gradient1.addColorStop(1, "green");
        ctx.fillStyle = gradient1;
        
        ctx.fillRect(10, 10, 280, 130);
        
    // rectagnel 2
        var ctx2 = document.getElementById("radG2").getContext("2d");
        var gradient2 = ctx2.createRadialGradient(75, 75, 0, 140, 75, 60);      // the outer circle is out of range = causes wierd effect
        gradient2.addColorStop(0, "red");
        gradient2.addColorStop(.5, "white");
        gradient2.addColorStop(1, "green");
        ctx2.fillStyle = gradient2;
        
        ctx2.fillRect(10, 10, 280, 130);
    }
    outerCircle();
&lt;/script&gt;     
        </pre>
        </details>
<h4><u> <mark>createPattern()</mark> image TEST </u></h4>    
    <canvas id="patternTest1" style="border:solid 1px black;"></canvas>
        <img src="lamp.jpg" style="display:none;">          
<script>
    var patterntTest = function() {
        var ctx = document.getElementById("patternTest1").getContext("2d");
        var img = document.querySelector('[src="lamp.jpg"]');
        var pattern = ctx.createPattern(img, "repeat");                 // image repeated both horizontally and vertically
        ctx.strokeStyle = pattern;
        ctx.lineWidth = 30;
        
        ctx.strokeRect(10, 10, 280, 130);
    }
    patterntTest();
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="patternTest1" style="border:solid 1px black;"&gt;&lt;/canvas&gt;
        &lt;img src="lamp.jpg" style="display:none;"&gt;                // image not displayed
&lt;script&gt;
    var patterntTest = function() {
        var ctx = document.getElementById("patternTest1").getContext("2d");
        var img = document.querySelector('[src="lamp.jpg"]');
        var pattern = ctx.createPattern(img, "repeat");           // image repeated both horizontally and vertically
        ctx.strokeStyle = pattern;
        ctx.lineWidth = 30;
        
        ctx.strokeRect(10, 10, 280, 130);
    }
    patterntTest();
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> <mark>createPattern()</mark> video TEST </u></h4> 
    <p> - we need to refresh (redraw) the canvas every time in order to get the motion picture </p>
    <canvas id="patternTest2" style="border:solid 1px black;"></canvas>
        <video id="myVideo" width="300" autoplay muted loop style="visibility:hidden;"> 
            <source src="HTML5 Video.mp4" type="video/mp4">
        </video>
<script>
    function videoPlay() {                                      // we recreate the canvas 60 times per second
        var ctx = document.getElementById("patternTest2").getContext("2d");
        var vid = document.getElementById("myVideo");
        var video = ctx.createPattern(vid, "no-repeat");        // use the video element as pattern
        ctx.fillStyle = video;
        ctx.fillRect(10, 10, 280, 130);                         // any fancy shape could be used 
        
        frameCtrl = requestAnimationFrame(videoPlay);
    }
    var frameCtrl = window.requestAnimationFrame(videoPlay);    // calls the canvas 60 times per second
    
    window.setTimeout(stopAnimation, 20000);                    // this enshures that the vide stops after 20 secons (plays 2 times)
    function stopAnimation() {
        window.cancelAnimationFrame(frameCtrl);
    }
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="patternTest2" style="border:solid 1px black;"&gt;&lt;/canvas&gt;
        &lt;video id="myVideo" width="300" autoplay muted loop style="visibility:hidden;"&gt; 
            &lt;source src="HTML5 Video.mp4" type="video/mp4"&gt;
        &lt;/video&gt;
&lt;script&gt;
    function videoPlay() {                                      // we recreate the canvas 60 times per second
        var ctx = document.getElementById("patternTest2").getContext("2d");
        var vid = document.getElementById("myVideo");
        var video = ctx.createPattern(vid, "no-repeat");        // use the video element as pattern
        ctx.fillStyle = video;
        ctx.fillRect(10, 10, 280, 130);                         // any fancy shape could be used 
        
        frameCtrl = requestAnimationFrame(videoPlay);
    }
    var frameCtrl = window.requestAnimationFrame(videoPlay);    // calls the canvas 60 times per second
    
    window.setTimeout(stopAnimation, 20000);                    // this enshures that the vide stops after 20 secons (plays 2 times)
    function stopAnimation() {
        window.cancelAnimationFrame(frameCtrl);
    }
&lt;/script&gt;    
        </pre>
        </details>
</details>    
<!------------------------------------------------------------------------------------------------------------------------------>
<hr>    
<h2 style="color:darkblue;"><u> lines <mark>lineWidth</mark> / <mark>lineCap</mark> / <mark>lineJoin</mark> / <mark>miterLimit</mark> / <mark>getLineDash()</mark> / <mark>setLineDash()</mark> / <mark>lineDashOffset</mark> </u></h2>    
    <p> - canvas split the lineWidth by half/half arround shapes or tatgeted coordinates, if the line (stroke) width is placed <u>between</u> two pixels, partially filled line pixels will be shaded, making the line blurry </p>
    <img src="gridLines.png" alt="canvas line width explained">
    <p style="color:yellow;"> - this is a generaly drawing issue in canvas, <u>any</u> line or filed area which partially fills pixels will have blurry edges! </p>
    <pre class="syntax">
SYNTAX :    <strong>canvasCtx2D</strong>.lineWidth = <strong>nr(px)</strong>                              // gets or sets the line width of the canvas context (line width is split by half/half around shapes)
            <strong>canvasCtx2D</strong>.lineCap = "<strong>butt/round/square</strong>"                   // gets or sets the line ending cap style of the canvas context
                - "<strong>butt/round/square</strong>" : (<mark>"blunt"</mark>(default) flat edge / <mark>"round"</mark> rounded edge / <mark>"square"</mark> square added at the end of lines)
            <strong>canvasCtx2D</strong>.lineJoin = "<strong>miter/round/bevel</strong>"                  // gets or sets the type of corner created when two lines meet of the canvas context
                - "<strong>miter/round/bevel</strong>" : (<mark>"miter"</mark>(default) sharp / <mark>"round"</mark> rounded / <mark>"bevel"</mark> bevel (cut at the limit))
            <strong>canvasCtx2D</strong>.miterLimit = <strong>nr(px)</strong>                             // gets or sets the maximum miter length (default <mark>10</mark>), if the mitter is bigger than the set limit value (<mark>(lineWidth / 2 ) / miterLength</mark>) line join set to <mark>"blunt"</mark> (only works if the lineJoin is set to "miter")  
            
            <strong>canvasCtx2D</strong>.setLineDash([<i>line_nr(px)</i>, <i>space_nr(px)</i>, <i>...</i>])   // sets the line dash pattern of the canvas context (no value = no line dash / 1 value = 1line and 1space (repeat))
            <strong>canvasCtx2D</strong>.getLineDash()                                   // returns the line dash patern as an Array of the canvas context
            <strong>canvasCtx2D</strong>.lineDashOffset = <strong>nr(px)</strong>                         // gets or sets the "offset" of the dashed line (moves "off" [ex: horizontal line moves dashed line to the left on its frame]) 
    </pre>
    <img src="Miter.jpg" alt="miter" height="100">
    <pre>
    &lt;canvas id="demo"&gt;&lt;/canvas&gt;
&lt;script&gt;
    let ctx = document.getElementById("demo").getContext("2d");
    ctx.lineWidth = 10;                 // line width set
    ctx.lineCap = "round";              // line ends are rounded
    ctx.lineJoin = "miter";             // when two lines meet (this is the default)
    ctx.miterLimit = 1;                 // this turns the "lineJoin" value to "bevel" (limits the miter)
    
    ctx.beginPath();
    ctx.moveTo(20, 120);
    ctx.lineTo(150, 20);
    ctx.lineTo(280, 120);
    ctx.stroke();
&lt;/script&gt;
    </pre>
    <p> - line dash </p>
    <pre>
    &lt;canvas id="demo"&gt;&lt;/canvas&gt;
&lt;script&gt;
    let ctx = document.getElementById("demo").getContext("2d");
    ctx.setLineDash([10]);              // equalt to [10, 10] sets the line dash to 10px line - 10px space - 10px line - 10px space ...(repeat)
    ctx.setLineDash([5, 10, 15, 20]);   // 5px line - 10 space - 15px line - 20 space ...(repeat)
    ctx.lineDashOffset = 3;             // moves the dashed line to the left 3px on its frame (off moved part is not visible)
    
    ctx.moveTo(20, 75);
    ctx.lineTo(280, 75);
    ctx.stroke();
    
    ctx.getLineDash();                  // -> [5, 10, 15, 20]   // returns the line dash values
&lt;/script&gt;
    </pre>
<details class="example">
    <summary> Example : </summary>
<h4><u> <mark>lineWidth</mark> property TEST </u></h4>
    <p> - stroke (line) width is divided by half/half around the shape </p>
    <canvas id="lineWidthsT" style="border:solid 1px black"></canvas>
<script>
    var lineWidthTEST = function() {
        var ctx = document.getElementById("lineWidthsT").getContext("2d");
        ctx.beginPath();
        ctx.moveTo(20, 20);
        ctx.lineTo(20, 130);
        ctx.stroke();                       // default line width = 1px;
        
        ctx.beginPath();
        ctx.lineWidth = 5;                  // line width set to 5px
        ctx.moveTo(40, 20);
        ctx.lineTo(40, 130);
        ctx.stroke();
        
        ctx.beginPath();                    // the stroke (line) around the shape is split in the middle
        ctx.lineWidth = 15;
        ctx.strokeStyle = "rgba(255, 0, 0, .3)";    // transparent stroke shows the stroke split
        ctx.fillStyle = "blue";
        
        ctx.rect(90, 20, 120, 100);
        ctx.fill();
        ctx.stroke();
    }
    lineWidthTEST();
</script>   
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="lineWidthsT" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var lineWidthTEST = function() {
        var ctx = document.getElementById("lineWidthsT").getContext("2d");
        ctx.beginPath();
        ctx.moveTo(20, 20);
        ctx.lineTo(20, 130);
        ctx.stroke();                       // default line width = 1px;
        
        ctx.beginPath();
        ctx.lineWidth = 5;                  // line width set to 5px
        ctx.moveTo(40, 20);
        ctx.lineTo(40, 130);
        ctx.stroke();
        
        ctx.beginPath();                    // the stroke (line) around the shape is split in the middle
        ctx.lineWidth = 15;
        ctx.strokeStyle = "rgba(255, 0, 0, .3)";    // transparent stroke shows the stroke split
        ctx.fillStyle = "blue";
        
        ctx.rect(90, 20, 120, 100);
        ctx.fill();
        ctx.stroke();
    }
    lineWidthTEST();
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> <mark>lineCap</mark> property TEST </u></h4>    
    <canvas id="lineCapT" style="border:solid 1px black"></canvas>
<script>
    var lineCapTEST = function() {
        var ctx = document.getElementById("lineCapT").getContext("2d");
    // guide lines to see the difference
        ctx.beginPath();
        ctx.strokeStyle = "red";
        ctx.moveTo(40, 0);
        ctx.lineTo(40, 150);
        ctx.moveTo(260, 0);
        ctx.lineTo(260, 150);
        ctx.stroke();
        
    // line Cap test    
        ctx.lineWidth = 10;
        ctx.strokeStyle = "black";
        
        ctx.beginPath();            
        ctx.lineCap = "butt";       // default 
        ctx.moveTo(40, 60);
        ctx.lineTo(260, 60);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineCap = "round";      // rounded line cap ADDED!
        ctx.moveTo(40, 80);
        ctx.lineTo(260, 80);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineCap = "square";     // square line cap ADDED!
        ctx.moveTo(40, 100);
        ctx.lineTo(260, 100);
        ctx.stroke();
    }
    lineCapTEST();
</script>   
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="lineCapT" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var lineCapTEST = function() {
        var ctx = document.getElementById("lineCapT").getContext("2d");
    // guide lines to see the difference
        ctx.beginPath();
        ctx.strokeStyle = "red";
        ctx.moveTo(40, 0);
        ctx.lineTo(40, 150);
        ctx.moveTo(260, 0);
        ctx.lineTo(260, 150);
        ctx.stroke();
        
    // line Cap test    
        ctx.lineWidth = 10;
        ctx.strokeStyle = "black";
        
        ctx.beginPath();            
        ctx.lineCap = "butt";       // default 
        ctx.moveTo(40, 60);
        ctx.lineTo(260, 60);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineCap = "round";      // rounded line cap ADDED!
        ctx.moveTo(40, 80);
        ctx.lineTo(260, 80);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineCap = "square";     // square line cap ADDED!
        ctx.moveTo(40, 100);
        ctx.lineTo(260, 100);
        ctx.stroke();
    }
    lineCapTEST();
&lt;/script&gt;      
        </pre>
        </details>
<h4><u> <mark>lineJoin</mark> property TEST </u></h4>    
    <canvas id="lineJoinT" style="border:solid 1px black"></canvas>
<script>
    var lineJoinTEST = function() {
        var ctx = document.getElementById("lineJoinT").getContext("2d");
        ctx.strokeStyle = "red";            // this is the join limit
        ctx.beginPath();
        ctx.moveTo(0, 20);
        ctx.lineTo(300, 20);
        ctx.stroke();
        
        ctx.lineWidth = 10;
        ctx.strokeStyle = "black";
        
        ctx.beginPath();
        ctx.lineJoin = "miter";             // default value
        ctx.moveTo(20, 130);
        ctx.lineTo(50, 20);
        ctx.lineTo(80, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineJoin = "round";             // rounded
        ctx.moveTo(100, 130);
        ctx.lineTo(130, 20);
        ctx.lineTo(160, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineJoin = "bevel";             // cut at the line limit
        ctx.moveTo(180, 130);
        ctx.lineTo(210, 20);
        ctx.lineTo(240, 130);
        ctx.stroke();
    }
    lineJoinTEST();
</script>       
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="lineJoinT" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var lineJoinTEST = function() {
        var ctx = document.getElementById("lineJoinT").getContext("2d");
        ctx.strokeStyle = "red";            // this is the join limit
        ctx.beginPath();
        ctx.moveTo(0, 20);
        ctx.lineTo(300, 20);
        ctx.stroke();
        
        ctx.lineWidth = 10;
        ctx.strokeStyle = "black";
        
        ctx.beginPath();
        ctx.lineJoin = "miter";             // default value
        ctx.moveTo(20, 130);
        ctx.lineTo(50, 20);
        ctx.lineTo(80, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineJoin = "round";             // rounded
        ctx.moveTo(100, 130);
        ctx.lineTo(130, 20);
        ctx.lineTo(160, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineJoin = "bevel";             // cut at the line limit
        ctx.moveTo(180, 130);
        ctx.lineTo(210, 20);
        ctx.lineTo(240, 130);
        ctx.stroke();
    }
    lineJoinTEST();
&lt;/script&gt;           
        </pre>
        </details>
<h4><u> <mark>miterLimit</mark> property TEST </u></h4>    
    <canvas id="miterLimitT" style="border:solid 1px black"></canvas>
<script>
    var miterLimitTEST = function() {
        var ctx = document.getElementById("miterLimitT").getContext("2d");
        ctx.strokeStyle = "red";            // this is the join limit
        ctx.beginPath();
        ctx.moveTo(0, 20);
        ctx.lineTo(300, 20);
        ctx.stroke();
        
        ctx.lineWidth = 10;
        ctx.strokeStyle = "black";
        
        ctx.beginPath();
        ctx.miterLimit = 10;                // default mitter limit value (10)
        ctx.moveTo(0, 130);
        ctx.lineTo(30, 20);
        ctx.lineTo(60, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.miterLimit = 4;                 // miter is smaller than the set limit value = no bevel edge
        ctx.moveTo(80, 130);
        ctx.lineTo(110, 20);
        ctx.lineTo(140, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.miterLimit = 3;                 // miter is bigger than the set limit value = bevel edge 
        ctx.moveTo(160, 130);
        ctx.lineTo(190, 20);
        ctx.lineTo(220, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(240, 130);
        ctx.lineTo(270, 20);
        ctx.lineTo(300, 130);
        ctx.stroke();
        
        // miter calculation formula is ((lineWidth / 2 ) / miter length)  
    }
    miterLimitTEST();
</script> 
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="miterLimitT" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var miterLimitTEST = function() {
        var ctx = document.getElementById("miterLimitT").getContext("2d");
        ctx.strokeStyle = "red";            // this is the join limit
        ctx.beginPath();
        ctx.moveTo(0, 20);
        ctx.lineTo(300, 20);
        ctx.stroke();
        
        ctx.lineWidth = 10;
        ctx.strokeStyle = "black";
        
        ctx.beginPath();
        ctx.miterLimit = 10;                // default mitter limit value (10)
        ctx.moveTo(0, 130);
        ctx.lineTo(30, 20);
        ctx.lineTo(60, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.miterLimit = 4;                 // miter is smaller than the set limit value = no bevel edge
        ctx.moveTo(80, 130);
        ctx.lineTo(110, 20);
        ctx.lineTo(140, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.miterLimit = 3;                 // miter is bigger than the set limit value = bevel edge 
        ctx.moveTo(160, 130);
        ctx.lineTo(190, 20);
        ctx.lineTo(220, 130);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(240, 130);
        ctx.lineTo(270, 20);
        ctx.lineTo(300, 130);
        ctx.stroke();
        
        // miter calculation formula is ((lineWidth / 2 ) / miter length)  
    }
    miterLimitTEST();
&lt;/script&gt;     
        </pre>
        </details>
<h4><u> <mark>getLineDash()</mark> / <mark>setLineDash()</mark> / <mark>lineDashOffset</mark> TEST </u></h4>    
    <canvas id="lineDashT" style="border:solid 1px black"></canvas>
<script>
    var lineDashTest = function() {
        var ctx = document.getElementById("lineDashT").getContext("2d");
        ctx.lineWidth = 10;
        
        ctx.beginPath();
        ctx.setLineDash([10]);                  // 10px line and 10px space, same as [10, 10]
        ctx.moveTo(40, 40);
        ctx.lineTo(260, 40);
        ctx.stroke();
        
        ctx.beginPath();                        // we use the same line dash value here (no declaration)
        ctx.lineDashOffset = 5;                 // line start position moved 5px "off" (left in this situation)
        ctx.moveTo(40, 60);
        ctx.lineTo(260, 60);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineDashOffset = 0;                 // lineDashOffest set back to default value
        ctx.setLineDash([10, 5, 5, 5]);         // 10px line, 5px space, 5px space, 5px line
        ctx.moveTo(40, 80);
        ctx.lineTo(260, 80);
        ctx.stroke();
        
        ctx.font = "20px Arial";
        ctx.fillText(`line dash set to = ${ctx.getLineDash()}`, 20, 120);       // get the line dash informations
    }
    lineDashTest();
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="lineDashT" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var lineDashTest = function() {
        var ctx = document.getElementById("lineDashT").getContext("2d");
        ctx.lineWidth = 10;
        
        ctx.beginPath();
        ctx.setLineDash([10]);                  // 10px line and 10px space, same as [10, 10]
        ctx.moveTo(40, 40);
        ctx.lineTo(260, 40);
        ctx.stroke();
        
        ctx.beginPath();                        // we use the same line dash value here (no declaration)
        ctx.lineDashOffset = 5;                 // line start position moved 5px "off" (left in this situation)
        ctx.moveTo(40, 60);
        ctx.lineTo(260, 60);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineDashOffset = 0;                 // lineDashOffest set back to default value
        ctx.setLineDash([10, 5, 5, 5]);         // 10px line, 5px space, 5px space, 5px line
        ctx.moveTo(40, 80);
        ctx.lineTo(260, 80);
        ctx.stroke();
        
        ctx.font = "20px Arial";
        ctx.fillText(`line dash set to = ${ctx.getLineDash()}`, 20, 120);       // get the line dash informations
    }
    lineDashTest();
&lt;/script&gt;
        </pre>
        </details>
<h4><u> <mark>lineDashOffset</mark> ant frame animation (I'm awesome) </u></h4>    
    <canvas id="lineDashAnts"></canvas>
<script>
    let ctxAnt = document.getElementById("lineDashAnts").getContext("2d");
    var dashOffset = 0;
    ctxAnt.lineWidth = 10;
    
    var antFrame = function() {
        ctxAnt.clearRect(0, 0, 300, 150);           // remove the previous position
        ctxAnt.setLineDash([10]);
        ctxAnt.lineDashOffset = dashOffset;         // this where the move happens
        ctxAnt.strokeRect(0, 0, 300, 150);
        ctxAnt.stroke();
        dashOffset += 0.1;
        
        requestAnimationFrame(antFrame);
    }
    window.requestAnimationFrame(antFrame);         // call the canvas 60 times per second for the animation
</script>    
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="lineDashAnts"&gt;&lt;/canvas&gt;
&lt;script&gt;
    let ctxAnt = document.getElementById("lineDashAnts").getContext("2d");
    var dashOffset = 0;
    ctxAnt.lineWidth = 10;
    
    var antFrame = function() {
        ctxAnt.clearRect(0, 0, 300, 150);           // remove the previous position
        ctxAnt.setLineDash([10]);
        ctxAnt.lineDashOffset = dashOffset;         // this where the move happens
        ctxAnt.strokeRect(0, 0, 300, 150);
        ctxAnt.stroke();
        dashOffset += 0.1;
        
        requestAnimationFrame(antFrame);
    }
    window.requestAnimationFrame(antFrame);         // call the canvas 60 times per second for the animation
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> line blurrynes in canvas TEST </u></h4>    
    <p> - first lines are blurry because their width partially touch adjacent pixels  </p>
    <p> - second lines are crisp because they are preflecty filling pixels </p>
    <p> - fill area has the same blury problem </p>
    <canvas id="lineCrisp" style="border:solid 1px black"></canvas>
<script>
    var lineCrisp = function() {
        var ctx = document.getElementById("lineCrisp").getContext("2d");
        ctx.lineWidth = 5;              // blurry line because its width partially touces other pixels  
        ctx.moveTo(20, 10);             // line width goes from 17.5 to 22.5, (partially touches 17 and 22 pixels, this causes blurriness)
        ctx.lineTo(20, 140);
        ctx.stroke();
        
        ctx.beginPath();                // same line width but crisp edges, because no partially filled pixels here 
        ctx.moveTo(40.5, 10);           // line width goes from 38 to 43 (fullfils ist pixels, this makes crisp lines )  
        ctx.lineTo(40.5, 140);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineWidth = 13;             
        ctx.moveTo(100, 10);
        ctx.lineTo(100, 140);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(130.5, 10);
        ctx.lineTo(130.5, 140);
        ctx.stroke();
        
        ctx.beginPath();                // same goes for the filled area edges
        ctx.fillRect(180.5, 30.5, 100, 100);
    }
    lineCrisp();
</script> 
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;canvas id="lineCrisp" style="border:solid 1px black"&gt;&lt;/canvas&gt;
&lt;script&gt;
    var lineCrisp = function() {
        var ctx = document.getElementById("lineCrisp").getContext("2d");
        ctx.lineWidth = 5;              // blurry line because its width partially touces other pixels  
        ctx.moveTo(20, 10);             // line width goes from 17.5 to 22.5, (partially touches 17 and 22 pixels, this causes blurriness)
        ctx.lineTo(20, 140);
        ctx.stroke();
        
        ctx.beginPath();                // same line width but crisp edges, because no partially filled pixels here
        ctx.moveTo(40.5, 10);           // line width goes from 38 to 43 (fullfils ist pixels, this makes crisp lines )  
        ctx.lineTo(40.5, 140);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.lineWidth = 13;             
        ctx.moveTo(100, 10);
        ctx.lineTo(100, 140);
        ctx.stroke();
        
        ctx.beginPath();
        ctx.moveTo(130.5, 10);
        ctx.lineTo(130.5, 140);
        ctx.stroke();
        
        ctx.beginPath();                // same goes for the filled area edges
        ctx.fillRect(180.5, 30.5, 100, 100);
    }
    lineCrisp();
&lt;/script&gt;     
        </pre>
        </details>
</details>    
    
    <br><br>
</body>
</html>