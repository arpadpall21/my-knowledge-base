<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> Demo </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
  </head>

  <body>
    <h1> Config Files </h1>
    <p> Updated: ( 2025-09-17 ) </p>
    <nav class="sitenav">
      <a href="../../index.html">MySite > </a> 
      <a href="../index.html">Kubernetes > </a> Config Files
    </nav>
    <h2 class="headerSection"> Notes : </h2>

    <h2 class="headerSection"> Useful Links : </h2>

    <h2 class="headerSection"> Remember This : </h2>

    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - Kubernetes config files have 3 sections: <mark class="mark">metadata</mark>, <mark class="mark">specification</mark> and <mark class="mark">status</mark> (the status is automatically generated, Kubernetess uses it to compare the desired VS actual status from here) </p>
    <p> - components are identified by lables and names then referenced by other components </p>
    <!----------------------------------------------------------------------------------------------->
    <hr>
    <img src="ExampleCluster.png" alt="ExampleCluster.png" height="250">
    <p> - config files below describe this architecture </p>
    <pre>
// mongo-db.yaml (file) 
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: mongo-db-deployment
      labels:
        app: mongo-db
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: mongo-db
      template:
        metadata:
          labels:
            app: mongo-db
        spec:
          containers:
          - name: mongo-db
            image: mongo:8.0                      // container
            ports:
            - containerPort: 27017
            env:                                  // environment variables for the container
            - name: MONGO_INITDB_ROOT_USERNAME
              valueFrom:
                secretKeyRef:                     // get value from secret
                  name: mongo-secret              // references the secret name
                  key: mongo-root-username        // references the secret key's value
            - name: MONGO_INITDB_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: mongo-secret
                  key: mongo-root-password
    ---                                           // config separator -> several configs can be declared in the same file
    apiVersion: v1
    kind: Service
    metadata:
      name: mongo-db-service
    spec:
      selector:
        app: mongo-db                             // service references the deployment by its label
      ports:
        - protocol: TCP
          port: 27017
          targetPort: 27017
    </pre>
    <pre>
// mongo-express.yaml (file) 
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: mongo-express-deployment
      labels:
        app: mongo-express
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: mongo-express
      template:
        metadata:
          labels:
            app: mongo-express
        spec:
          containers:
          - name: mongo-express
            image: mongo-express:1.0
            ports:
            - containerPort: 8081
            env:
            - name: ME_CONFIG_MONGODB_ADMINUSERNAME
              valueFrom:
                secretKeyRef:
                  name: mongo-secret
                  key: mongo-root-username
            - name: ME_CONFIG_MONGODB_ADMINPASSWORD
              valueFrom:
                secretKeyRef:
                  name: mongo-secret
                  key: mongo-root-password
            - name: ME_CONFIG_MONGODB_SERVER
              valueFrom:
                configMapKeyRef:              // get value from configmap
                  name: mongo-configmap       // references the configmap
                  key: database_url           // references the secret key's value
    ---
    apiVersion: v1
    kind: Service
    metadata:
      name: mongodb-express-service
    spec:
      selector:
        app: mongo-express                  // service references the deployment by its label
      type: LoadBalancer                    // external service
      ports:
        - protocol: TCP
          port: 8081
          targetPort: 8081
          nodePort: 30001                   // available IP range for external port is 30000 - 32767
    </pre>
    <pre>
// mongo-configmap.yaml (file)
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: mongo-configmap
    data:
      database_url: mongo-db-service       // service name
    </pre>
    <pre>
// mongo-secret.yaml (file)
    apiVersion: v1
    kind: Secret
    metadata:
      name: mongo-secret
    type: Opaque
    data:
      mongo-root-username: dGVzdFVzZXI=       # testUser        // secrets must be base64 encoded
      mongo-root-password: dGVzdFBhc3N3b3Jk   # testPassword
    </pre>





    <!--
---------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
stage 1: high level overview 
    - read through 
    - create notes 
    - deciede what exactly will you document down 
    - UNDERSTAND AND WRITE DOWN THE CONCEPTS!!!
    
stage 2:  low level overview
    - deeper understanding of all what you've taken down in stage 1
    
stage 3 : 
    - organize and document down everything 
---------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------




?????????????????????????????????????????????????????????????????????????????????????????????
WRITE DOWN WHAT YOU DON'T UNDERSTAD OR MUST BE TESTED AS QUESTIONS HERE
?????????????????????????????????????????????????????????????????????????????????????????????
    - 
    
-->

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <hr>
    <hr>
    <hr>
    <hr>
    <hr>

    <h2 class="headerExtra"><u> Title 1 </u></h2>
    <h2 class="header"> Title 1.1 </h2>
    <h3 class="header"> Title 1.1.1 </h3>
    <h4 class="header"> Title 1.1.1.1 </h4>
    <p> - stuff to learn <mark>syntax or command (or some tchnical stuff)</mark> bla bla bla </p>
    <p> - stuff to learn <mark class="mark">highlights like file names and other things</mark> bla bla bla </p>
    <p style="text-decoration:underline;"> - important information is underlined </p>
    <p style="color:yellow;"> - very important information is written with yellow colors </p>
    <p style="background-color:yellow;"> - highly important information has yellow background color </p>
    <div style="background-color:red;">
      <p> - red background block means not learned or not tested information! </p>
      <p> - </p>
    </div>

    <pre class="syntax">
    <reqval>required value </reqval>
    <optval>optional value </optval>
    <lit>literally used </lit>
    <opt>optionally used </opt>
  
    <prot style="color:#049500;">prototype chain</prot>
        
    <span class="openable"> this is an openable element<div>
        <p> - openable elements listed here in paragraphs </p>
        <p> - </p>
    </div></span>
    </pre>

    <details class="example">
      <summary> DEMO (can be pseudocode) </summary>
      <pre>
    examples of the current lessons 
    
// -----------------------------------------

// -----------------------------------------
    </pre>
    </details>

    <pre class="cmd">
    command line demo 
    </pre>
    <pre class="formula">
    formula code (like conversion meter...)
    </pre>
    <details class="example">
      <summary> Example : </summary>
      <h4 style="color:darkblue;"><u> example title </u></h4>
      <p> - live tests will come here </p>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    copy of the exaple code 
        </pre>
      </details>
    </details>
    <!---------------------------------------------------------------------------------------------------------------------------------->
    <hr>

    <h2 class="test" style><a href="TEST/index.html"> TEST > </a></h2>

    <br><br>
  </body>

</html>