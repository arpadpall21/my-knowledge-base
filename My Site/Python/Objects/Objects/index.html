<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title> Object </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css">
    <script src="../../../Assets/scriptPages.js"></script>
  </head>
  <body>
    <h1> Object </h1>
    <p> Updated ( 2022-03-20 )</p>
    <p class="sitenav"> <a href="../../../index.html">MySite > </a>
      <a href="../../index.html">Python > </a>
      <a href="../index.html">Objects > </a> Object
    </p>
    <table class="table">
      <caption>
        <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
      </caption>
      <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Description </th>
      </tr>
      <tr>
        <td>
          id(<strong>val</strong>)
        </td>
        <td>
          - returns the unique identifier (in CPython is the memory reference) of <strong>val</strong>
        </td>
      </tr>
      <tr>
        <td>
          vars(<i>obj|class</i>)
        </td>
        <td>
          - (no argument) return the mappingproxy of the current scope (a dictionary which holds the object|class own attributes) <br>
          - on object, returns its mappingproxy which gives full access to the object's attributes (we can get|set object attributes through it) <br>
          - on class, returns its mappingproxy but we can only get class attributes (raises a TypeError on attribute set attempt)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <strong>obj|class</strong>.__dict__
        </td>
        <td>
          - returns the mappingproxy of the object|class (a dictionary which holds the object|class own attributes) <br>
          - on objects gives full access to the object's attributes (we can get|set object attributes through it) <br>
          - on classes we can only get class attributes (raises a TypeError on attribute set attempt)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          dir(<i>obj|class</i>)
        </td>
        <td>
          - (no argument) returns the attribute keys of the current scope in a list <br>
          - in a list returns the passed <i>obj|class</i> all available attribute keys <u>(including inherited onces)</u>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          globals()
        </td>
        <td>
          - returns the mappingproxy of the global scope (a dictionary holding the global scope's attributes) <br>
          - through the returned mappingproxy we can get|set the global scope
        </td>
      </tr>
      <tr>
        <td>
          locals()
        </td>
        <td>
          - returns the mappingproxy of the local scope (a dictionary holding the local scope's attributes) <br>
          - through the returned mappingproxy we can get|set the local scope
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          getattr(<strong>obj|class</strong>, <strong>attr:str</strong>)
        </td>
        <td>
          - if attribute found returns its value <br>
          - if attribute not found raises an AttributeError
        </td>
      </tr>
      <tr>
        <td>
          hasattr(<strong>obj|class</strong>, <strong>attr:str</strong>)
        </td>
        <td>
          - returns <mark>True</mark> if the object|class has the specified attribute, return <mark>False</mark> otherwise
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          setattr(<strong>obj|class</strong>, <strong>attr:str</strong>, <strong>val:any</strong>)
        </td>
        <td>
          - sets the specified attribute to the object|class
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td>
          delattr(<strong>obj|class</strong>, <strong>attr:str</strong>)
        </td>
        <td>
          - if attribute found deletes it <br>
          - if attribute not found raises an AttributeError
        </td>
      </tr>
      <tr>
        <td>
          del <strong>obj|class.attr</strong>
        </td>
        <td>
          - if attribute found deletes it <br>
          - if attribute not found raises an AttributeError
        </td>
      </tr>
    </table>
    <br>
    
    <h2 class="headerSection"> Useful Links : </h2>

    <h2 class="headerSection"> Remember This : </h2>

    <h2 class="headerSection"> Description and Demonstration : </h2>
    <pre class="syntax">
    <strong>class</strong>()                                                                            // creates a new object instance of <strong>class</strong> type   
    
    <strong>obj.attr</strong><i> = val:any</i>                                                                 // gets or sets object attribute    
    <strong>obj.method</strong><i> = fn</i>                                                                    // gets or sets object method    
    
    <strong>obj.attr.attr|method</strong><i> = val</i>                                                         <span style="color:darkorange;">// attributes cannot have other attributes or methods (raises an <mark>AttributeError</mark>)</span>    
    <strong>obj.method.attr|method</strong><i> = val</i>                                                       // methods can have other attributes or methods 
    </pre>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    class Object(object):
        pass
    
    obj = Object()
    
    obj.attr = 21                                                                      // setting attribute value 
    obj.method = lambda x : x**2
    
    obj.attr                                                                           // -> 21         // get attribute value 
    obj.method(3)                                                                      // -> 9
    
    del obj.method                                                                     // delete object attribute   
    hasattr(obj, 'method')                                                             // -> False 
    
    
// instances derived directly from the <mark>object</mark> class cannot have attributes ------------
    obj = object()                                                                     // instance cannot have any attributes   
    
    obj.attr = 21                                                                      // -! raises an AttributeError 
    
    
// objects are mutable ----------------------------------------------------------------
    class Object(object):
        pass
        
    obj1 = Object()
    obj1.attr = 21
    
    obj2 = obj1                                                                        // <mark>obj2</mark> and <mark>obj1</mark> variables point to the same underlying data (objects are mutalbe)
    
    obj2.attr = 22
    obj1.__dict__attr                                                                  // -> {'attr': 22}
    obj2.__dict__attr                                                                  // -> {'attr': 22}
    
  // primitives are immutable -----------------
    prm1 = 21
    prm2 = prm1                                                                        // <mark>prm2</mark> creates its own copy from <mark>prm1</mark> (primitives are immutable)  
    
    prm2 = 22
    prm1                                                                               // -> 21
    prm2                                                                               // -> 22
    </pre>
      <p> - additional attributes or methods on object attributes </p>
      <pre>
    class TestCls(object):
        pass
    
    myObj = TestCls()
    myObj.attr = 'attrVal'
    myObj.method = lambda : 'methodVal'
    
    myObj.attr.newAttr = 'newAttrVal'                                                  // -! raises a <mark>AttributeError</mark> (attribute cannot have other attribute or method)
    myObj.method.newAttr = 'newAttrVal'                                                // this is fine, method can have other attribute or method
    myObj.method.newMethod = lambda : 'newMethodVal'
    
    myObj.method()                                                                     // -> 'methodVal'
    myObj.method.newAttr                                                               // -> 'newAttrVal'
    myObj.method.newMethod()                                                           // -> 'newMethodVal'
    </pre>
    </details>
    <!---------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> The <mark>__dict__</mark> / <mark>vars()</mark> / <mark>dir()</mark> / <mark>globals()</mark> / <mark>locals() </mark> / attribute and methods </h2>
    <details class="example">
      <summary> DEMO </summary>
      <p> - <mark>__dict__</mark> / <mark>vars()</mark> </p>
      <pre>
    class Object(object):
        pass
    
    obj = Object()
    obj.attr = 21 
    
    obj.__dict__                                                                       // -> {'attr': 21}     // the mappingproxy basically gives full access to the object's attributes as dictionary   
    vars(obj)                                                                          // -> {'attr': 21}
    
    obj.__dict__["attr2"] = 22                                                         // setts a new object attribute through the mapping proxy 
    vars(obj)["attr3"] = 23
    obj.__dict__                                                                       // -> {'attr': 21, 'attr2': 22, 'attr3': 23}    
    
    del obj.__dict__["attr2"]                                                          // deleting object attributes   
    del vars(obj)["attr3"]
    
    obj.__dict__                                                                       // -> {'attr': 21}
    
    
// on class ---------------------------------------------------------------------------
    class TestClass:
        someAttr = 'val'
        
    TestClass.__dict__["someAttr"]                                                     // -> 'val'
    vars(TestClass)["someAttr"]                                                        // -> 'val'
    
    TestClass.__dict__["newAttr"] = 'new-val'                                          // -! TypeError        // setting class attributes through mappingproxy is not allowed  
    vars(TestClass)["someAttr"] = 'new-val'                                            // -! TypeError        // setting class attributes through mappingproxy is not allowed  
    
// vars() without argument ------------------------------------------------------------
    vars()                                                                             // -> {'__name__': '__main__', '__doc__': ... }      // returns the mappingproxy of the current scope (global scope in this situation)    
    
    vars()["attr"] = 'new-val'                                                         // sets a new variable on the global scope through its mapping proxy 
    </pre>
      <p> - <mark>dir()</mark> </p>
      <pre>
    class Object:
        classAttr = 'cls-attr-val'
    
    
    obj = Object()
    obj.objAttr = 'obj-attr-val'
    
    dir(obj)                                                                           // -> ['classAttr', 'objAttr', '__class__' ... ]         // returns all available object attribute keys in a list (inherited keys included)    

    dir(Object)                                                                        // -> ['classAttr', '__class__', '__delattr__', ... ]    // returns all available class attribute keys in a list (inherited keys included)     
    
// no argument ------------------------------------------------------------------------
    dir()                                                                              // -> ['Object', 'obj', '__annotations__', ... ]         // returns the attribute keys of the current scope 
    
    def testFn():
        loc1 = 'loc-val'
        dir()                                                                          // -> ['loc1']                                           // returns the attribute keys of the current scope 
    </pre>
      <p> - <mark>globals()</mark> / <mark>locals()</mark> </p>
      <pre>
    def testFn():
        loc1 = 'loc-val'
        
        globals()                                                                      // -> {'__name__': '__main__', '__doc__': None, ... }    // returns the mappingproxy of the global scope 
        locals()                                                                       // -> {'loc1': 'loc-val'}                                // returns the mappingproxy of the local scope 
        
        globals()["glob"] = 'glob-val'                                                 // sets a new variable to the global scope 
        globals()["loc2"] = 'loc2-val'                                                 // sets a new variable to the local scope 
        
        loc2                                                                           // -> 'loc2-val'                                         // new local variable set 
        
        
    testFn()
    
    glob                                                                               // -> 'globa-val'                                        // new global variable set 
      </pre>
    </details>
    <!---------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="header"> The <mark>getattr()</mark> / <mark>hasattr()</mark> / <mark>setattr()</mark> / <mark>delattr()</mark> / <mark>del</mark> / methods </h2>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    class Object(object):
        pass
        
    obj1 = Object()
    
    setattr(obj1, 'attr1', 21)                                                         // sets new attributes 
    setattr(obj1, 'attr2', 22)
    
    getattr(obj1, 'attr1')                                                             // -> 21                   // returns the object attribute's value    
    
    hasattr(obj1, 'attr2')                                                             // -> True                 // check if the object has the specified attribute    
    hasattr(obj1, 'attr3')                                                             // -> False
    
    delattr(obj1, 'attr1')                                                             // deletes the specified attribute   
    del obj1.attr2 
    
    obj1.__dict__                                                                      // -> {}
    
    
// on class ---------------------------------------------------------------------------
    class TestClass:
        someAttr = 'val'
    
    getattr(TestClass, 'someAttr')                                                     // -> 'val'
    getattr(TestClass, 'noAttr')                                                       // -! AttributeError         // class has no such attribute 
    
    hasattr(TestClass, 'someAttr')                                                     // -> True
    hasattr(TestClass, 'noAttr')                                                       // -> False
    
    setattr(TestClass, 'newAttr', 'newAttrVal')                                        // sets a new class attribute 
    getattr(TestClass, 'newAttr')                                                      // -> 'newAttrVal'  
    
    delattr(TestClass, 'newAttr')                                                      // deletes the class attribute   
    hasattr(TestClass, 'newAttr')                                                      // -> False 
    delattr(TestClass, 'noAttr')                                                       // -! AttributeError         // class has no such attribute 
    
    del TestClass.someAttr                                                             // deletes the class attribute   
    hasattr(TestClass, 'someAttr')                                                     // -> False 
    del TestClass.noAttr                                                               // -! AttributeError         // class has no such attribute  
    </pre>
    </details>

    <br><br>
  </body>
</html>
