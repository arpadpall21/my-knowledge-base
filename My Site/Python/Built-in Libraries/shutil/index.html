<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title> shutil </title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="../../../Assets/stylesPages.css">
  <script src="../../../Assets/scriptPages.js"></script>
</head>

<body>
  <h1> shutil </h1>
  <p> Updated ( 2024-10-13 ) </p>
  <nav class="sitenav">
    <a href="../../../index.html">MySite > </a>
    <a href="../../index.html">Python > </a>
    <a href="../index.html">Built-in Libraries > </a> shutil
  </nav>
  <table class="table">
    <tr>
      <th style="width:30%;"> Method </th>
      <th> Description </th>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copy(<reqval>srcFile:pathLike|str</reqval>, <reqval>trgFile:pathLike|str</reqval>, <opt class="openable">follow_symlinks=<optval>bool</optval>
          <div>
            <p> <mark>True</mark> (Default) - if src is a symlink follows the symlink and modifies the original file </p>
            <p> <mark>False</mark> - if src is a symlink creates a symlink </p>
          </div>
        </opt>)
      </td>
      <td>
        - copies the file content and unix file access permissions (doesn't copy other metadata) (creates a file if not exist) <br>
        - returns the target file path
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copy2(<reqval>srcFile:pathLike|str</reqval>, <reqval>trgFile:pathLike|str</reqval>, <opt class="openable">follow_symlinks=<optval>bool</optval>
          <div>
            <p> <mark>True</mark> (Default) - if src is a symlink follows the symlink and modifies the original file </p>
            <p> <mark>False</mark> - if src is a symlink creates a symlink </p>
          </div>
        </opt>)
      </td>
      <td>
        - copies the file content, attempts to copy all the file's metadata (access, modification times, flags, etc...) (creates a file if not exist) <br>
        - returns the target file path
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copyfile(<reqval>srcFile:pathLike|str</reqval>, <reqval>trgFile:pathLike|str</reqval>, <otpval class="openable">bufSize:int<div>
            <p> - buffer size </p>
            <p> - if negative value passed (<mark>-1</mark>) no buffer used -> all content is copied in memory at once </p>
          </div>
          </optval>)
      </td>
      <td>
        - copies the file content, (doesn't copy any metadata) (creates a file if not exist) <br>
        - returns the target file path
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copyfileobj(<reqval>srcFile:fileLikeObj</reqval>, <reqval>trgFile:fileLikeObj</reqval>, <otpval class="openable">bufSize:int<div>
            <p> - buffer size </p>
            <p> - if negative value passed (<mark>-1</mark>) no buffer used -> all content is copied in memory at once </p>
          </div>
          </optval>)
      </td>
      <td>
        - copies the file content, (doesn't copy any metadata) (creates a file if not exist) <br>
        - returns the target file path
      </td>
    </tr>
    <tr>
      <td>|</td>
      <td></td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copymode(<reqval>srcFile:pathLike|str</reqval>, <reqval>trgFile:pathLike|str</reqval>, <opt class="openable">follow_symlinks=<optval>bool</optval>
          <div>
            <p> <mark>True</mark> (Default) - if src is a symlink follows the symlink and modifies the original file </p>
            <p> <mark>False</mark> - if src is a symlink creates a symlink </p>
          </div>
        </opt>)
      </td>
      <td>
        - only copies unix file access permissions (doesn't copy the file content or other metadata) <br>
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copystat(<reqval>srcFile:pathLike|str</reqval>, <reqval>trgFile:pathLike|str</reqval>, <opt class="openable">follow_symlinks=<optval>bool</optval>
          <div>
            <p> <mark>True</mark> (Default) - if src is a symlink follows the symlink and modifies the original file </p>
            <p> <mark>False</mark> - if src is a symlink creates a symlink </p>
          </div>
        </opt>)
      </td>
      <td>
        - only copies unix file access permissions, modification times and flags (ile contents, owner, and group are unaffected) <br>
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.chown(<reqval>file|dir:pathLike|str</reqval>, user=<reqval>user:str</reqval>, <opt>group=<otpval>group:str</otpval>
        </opt>, <a href="https://docs.python.org/3/library/shutil.html#shutil.chown" target="_blank">otherArgs...</a>)
      </td>
      <td>
        - changes the owner and group of the targeted file or directory (doesn't recursively changes permissions for all the directory content)
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.which(<reqval>cmd:str</reqval>, <a href="https://docs.python.org/3/library/shutil.html#shutil.whih" target="_blank">otherArgs...</a>)
      </td>
      <td>
        - returns the location of the passed command <br>
        - returns <mark>None</mark> if the passed argument is not a command
      </td>
    </tr>
    <tr>
      <td>|</td>
      <td></td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.copytree(<reqval>srcDir:pathLike|str</reqval>, <reqval>trgDir:pathLike|str</reqval>, <opt class="openable">symlinks=<optval>bool</optval>
          <div>
            <p> <mark>False</mark> (Default) - symlinks are copied as symlinks </p>
            <p> <mark>True</mark> - symlinks target files will be created at source </p>
          </div>
        </opt>, <a href="https://docs.python.org/3/library/shutil.html#shutil.copytree" target="_blank">otherArgs...</a>)
      </td>
      <td>
        - recursively copies the entire directory tree (internally uses <mark>copy2()</mark> and <mark>copystat()</mark> calls)
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.rmtree(<reqval>srcDir:pathLike|str</reqval>, <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" target="_blank">otherArgs...</a>)
      </td>
      <td>
        - recursively delets the directory tree
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.move(<reqval>srcFile|Dir:pathLike|str|pathLikeObj</reqval>, <reqval>trgFile|Dir:pathLike|str|pathLikeObj</reqval>)
      </td>
      <td>
        - moves (renames) a file or directory tree
        <span class="browserSupport">
          <span><i class="fab fa-python"></i> 3.9 src and trg accepts <reqval>pathLikeObj</reqval> </span>
        </span>
      </td>
    </tr>
    <tr>
      <td>|</td>
      <td></td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.disk_usage(<reqval>path:pathLike|str</reqval>)
      </td>
      <td>
        - returns disk usage info in a tuple (total size, used, free) <br>
        - info is returned for the disk where <reqval>path</reqval> points to
      </td>
    </tr>
    <tr>
      <td>|</td>
      <td></td>
    </tr>
    <tr>
      <td colspan="2"> Archive </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.make_archive(<reqval>trgDir:pathLike|str</reqval>, <reqval class="openable">archFormat:str<div>
            <p> - <mark>zip</mark> / <mark>tar</mark> / <mark>gztar</mark> / <mark>bztar</mark> / <mark>xztar</mark> </p>
            <p> - call <mark>shutil.get_archive_formats()</mark> to get a full list </p>
          </div>
        </reqval>, <optval>srcDir:pathLike|str</optval>)
      </td>
      <td>
        - creates an unix archive file compressed with <reqval>format</reqval> (extension is automatically added) <br>
        - if no <optval>srcDir</optval> passed the current directory's content will be archived
      </td>
    </tr>
    <tr>
      <td>
        <lit>shutil</lit>.unpack_archive(<reqval>srcArch:pathLike|str</reqval>, <reqval>trgArch:pathLike|str</reqval>)
      </td>
      <td>
        - unpacks (extracts) a unix archive (created by <mark>shutil.make_archive()</mark>)
      </td>
    </tr>
    <tr>
      <td>
        <a href="https://docs.python.org/3/library/shutil.html#archiving-operations" target="_blank">other methods...</a>
      </td>
      <td>
        - other methods
      </td>
    </tr>
  </table>
  <br>
  <details class="example" id="notes">
    <summary> Notes & Tips :</summary>
    <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
  </details>
  <h2 class="headerSection"> Useful Links : </h2>

  <h2 class="headerSection"> Remember This : </h2>

  <h2 class="headerSection"> Description and Demonstration : </h2>
  <p> - the <mark>shutil</mark> lib provides high level file operation methods </p>
  <h3 class="header"> The <mark>copy()</mark> / <mark>copy2()</mark> / <mark>copyfile()</mark> / <mark>copyfileobj()</mark> methods </h3>
  <pre>
    import shutil
    
    
    shutil.copy('test1.txt', 'test2.txt')         // copies file content and unix file access metadata
    shutil.copy2('test1.txt', 'test2.txt')        // copies file content including all the file metadata (access, modif times, etc...)
    
    shutil.copyfile('test1.txt', 'test2.txt')     // copies only the file content
    
    with open('test1.txt') as f1, open('test2.txt', 'w+') as f2:
        shutil.copyfileobj(f1, f2)                     // copies only the file content
  </pre>
  <h3 class="header"> The <mark>copymode()</mark> / <mark>copystat()</mark> / <mark>chown()</mark> / <mark>which()</mark> methods </h3>
  <pre>
    import shutil
    
    
    shutil.copymode('test1.txt', 'test2.txt')                         // copies access permisions only (file content is not affected)
    shutil.copystat('test1.txt', 'test2.txt')                         // copies file stats only (file content and ownerships are not affected)
    
    shutil.chown('text1.txt', user="someuser", group="somegroup")     // changes the user and group of the file
    
    shutil.which('node')                                        // returns the <mark>node</mark> command's path
  </pre>
  <h3 class="header"> The <mark>copytree()</mark> / <mark>rmtree()</mark> / <mark>move()</mark> methods </h3>
  <pre>
    import shutil
    
    
    shutil.copytree('oneDir', 'twoDir')           // copies the intire directory tree
    shutil.rmtree('twoDir')                       // removes the directory with all its content
    
    shutil.move('oneDir', 'twoDir')               // moves the directory (renames at the same time)
  </pre>
  <h3 class="header"> The <mark>disk_usage()</mark> method </h3>
  <pre>
    import shutil
    
    
    shutil.disk_usage('/Users/someuser')          // disk info on home dir
  </pre>
  <hr>
  <h2 class="header"> Archive </h2>
  <h3 class="header"> The <mark>make_archive()</mark> / <mark>unpack_archive()</mark> methods </h3>
  <pre>
    import shutil
    
    
    shutil.make_archive('some_archive', 'bztar', 'main')        // creates a <mark>some_archive</mark> archive of directory <mark>main</mark> with bztar compression
    shutil.unpack_archive('some_archive.tar.bz2', 'extracted')  // unpacks (extracts) the <mark>some_archive.tar.bz2</mark> archive into <mark>extracted</mark>
  </pre>


  <br><br>
</body>

</html>