<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> queue </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css">
    <script src="../../../Assets/scriptPages.js"></script>
  </head>

  <body>
    <h1> queue </h1>
    <p> Updated ( 2022-09-04 )</p>
    <nav class="sitenav">
      <a href="../../../index.html">MySite > </a>
      <a href="../../index.html">Python > </a>
      <a href="../index.html">Standard Libraries > </a> queue
    </nav>
    <table class="table">
      <caption>
        <mark>SimpleQueue</mark>
        <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
      </caption>
      <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Description </th>
      </tr>
      <tr class="05.01">
        <td>
          <em>queue</em>.SimpleQueue()
        </td>
        <td>
          - creates and returns a <strong>simpleQueue</strong> which is a simplified <strong>fifoQue</strong> (offering fewer|simpler functions than the <strong>fifoQueue</strong>)
        </td>
      </tr>
      <tr class="09.01">
        <td colspan="2"> methods </td>
      </tr>
      <tr class="09.02">
        <td>
          <strong>simpleQueue</strong>.put(<strong>data:any</strong>, <small>block=True</small>, <small>timeout=None</small>)
        </td>
        <td>
          - puts an item in the queue (never blocks, the <strong>block</strong> and <strong>timeout</strong> arguments are ignored! they are there just for compatibility reasons with <strong>fifoQueue</strong> API)
        </td>
      </tr>
      <tr class="09.03">
        <td>
          <strong>simpleQueue</strong>.put_nowait(<strong>data:any</strong>)
        </td>
        <td>
          - puts an item in the queue (does the same as <mark>put()</mark> method is for compatibility reasons with <strong>fifoQueue</strong> API)
        </td>
      </tr>
      <tr class="10.01">
        <td>
          <strong>simpleQueue</strong>.get(<small>block=True</small>, <small>timeout=None</small>)
        </td>
        <td>
          - returns the next item from the queue <br>
          - if <small>block=True</small> and <small>timeout=None</small> block further execution if the queue is empty <br>
          - if <small>block=True</small> and <small>timeout=<strong>float</strong></small> block further execution if the queue is empty untill the specified delay then raises a <mark>Empty</mark> exception<br>
          - if <small>block=False</small> and the queue is empty immediately raises a <mark>Empty</mark> exception
        </td>
      </tr>
      <tr class="10.02">
        <td>
          <strong>simpleQueue</strong>.get_nowait()
        </td>
        <td>
          - returns the next item from the queue, if the queue is empty immediately raises an <mark>Empty</mark> exception
        </td>
      </tr>
      <tr class="15.01">
        <td>
          <strong>simpleQueue</strong>.gsize()
        </td>
        <td>
          - returns the current size of the que (number of currently taken slots) <br>
          - does not garantee that <mark>get()</mark> or <mark>put()</mark> will not block because some other thread may interact with the queue at the same time
        </td>
      </tr>
      <tr class="15.02">
        <td>
          <strong>simpleQueue</strong>.empty()
        </td>
        <td>
          - returns <mark>True</mark> if the queue is empty, <mark>False</mark> otherwise <br>
          - does not garantee that <mark>get()</mark> or <mark>put()</mark> will not block because some other thread may interact with the queue at the same time
        </td>
      </tr>
    </table>
    <br>
    <table class="table">
      <caption>
        <mark>Queue</mark> / <mark>LifoQueue</mark> / <mark>PriorityQueue</mark>
        <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
      </caption>
      <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Description </th>
      </tr>
      <tr class="05.01">
        <td>
          <em>queue</em>.Queue(<small class="openable">maxsize=<i>int</i></small>)
        </td>
        <td>
          - creates and returns a <strong>fifoQueue</strong> <br>
          - <small>maxsize</small> number of slots available in the que (Default: <mark>0</mark> = unlimited)
        </td>
      </tr>
      <tr class="05.02">
        <td>
          <em>queue</em>.LifoQueue(<small class="openable">maxsize=<i>int</i></small>)
        </td>
        <td>
          - creates and returns a <strong>lifoQueue</strong> (stack) <br>
          - <small>maxsize</small> number of slots available in the que (Default: <mark>0</mark> = unlimited)
        </td>
      </tr>
      <tr class="05.03">
        <td>
          <em>queue</em>.PriorityQueue(<small class="openable">maxsize=<i>int</i></small>)
        </td>
        <td>
          - creates and returns a <strong>priorityQueue</strong> <br>
          - the lowest valued item is retrieved frist from the queue = <mark>sorted(list(allQueueItems))[0]</mark> <br>
          - <small>maxsize</small> number of slots available in the que (Default: <mark>0</mark> = unlimited)
        </td>
      </tr>
      <tr class="10.01">
        <td colspan="2"> methods </td>
      </tr>
      <tr class="10.02">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.put(<strong>data:any</strong>, <small>block=True</small>, <small>timeout=None</small>)
        </td>
        <td>
          - puts an item in the queue <br>
          - if <small>block=True</small> and <small>timeout=None</small> block further execution if the queue is full <br>
          - if <small>block=True</small> and <small>timeout=<strong>float</strong></small> block further execution if the queue is full untill the specified delay then raises a <mark>Full</mark> exception<br>
          - if <small>block=False</small> and the queue is full immediately raises a <mark>Full</mark> exception
        </td>
      </tr>
      <tr class="10.03">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.put_nowait(<strong>data:any</strong>)
        </td>
        <td>
          - puts an item in the queue, if the queue is full immediately raises a <mark>Full</mark> exception
        </td>
      </tr>
      <tr class="15.01">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.get(<small>block=True</small>, <small>timeout=None</small>)
        </td>
        <td>
          - returns the next item from the queue <br>
          - if <small>block=True</small> and <small>timeout=None</small> block further execution if the queue is empty <br>
          - if <small>block=True</small> and <small>timeout=<strong>float</strong></small> block further execution if the queue is empty untill the specified delay then raises a <mark>Empty</mark> exception<br>
          - if <small>block=False</small> and the queue is empty immediately raises a <mark>Empty</mark> exception
        </td>
      </tr>
      <tr class="15.02">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.get_nowait()
        </td>
        <td>
          - returns the next item from the queue, if the queue is empty immediately raises an <mark>Empty</mark> exception
        </td>
      </tr>
      <tr class="20.01">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.gsize()
        </td>
        <td>
          - returns the current size of the que (number of currently taken slots) <br>
          - does not garantee that <mark>get()</mark> or <mark>put()</mark> will not block because some other thread may interact with the queue at the same time
        </td>
      </tr>
      <tr class="20.02">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.empty()
        </td>
        <td>
          - returns <mark>True</mark> if the queue is empty, <mark>False</mark> otherwise <br>
          - does not garantee that <mark>get()</mark> or <mark>put()</mark> will not block because some other thread may interact with the queue at the same time
        </td>
      </tr>
      <tr class="20.03">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.full()
        </td>
        <td>
          - returns <mark>True</mark> if the queue is full, <mark>False</mark> otherwise <br>
          - does not garantee that <mark>get()</mark> or <mark>put()</mark> will not block because some other thread may interact with the queue at the same time
        </td>
      </tr>
      <tr class="25.01">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.task_done()
        </td>
        <td>
          - indicates the end of the current queue task <br>
          - works with <mark>join()</mark> to indicate when the queue tasks are done, a <mark>join()</mark> call block furhter execution untill this method has been called as many items was put in the queue
        </td>
      </tr>
      <tr class="25.02">
        <td>
          <strong>fifoQueue|lifoQueue|priorityQueue</strong>.join()
        </td>
        <td>
          - block further execution untill <mark>task_done()</mark> is called as many times as many items was put in the queue
        </td>
      </tr>
    </table>
    <br>
    <h2 class="headerSection"> Description and Demonstration </h2>
    <h2 class="headerSection"> Useful Links : </h2>
    <p><a href="https://docs.python.org/3/library/queue.html?highlight=queue#module-queue" target="_blank"> queue (docs.python.org) </a></p>
    <h2 class="headerSection"> Remember This : </h2>

    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - the <mark class="mark">queue</mark> module implements multi-producer, multi-consumer queues (several chunks can be put in the queue) </p>
    <p> - internally implements the locking mechanism (locks the queue so at a time only one thread can read|write the queue) </p>
    <p> - the <mark class="mark">queue</mark> module implements 3 type of queues: </p>
    <p style="text-indent:30px;"> - fifo -> first in first out (<mark>Queue</mark>) (<mark>SimpleQueue</mark> simplified version of <mark>Queue</mark>) </p>
    <p style="text-indent:30px;"> - lifo -> last in first out (stack) (<mark>LifoQueue</mark>) </p>
    <p style="text-indent:30px;"> - priority queue -> the lowest value retrieved first (<mark>PriorityQueue</mark>) </p>
    <p> - queues are used to communicate between threads, (the <mark class="mark">multiprocessing</mark> module has its own queue implementation (with the same api) which is used to communicate between processes) </p>
    <details class="example">
      <summary> Example : </summary>
      <pre>
    import queue
    import threading
    
    q = queue.Queue()
    
    def task(q):
        while not q.empty():
            print( q.get() )          // -> {"key":"val"}  |  [1, 2]  |  {1, 2}
    
    th1 = threading.Thread(target=task, args=[q])
    
    q.put({"key":"val"})
    q.put([1, 2])
    q.put({1, 2})
    
    th1.start()
    </pre>
      <p> - limited queue size </p>
      <pre>
    import queue

    q = queue.Queue(maxsize=2)        # queue size 2 slots only

    q.put('test')
    q.put('test')
    q.put('test')                     // -! block further execution untill a slots frees up in the queue 
    
    
// ---------------------------------------------------
    q2 = queue.Queue(maxsize=2)
    
    q2.put_nowait('test')
    q2.put_nowait('test')
    q2.put_nowait('test')            // -! raises a <mark>Full</mark> error (method won't wait for empty slot)
    </pre>
      <p> - blocking untill all queue tasks are done </p>
      <pre>
    import queue
    
    q = queue.Queue()
    
    for i in range(10):
        q.put('some item')
    
    for i in range(10):
        q.get()                 # not neccessary to call
        // doint some job here....
        q.task_done()           # indicates that the current queue task is done
    
    q.join()                    # blocks untill the <mark>task_done()</mark> was called as many times as many items are in the queue (as many times the <mark>put()</mark> was called)
    </pre>
      <p> - queue types </p>
      <pre>
// <mark>Queue</mark> (fifo queue) <mark>SimpleQueue</mark> --------------------------------------------
    import queue
    
    q1 = queue.Queue()
    q2 = queue.SimpleQueue()      # simplified version of <mark>Queue</mark>
    
    for i in range(1, 4):
        q1.put(f"it {i}")
        q2.put(f"it {i}")
    
    for i in range(1, 4):
        print( q1.get() )         # "it 1"  |  "it 2"  |  "it 3"
        print( q2.get() )         # "it 1"  |  "it 2"  |  "it 3"
    
    
// <mark>LifoQueue</mark> (stack) ---------------------------------------------------------
    q3 = queue.LifoQueue()
    
    for i in range(1, 4):
            q3.put(f"it {i}")
    
    for i in range(1, 4):
        print( q3.get() )         # "it 3"  |  "it 2"  |  "it 1"
    
    
// <mark>PriorityQueue</mark> -------------------------------------------------------------
    q4 = queue.PriorityQueue()
    
    q4.put('x')
    q4.put('a')
    q4.put('ka')
    
    for i in range(3):
        print( q4.get() )         # "a"  |  "ka"  |  "x"   # item with the lowest value retrieved frist from the queue 
    </pre>
    </details>

    <br><br>
  </body>

</html>