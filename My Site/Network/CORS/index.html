<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> CORS </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
      integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css">
    <script src="../../Assets/scriptPages.js"></script>
  </head>

  <body>
    <h1> CORS (Cross Origin Resource Sharing) </h1>
    <p> Updated ( 2020-07-15 / 2024-07-13 )</p>
    <nav class="sitenav">
      <a href="../../index.html">MySite > </a>
      <a href="../index.html">Network > </a> CORS
    </nav>
    <h2 class="headerSection"> Notes : </h2>
    <details class="example" id="notes">
      <summary> Notes :</summary>
      <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
    <h2 class="headerSection"> Useful Links : </h2>

    <h2 class="headerSection"> Remember This : </h2>

    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - a web application makes a <u>cross origin request</u> when it make a request to an origin other than its own
      server </p>
    <p> - with CORS we can control: </p>
    <p class="indent-lv1"> - on the frontend: to which origins the app is allowed to make requests (and how) </p>
    <p class="indent-lv1"> - on the backend: who can access our resources (and how) </p>
    <p class="indent-lv1"> - by default (when no CORS headers are specified) a web app only allows to access its own
      server </p>
    <p> - CORS roules are configured through various HTTP request/response headers <mark>Access-Control-*</mark> <a
        href="../../../HTTP Protocol/HTTP Headers/index.html#cors" target="_blank">[link]</a> </p>
    <p><u> - CORS is enforced only by web browsers (any other networking tool ignores CORS headers)</u>, the goal is to
      prevent XSS (Cross Site Scipting) and CSRF (Cross Site Forgery) attacks </p>
    <img src="CORS_principle.png" title="CORS" height="500">
    <!---------------------------------------------------------------------------------------------->
    <hr>
    <h3 class="header"> preflight request </h3>
    <p> - the frontend app makes a preflight request to its own server in order to 'ask' what 3rd party origins it's
      allowed to request (and how) </p>
    <pre class="syntax">
  OPTION                                              // a preflight request is an OPTION request 
  
  Origin: <reqval>origin</reqval>                                      // client's origin 
  Access-Control-Request-Headers: <reqval>httpHeader</reqval><optval>, ...</optval>     // headers to include in the cross origin request
  Access-Control-Request-Method: <reqval>httpMethod</reqval>           // method to request the cross origin
  </pre>
    <p> - a preflight request is made only in certain conditions: </p>
    <img src="CORS Request.png" title="CORS" height="500">
    <br><br>
  </body>

</html>