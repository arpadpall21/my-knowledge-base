<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title> Animation and Transition Events </title>  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" href="../../../Assets/stylesPages.css">
    <script src="../../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Animation and Transition Events (ver 2.9) </h1>
    <p> Updated (2018-03-30 / 2018-10-01)</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html"> Web Browser APIs> </a> 
        <a href="../index.html"> DOM Events> </a> Animation and Transition Events 
    </p>
<table class="table">
<caption> ANIMATION EVENTS </caption>
    <tr>
        <th> Event </th>
        <th> Description </th>
        <th> DOM </th>
    </tr>
    <tr>
        <td> animationend </td>
        <td> fires when a CSS animation has completed </td>
        <td> 3 </td>
    </tr>  
    <tr>
        <td> animationiteration </td>
        <td> fires when a CSS animation is repeated </td>
        <td> 3 </td>
    </tr> 
    <tr>
        <td> animationstart </td>
        <td> fires when a CSS animation has started </td>
        <td> 3 </td>
    </tr>
</table>
<table class="table">
<caption> ANIMATION EVENT PROPERTIES </caption>
    <tr>
        <th> Event </th>
        <th> Description </th>
        <th> DOM </th>
    </tr>
        <td> <i>event = </i>new AnimationEvent(<strong>type</strong>, <strong>init</strong>) </td>
        <td> creates an AnimationEvent object <u style="color:orangered;">(Not Tested!)</u> </td>
        <td></td>
    <tr>
        <td> <strong>eventObj</strong>.animationName </td>
        <td> returns the name of the animation <span style="color:red;">(Experimental Technology 2018-04-02)</span> </td>
        <td> 3 </td>
    </tr>  
    <tr>
        <td> <strong>eventObj</strong>.elapsedTime </td>
        <td> returns the running animation elapsed time in seconds <span style="color:red;">(Experimental Technology 2018-04-02)</span></td>
        <td> 3 </td>
    </tr>  
    <tr>
        <td> <em>event</em>.pseudoElement </td>
        <td> returns the name of the pseudo element of the animation <span style="color:red;">(Experimental Technology 2018-04-02)</span></td>
        <td> 3 </td>
    </tr>  
</table><br><br>
<table class="table">
<caption> TRANSITION EVENT </caption>
    <tr>
        <th> Event </th>
        <th> Description </th>
        <th> DOM </th>
    </tr>
    <tr>
        <td> transitionend </td>
        <td> fires when a CSS transition has completed </td>
        <td> 3 </td>
    </tr>  
</table>
<table class="table">
<caption> TRANSITION EVENT PROPERTIES </caption>
    <tr>
        <th> Event </th>
        <th> Description </th>
        <th> DOM </th>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.elapsedTime </td>
        <td> returns the transition duration in seconds <span style="color:red;">(Experimental Technology 2018-04-02) </span></td>
        <td> 3 </td>
    </tr> 
    <tr>
        <td> <strong>eventObj</strong>.propertyName </td>
        <td> returns the property name of the associated with the transition <span style="color:red;">(Experimental Technology 2018-04-02) </span> </td>
        <td> 3 </td>
    </tr>  
    <tr>
        <td> <strong>eventObj</strong>.pseudoElement </td>
        <td> returns the name of the pseudo element of the transition <span style="color:red;">(Experimental Technology 2018-04-02) </span></td>
        <td> 3 </td>
    </tr>  
</table>
<h2 style="color:green;"><u> Important Links : </u></h2>
    <p><a href="https://www.w3schools.com/jsref/obj_animationevent.asp" target="_blank"> W3Schools Animation Event </a></p>
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent" target="_blank"> MDN Animation Event </a></p>
    <p><a href="https://www.w3schools.com/jsref/obj_transitionevent.asp" target="_blank"> W3Schools Transition Event </a></p>
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent" target="_blank"> MDN Transition Event </a></p>
<h2 style="color:green;"><u> Remember This : </u></h2>
    <p> - I couldn't tested the <mark>pseudoElement</mark> property here (Tested in Chrome [2018-10-01])</p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
<h2 class="headerExtra"><u> <mark>AnimationEvent()</mark> </u></h2>
    <p> - the <mark>AnimationEvent()</mark> is derived from the <mark>Event()</mark> constructor </p>
    <p> - this is how you can create an animation object <u style="color:yellow;">(Not Tested!)</u> <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent/AnimationEvent" target="_blank">(MDN create AnimationEvent Obj)</a></p>
    <pre class="syntax">
SYNTAX :    <i>event = </i>new AnimationEvent(<strong>type</strong>, <strong>init</strong>)     // NOT TESTED!
    </pre>
<h2 style="color:darkblue;"><u> Animation Events </u></h2>    
    <pre class="syntax">
SYNTAX :    animationstart                             // fires at the start of the animation
            animationiteration                         // fires at the iterations of the animation
            animationend                               // fires at the end of the animation
    </pre>
<!----------------------------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u> Animation Properties</u></h2>
    <pre class="syntax">
SYNTAX :    <strong>eventObj</strong>.animationName                     // returns the name of the animation
            <strong>eventObj</strong>.elapsedTime                       // returns the running animation elapsed time in seconds
            <strong>eventObj</strong>.pseudoElement                     // returns the name of the pseudo element of the animation
    </pre>
    <pre>
    &lt;p id="demo"&gt; Color Change &lt;/p&gt;
&lt;script&gt;
    document.getElementById("demo").addEventListener("animationend", animInfo);
    
    function animInfo(ev) {
        ev.animationName;                              // -> demoAnim
        ev.elapsedTime;                                // -> 4          // animation duration is 4 seconds
        ev.pseudoElement                               // ->            // returns nothing, maybe not a pseudo element? (tested in Chrome 2018-10-01)
    }
&lt;/script&gt; 
    
-- CODE (CSS) --
    #demo {
        animation: demoAnim 3s 5;
        font-weight: bold;
    }
    @keyframes demoAnim {
        from {color: black;}
        to {color: red;}
    }
    </pre>
<details class="example">
    <summary> Example : </summary>
<h4><u> animation events </u></h4>
    <p> - click on the main element to fire the animation </p>
    <div class="animation-parent" onclick="animFire()">
        <div id="animation-child">
        </div>
    </div>
    <p> Animation Status =<span id="anim-status" style="font-weight: bold;"> Animation Ready... </span> </p>
<script>
    var y = document.getElementById('animation-child');
    var yx = document.getElementById('anim-status');
    
    function animFire(){
        y.style.WebkitAnimation = "JSmove 5s 2 linear";    
        y.style.animation = "JSmove 3.5s 2 linear";
        y.style.backgroundColor = "red";
    }
    
    y.addEventListener("animationstart", animStart);
    y.addEventListener("animationiteration", animIteration);
    y.addEventListener("animationend", animEnd);

// event functions  
    function animStart(){
        yx.innerHTML = " Animation Fired".fontcolor('green');
        document.getElementById('anim-name').innerHTML = event.animationName;           // must be nested in the animation fucntion 
        
    }
    function animIteration(){
        yx.innerHTML = " Animation Itarated".fontcolor('yellow');
        // document.getElementById('anim-time').innerHTML = event.elapsedTime;
    }
    function animEnd(){
        yx.innerHTML = " Animaion Ended".fontcolor('red');
    }
    
</script>
    <details>
    <summary> CODE : </summary>
    <pre>
    -- CODE (HTML) --
        &lt;div class="animation-parent" onclick="animFire()"&gt;
            &lt;div id="animation-child"&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;p&gt;Animation Status =&lt;span id="anim-status" style="font-weight: bold;"&gt; Animation Ready... &lt;/span&gt; &lt;/p&gt;
    &lt;script&gt;
        var y = document.getElementById('animation-child');
        var yx = document.getElementById('anim-status');

        function animFire(){
            y.style.WebkitAnimation = "JSmove 5s 2 linear";    
            y.style.animation = "JSmove 3.5s 2 linear";
            y.style.backgroundColor = "red";
        }

        y.addEventListener("animationstart", animStart);
        y.addEventListener("animationiteration", animIteration);
        y.addEventListener("animationend", animEnd);


        function animStart(){
            yx.innerHTML = " Animation Fired".fontcolor('green');
        }
        function animIteration(){
            yx.innerHTML = " Animation Itarated".fontcolor('yellow');
        }
        function animEnd(){
            yx.innerHTML = " Animaion Ended".fontcolor('red');
        }
    &lt;/script&gt;
    

    -- CODE (CSS) --
    .animation-parent{
        width: 750px;
        height: 30px;
        background-color: darkseagreen;
        border: solid black 3px;
        position: relative;
    }
    #animation-child{
        width: 28px;
        height: 28px;
        background-color: orange;
        border: solid 1px black;
        position: absolute;
        left: 0;
    }
    @keyframes JSmove{
        from {left: 0;}
        to {left: 720px;}
    }
    </pre>
    </details>
<h4><u> animation properties <mark>animationName</mark> / <mark>elapsedTime</mark> / <mark>pseudoElement</mark></u></h4>
    <p style="color:yellow;"> - these properties has pretty poor support for now (Tested in Chrome [2018-10-01])</p>
    <button onclick="animProp()"> Fire Animations </button>
        <p id="animation_A"> Text Animation </p>
        <p> Animation Info : </p>
<script>
    function animProp(){ 
        document.getElementById('animation_A').style.animation = "myAnimation 2s";
    }

    document.getElementById('animation_A').addEventListener('animationend', propFunc_A);
    
    function propFunc_A(){
        document.getElementById('animation_A').nextElementSibling.innerHTML = 
            ' Animation Info : ' +
            "animationName = " + event.animationName +
            " / elapsedTime = " + event.elapsedTime +
            " / pseudoElement = " + event.pseudoElement;
    }
</script>
        <details>
        <summary> CODE : </summary>
        <pre>
    &lt;button onclick="animProp()"&gt; Fire Animations &lt;/button&gt;
    &lt;p id="animation_A"&gt; Text Animation &lt;/p&gt;
    &lt;p&gt; Animation Info : &lt;/p&gt;
&lt;script&gt;
    function animProp(){ 
        document.getElementById('animation_A').style.animation = "myAnimation 2s";
    }

    document.getElementById('animation_A').addEventListener('animationend', propFunc_A);
    
    function propFunc_A(){
        document.getElementById('animation_A').nextElementSibling.innerHTML = 
            ' Animation Info : ' +
            "animationName = " + event.animationName +
            " / elapsedTime = " + event.elapsedTime +
            " / pseudoElement = " + event.pseudoElement;
    }
&lt;/script&gt;
    
    -- CODE (CSS) --
    @keyframes myAnimation {
        from {color:red;}
        50% {color:white;}
        to {color:green;}
    }
        </pre>
        </details>
</details>    
<!----------------------------------------------------------------------------------------------------------------------------------->
<hr>
<h2 class="headerExtra"><u> <mark>TransitionEvent()</mark></u></h2> 
    <p> - the <mark>TransitionEvent()</mark> is derived from the <mark>Event()</mark> constructor </p>
    <p> - this is how you can create a transition object <u style="color:yellow;">(Not Tested!)</u> <a href="https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent/TransitionEvent" target="_blank">(MDN create TransitionEvent Obj)</a></p>
    <pre class="syntax">
SYNTAX :    <i>event = </i>new TransitionEvent(<strong>type</strong>, <strong>init</strong>)    // NOT TESTED!    
    </pre> 
<!----------------------------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u> Transition Event </u></h2>    
    <pre class="syntax">
SYNTAX :    transitionend                              // fires when the transition has been ended
    </pre>
<!----------------------------------------------------------------------------------------------------------------------------------->
<hr>    
<h2 style="color:darkblue;"><u> Transition Event Properties </u></h2>
    <pre class="syntax">
SYNTAX :    <strong>eventObj</strong>.propertyName                      // returns the property name of the associated with the transition
            <strong>eventObj</strong>.elapsedTime                       // returns the transition duration
            <strong>eventObj</strong>.pseudoElement                     // returns the name of the pseudo element of the transition
    </pre>
    <pre>
    &lt;p id="demo"&gt; Demo text &lt;/p&gt;
&lt;script&gt;
    document.getElementById("demo").addEventListener("transitionend", transEnd);
    
    function transEnd(e) {
        e.propertyName;                                // -> "color"
        e.elapsedTime;                                 // -> 0.2
        e.pseudoElement;                               // ->            // returns nothing, maybe not a pseudo element? (tested in Chrome 2018-10-01)
    }
&lt;/script&gt;  
    
-- CODE (CSS) --
    #demo {
        color: red;
        font-weight: bold;
        transition: color 0.2s linear;
    }
    #demo:hover {
        color: green;
    }
    </pre>
<details class="example">
    <summary> Example : </summary>
    <p> - hover on the square to see the effect </p>
    <div id="hover-demo"></div>
<script>
    var ux = document.getElementById('hover-demo');
    
    ux.addEventListener("transitionend", funcTrans); 
    function funcTrans(event){
        ux.innerHTML = 
            "transitioned property = " + event.propertyName + 
            " / transition duration = " + event.elapsedTime + 
            " / pseudo element = " + event.pseudoElement;
    }               
</script>
    <details>
    <summary> CODE : </summary>
    <pre>
    &lt;div id="hover-demo"&gt;&lt;/div&gt;
    &lt;script&gt;
    var ux = document.getElementById('hover-demo');
    
    ux.addEventListener("transitionend", funcTrans); 
    function funcTrans(event){
        ux.innerHTML = 
            "transitioned property = " + event.propertyName + 
            " / transition duration = " + event.elapsedTime + 
            " / pseudo element = " + event.pseudoElement;
    }          
    &lt;/script&gt;
    
-- CODE (CSS) --
    #hover-demo{
        border: 2px solid black;
        height: 60px;
        width: 400px;
        background-color: orange;
        transition: width 0.5s linear;
    }
    #hover-demo:hover{
        width: 100%;
        cursor: pointer;
    }
    </pre>
    </details>
</details>    
    
    <br><br>
</body>
</html>