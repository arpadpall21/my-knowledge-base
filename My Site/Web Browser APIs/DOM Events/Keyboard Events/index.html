<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Keyboard Events </title>    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../Assets/stylesPages.css">
    <script src="../../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> JS Keyboard Events (ver 2.9) </h1>
    <p> Updated (2018-03-29 / 2018-10-01)</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html"> Web Browser APIs> </a> 
        <a href="../index.html"> DOM Events> </a> Keyboard Events 
    </p>
<table class="table">
<caption> KEYBOARD EVENTS </caption>
    <tr>
        <th> Event </th>
        <th> Description </th>
        <th style="width:30%;"> Tag support </th>
        <th> DOM </th>
    </tr>
    <tr>
        <td> keydown </td>
        <td> fires when the user is pressing <u>any</u> key </td>
        <td> <u>All HTML elements EXCEPT :</u> &lt;base&gt;, &lt;bdo&gt;, &lt;br&gt;, &lt;head&gt;, &lt;html&gt;, &lt;iframe&gt;, &lt;meta&gt;, &lt;param&gt;, &lt;script&gt;, &lt;style&gt;, and &lt;title&gt; </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> keypress </td>
        <td> fires when the user presses a <u>character</u> key </td>
        <td> <u>All HTML elements EXCEPT :</u> &lt;base&gt;, &lt;bdo&gt;, &lt;br&gt;, &lt;head&gt;, &lt;html&gt;, &lt;iframe&gt;, &lt;meta&gt;, &lt;param&gt;, &lt;script&gt;, &lt;style&gt;, and &lt;title&gt; </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> keyup </td>
        <td> fires when the user releases a key </td>
        <td> <u>All HTML elements EXCEPT :</u> &lt;base&gt;, &lt;bdo&gt;, &lt;br&gt;, &lt;head&gt;, &lt;html&gt;, &lt;iframe&gt;, &lt;meta&gt;, &lt;param&gt;, &lt;script&gt;, &lt;style&gt;, and &lt;title&gt; </td>
        <td> 2 </td>
    </tr>
</table><br>
<table class="table">
<caption> KEYBOARD EVENT PROPERTIES AND METHODS </caption>
    <tr>
        <th> Property / Method </th>
        <th> Description </th>
        <th> DOM </th>
    </tr>
    <tr>
        <td> <i>event = </i>new KeyboardEvent(<strong>type</strong>, <strong>init</strong>) </td>
        <td> create KeyboardEvent Object <u style="color:orangered;">(Not Tested)</u></td>
        <td></td>
    </tr>
    <tr>
        <td> <em>KeyboardEvent</em>.DOM_KEY_LOCATION_STANDARD </td>
        <td> returns <mark>0</mark> depicting that the button has no left/right version on the keyboard </td>
        <td>  </td>
    </tr>
    <tr>
        <td> <em>KeyboardEvent</em>.DOM_KEY_LOCATION_LEFT </td>
        <td> returns <mark>1</mark> depicting that the left version of the button was hit on the keyboard (ex: left CTRL) </td>
        <td>  </td>
    </tr>
    <tr>
        <td> <em>KeyboardEvent</em>.DOM_KEY_LOCATION_RIGHT </td>
        <td> returns <mark>2</mark> depicting that the right version of the button was hit on the keyboard (ex: right ALT) </td>
        <td>  </td>
    </tr>
    <tr>
        <td> <em>KeyboardEvent</em>.DOM_KEY_LOCATION_NUMPAD </td>
        <td> returns <mark>3</mark> depicting that the button was hit on the NumPad area (only when "NumPad" is active) </td>
        <td>  </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.altKey </td>
        <td> returns a boolean value if the "Alt" key was pressed on keyboard event </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.charCode </td>
        <td> returns the unicode character (number) of the pressed key <u style="color:orangered;">(Not Standard / Deprecated, supported only by the <mark>keypress</mark> event)</u> </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.code </td>
        <td> returns the <u>physical key</u> value pressed on the keyboard (if virtual keyboard browser handles it) </td>
        <td> 3 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.ctrlKey </td>
        <td> returns a boolean value if the "Ctrl" key was pressed on keyboard event </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.getModifierState("<strong>keyArg</strong>") </td>
        <td> returns a boolean value if the <u>set</u> key was pressed on the keyboard
                - "<strong>getArg</strong>" - button argument to set <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState" target="_blank">(MDN Geko keyArg)</a> </td>
        <td> 3 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.isComposing </td>
        <td> returns a boolean value if the event is fired between the <mark>compositionstart</mark> and the <mark>compositionend</mark> events </td>
        <td> 3 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.key </td>
        <td> returns the <u>value</u> of the pressed key (ex: Shift + f = F) </td>
        <td> 3 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.keyCode </td>
        <td> returns the unicode character (number) of the pressed key <u style="color:orangered;">(Deprecated!)</u> </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.location </td>
        <td> returns the location of the button (<mark>0</mark> button has no left/right version / <mark>1</mark> left version of the button / <mark>2</mark> right version of the button / <mark>3</mark> "NumPad" button) </td>
        <td>  </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.metaKey </td>
        <td> returns a boolean value if the "Meta" key was pressed on keyboard event </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.repeat </td>
        <td> returns a boolean value if a button is held <u>(works only with the <mark>keydown</mark> event)</u> </td>
        <td> 3 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.shiftKey </td>
        <td> returns a boolean value if the "Shift" key was pressed on keyboard event </td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> <strong>eventObj</strong>.which </td>
        <td> returns the unicode character (number) of the pressed key <u style="color:orangered;">(Deprecated!)</u> </td>
        <td> 2 </td>
    </tr>
</table>
<h2 style="color:green;"><u> Useful Links : </u></h2> 
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent" target="_blank">MDN Keyboard Events </a></p>
    <p><a href="https://www.w3schools.com/jsref/obj_keyboardevent.asp" target="_blank">W3School Keyboard Event Properties and Methods</a></p>
<h2 style="color:green;"><u> Remember This : </u></h2> 
    <p> - the <mark>code</mark> and the <mark>location</mark> properties works only with <mark>keydown</mark> / <mark>keyup</mark> events in Chrome (2018-10-01) </p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2> 
    <p> - keyboard events happen when the user interacts with the keyboard </p>
<h2 class="headerExtra"><u> <mark>KeyboardEvent()</mark> </u></h2>
    <p> - the <mark>KeyboardEvent()</mark> constructor is derived from the <mark>UIEvent()</mark> which is derived from the <mark>Event()</mark> constructor </p>
    <p> - this is how you create a Keyboard event object <u style="color:yellow;">(Not Tested!)</u> <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/KeyboardEvent" target="_blank">MDN Create KeyboardEvent Obj</a></p>
    <pre class="syntax">
SYNTAX :    <i>event = </i>new KeyboardEvent(<strong>type</strong>, <strong>init</strong>)      // NOT TESTED!  
    </pre>
<!-------------------------------------------------------------------------------------------------------------------------------------> 
<hr>
<h2 style="color:darkblue;"><u> Keyboard Events </u></h2>
    <pre class="syntax">
SYNTAX :    onkeypress                                 // fires when a Character key pressed       
            onkeydown                                  // fires when ANY key pressed down          
            onkeyup                                    // fires when ANY key released             
    </pre>
<details class="example">
    <summary> Example : </summary>
<h4><u> onkeydown / onkeyup </u></h4>
    <p> - This field will turn green when <u>any key pressed</u> than yellow when key released </p>
    <input type="text" size="50" style="margin:3px; border:1px solid black; padding:5px;" 
           onkeydown="this.style.backgroundColor = 'green'"
           onkeyup="this.style.backgroundColor = 'yellow'">
    <details>
    <summary class="exampleCode"> CODE : </summary>
    <pre>
    &lt;input type="text" size="50" style="margin:3px; border:1px solid black; padding:5px;" 
           onkeydown="this.style.backgroundColor = 'green'"
           onkeyup="this.style.backgroundColor = 'yellow'"&gt;
    </pre>
    </details>
<h4><u> onkeypress VS onekeydown </u></h4>
    <p> - this counter only counts <u>character keys</u>, (notice that when you press the backspace it does not fires any more)</p>
    <input type="text" style="margin:3px; border:1px solid black; padding:5px;"
           onkeypress="keyFire()">
    <span id="keycounter"> 0 </span>
    <p> - this counter counts <u>all the buttons</u> </p>
    <input type="text" style="margin:3px; border:1px solid black; padding:5px;"
           onkeydown="keyFire_2()">
    <span id="keycounter-2"> 0 </span>
<script>
    var x = 0;
    var yy = 0;
    function keyFire(){
        document.getElementById('keycounter').innerHTML = x += 1;
    }
    function keyFire_2(){
        document.getElementById('keycounter-2').innerHTML = yy += 1;
    }
</script>
    <details>
    <summary class="exampleCode"> CODE : </summary>
    <pre>
    &lt;p&gt; - this counter only counts &lt;u&gt;character keys&lt;/u&gt;, (notice that when you press the backspace it does not fires any more)&lt;/p&gt;
    &lt;input type="text" style="margin:3px; border:1px solid black; padding:5px;"
           onkeypress="keyFire()"&gt;
    &lt;span id="keycounter"&gt; 0 &lt;/span&gt;
    &lt;p&gt; - this counter counts &lt;u&gt;all the buttons&lt;/u&gt; &lt;/p&gt;
    &lt;input type="text" style="margin:3px; border:1px solid black; padding:5px;"
           onkeydown="keyFire_2()"&gt;
    &lt;span id="keycounter-2"&gt; 0 &lt;/span&gt;
&lt;script&gt;
    var x = 0;
    var y = 0;
    function keyFire(){
        document.getElementById('keycounter').innerHTML = x += 1;
    }
    function keyFire_2(){
        document.getElementById('keycounter-2').innerHTML = y += 1;
    }
&lt;/script&gt;
    </pre>
    </details>
</details>    
<!--------------------------------------------------------------------------------------------------------------------------------->
<hr>
<h2 style="color:darkblue;"><u> Keyboard Events Properties and Methods </u></h2>
    <pre class="syntax">
SYNTAX :    <strong>eventObj</strong>.altKey                            // returns a boolean value if the "Alt" key was pressed on keyboard event
            <strong>eventObj</strong>.ctrlKey                           // returns a boolean value if the "Ctrl" key was pressed on keyboard event  
            <strong>eventObj</strong>.shfitKey                          // returns a boolean value if the "Shift" key was pressed on keyboard event
            <strong>eventObj</strong>.getModifierState("<strong>keyArg</strong>")           // returns a boolean value if the <u>set</u> key was pressed on the keyboard
                - "<strong>getArg</strong>" - button argument to set <a style="color:lightpink;" href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState" target="_blank">(MDN Geko keyArg)</a>
            
            <strong>eventObj</strong>.charCode                          // returns the unicode character (number) of the pressed key <u style="color:orange;">(Not Standard / Deprecated, supported only by the <mark>keypress</mark> event)</u>
            <strong>eventObj</strong>.keyCode                           // returns the unicode character (number) of the pressed key <u style="color:orange;">(Deprecated!)</u>
            <strong>eventObj</strong>.which                             // returns the unicode character (number) of the pressed key <u style="color:orange;">(Deprecated!)</u>
            <strong>eventObj</strong>.key                               // returns the <u>value</u> of the pressed key (ex: Shift + f = F)
            <strong>eventObj</strong>.code                              // returns the <u>physical key</u> value pressed on the keyboard (if virtual keyboard browser handles it)
            
            <strong>eventObj</strong>.location                          // returns the location of the button (<mark>0</mark> button has no left/right version / <mark>1</mark> left version of the button / <mark>2</mark> right version of the button / <mark>3</mark> "NumPad" button)
            <strong>eventObj</strong>.repeat                            // returns a boolean value if a button is held <u>(works only with the <mark>keydown</mark> event)</u>
            <strong>eventObj</strong>.isComposing                       // returns a boolean value if the event is fired between the <mark>compositionstart</mark> and the <mark>compositionend</mark> events
            
            <em>KeyboardEvent</em>.DOM_KEY_LOCATION_STANDARD    // returns <mark>0</mark> depicting that the button has no left/right version on the keyboard
            <em>KeyboardEvent</em>.DOM_KEY_LOCATION_LEFT        // returns <mark>1</mark> depicting that the left version of the button was hit on the keyboard (ex: left CTRL)
            <em>KeyboardEvent</em>.DOM_KEY_LOCATION_RIGHT       // returns <mark>2</mark> depicting that the right version of the button was hit on the keyboard (ex: right ALT)
            <em>KeyboardEvent</em>.DOM_KEY_LOCATION_NUMPAD      // returns <mark>3</mark> depicting that the button was hit on the NumPad area (only when "NumPad" is active)
    </pre>
    <pre>
    &lt;input type="text" onkeydown="kedDown(event)"&gt;
&lt;script&gt;
    var keyDown = function(event) {
        event.altKey                                   // -> true               // if "Alt" key was pressed
        event.ctrlKey                                  // -> false              // if other key than "Shift" was pressed
        event.shiftKey                                 // -> false              // if other key than "Shift" was pressed
        event.getModifierState("CapsLock")             // -> true               // any character if "CapsLock" is active 
        //  -------------------------------------------- 
        event.keyCode                                  // -> 65                 <span style="color:orangered;">&lt;- returns the same value for "a" or "A" (Chrome) ["a" should be 97] </span> 
        event.which                                    // -> 65                 <span style="color:orangered;">&lt;- returns the same value for "a" or "A" (Chrome) ["a" should be 97] </span>
        event.code                                     // -> "keyA"             // "a" key pressed
        //  ---------------------------------------------     
        event.location                                 // -> 1                  // left "Alt" pressed 
        event.repeat                                   // -> true               // if button held
        event.isComposing                              // -> false
    }
    
    var keyPress = function(event) {
        event.charCode                                 // -> 97                 // "a" key (works only with "keypress event in Chrome)
        event.keyCode                                  // -> 97                 // "a" key pressed 
        event.which                                    // -> 97                 // "a" key pressed
        event.key                                      // -> "a"                // "a" key pressed 
        event.code                                     // ->                    <span style="color:orangered;">&lt;- no value returned, Works  with "keydown" event </span>
        //  ---------------------------------------------   
        event.location                                 // -> 0                  <span style="color:orangered;">&lt;- not supported by the "keypress" event always returns 0 or nothing </span> 
    }
&lt;/script&gt;    
    </pre>
<details class="example">
    <summary> Example : </summary>
<h4><u> test <mark>altKey</mark> // <mark>ctrlKey</mark> // <mark>shiftKey</mark></u></h4>
    <input type="text" onkeydown="pressKey()">
    <p id="key-alt"> "Alt" key pressed = </p>
    <p id="key-ctrl"> "Ctrl" key pressed = </p>
    <p id="key-shift"> "Shift" key pressed = </p>
    <p id="key-getMod"> "Shift" key pressed = </p>
<script>
    function pressKey() {
        document.getElementById('key-alt').innerHTML = ' "Alt" key pressed = ' + event.altKey;
        document.getElementById('key-ctrl').innerHTML = ' "Ctrl" key pressed = ' + event.ctrlKey;
        document.getElementById('key-shift').innerHTML = ' "Shift" key pressed = ' + event.shiftKey;
        document.getElementById('key-getMod').innerHTML = ' "Shift" key pressed = ' + event.getModifierState("Shift");
    }
</script>
        <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;input type="text" onkeydown="pressKey()"&gt;
    &lt;p id="key-alt"&gt; "Alt" key pressed = &lt;/p&gt;
    &lt;p id="key-ctrl"&gt; "Ctrl" key pressed = &lt;/p&gt;
    &lt;p id="key-shift"&gt; "Shift" key pressed = &lt;/p&gt;
    &lt;p id="key-getMod"&gt; "Shift" key pressed = &lt;/p&gt;
&lt;script&gt;
    function pressKey() {
        document.getElementById('key-alt').innerHTML = ' "Alt" key pressed = ' + event.altKey;
        document.getElementById('key-ctrl').innerHTML = ' "Ctrl" key pressed = ' + event.ctrlKey;
        document.getElementById('key-shift').innerHTML = ' "Shift" key pressed = ' + event.shiftKey;
        document.getElementById('key-getMod').innerHTML = ' "Shift" key pressed = ' + event.getModifierState("Shift");
    }
&lt;/script&gt;
        </pre>
        </details>
<h4><u> test <mark>charCode</mark> // <mark>keyCode</mark> // <mark>which</mark> // <mark>key</mark> // <mark>repeat</mark> </u></h4>
    <input type="text" onkeypress="charPress()" onkeydown="pressHold()" >
    <p id="returnChar"> charCode = </p>
    <p id='returnWhich'> which = </p>
    <p id="returnCharKey"> keyCode = </p>
    <p id="keyDescId"> key = </p>
    <p id="keyHold"> You held a button = </p>
<script>
    function charPress() {
        document.getElementById('returnChar').innerHTML = " charCode = " + event.charCode;
        document.getElementById('returnWhich').innerHTML = " which = " + event.which;
        document.getElementById('returnCharKey').innerHTML = " keyCode = " + event.keyCode;       // would work with "onkeydown or onkeyup"
        document.getElementById('keyDescId').innerHTML = " key = " + event.key;
    }
    
    function pressHold() {
        if (event.repeat) {
            document.getElementById('keyHold').innerHTML= " You held a button = YES!"
        }
        else {
            document.getElementById('keyHold').innerHTML= " You held a button = NO!"
        }
    }
</script>
        <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;input type="text" onkeypress="charPress()" onkeydown="pressHold()" &gt;
    &lt;p id="returnChar"&gt; Unicode Character = &lt;/p&gt;
    &lt;p id='returnWhich'&gt; Unicode Character = &lt;/p&gt;
    &lt;p id="returnCharKey"&gt; Unicode Character = &lt;/p&gt;
    &lt;p id="keyDescId"&gt; Key Pressed = &lt;/p&gt;
    &lt;p id="keyHold"&gt; You held a button = &lt;/p&gt;
&lt;script&gt;
    function charPress() {
        document.getElementById('returnChar').innerHTML = " charCode = " + event.charCode;
        document.getElementById('returnWhich').innerHTML = " which = " + event.which;
        document.getElementById('returnCharKey').innerHTML = " keyCode = " + event.keyCode;       // would work with "onkeydown or onkeyup"
        document.getElementById('keyDescId').innerHTML = " key = " + event.key;
    }
    
    function pressHold() {
        if (event.repeat) {
            document.getElementById('keyHold').innerHTML= " You held a button = YES!"
        }
        else {
            document.getElementById('keyHold').innerHTML= " You held a button = NO!"
        }
    }
&lt;/script&gt;
        </pre>
        </details>
<h4><u> test <mark>code</mark> property </u></h4>    
    <input type="text" onkeyup="getKey(event)">
    <p id="physicalKey"> pressed physical key = </p>
<script>
    var getKey = function(event) {
        document.getElementById('physicalKey').textContent = " pressed physical key = " + event.code;
    }
</script>
        <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;input type="text" onkeyup="getKey(event)"&gt;
    &lt;p id="physicalKey"&gt; pressed physical key = &lt;/p&gt;
&lt;script&gt;
    var getKey = function(event) {
        document.getElementById('physicalKey').textContent = " pressed physical key = " + event.code;
    }
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> test <mark>location</mark> property </u></h4>
    <p> - try to hit left/right "ctrl", "alt", "shift" or a button on "NumPad" </p>
    <input type="text" onkeydown="keyLocation(event)">
    <p id="keyLocation"> Key Location value = </p>
<script>
    var keyLocation = function(event) {
        document.getElementById('keyLocation').textContent = " Key Location value = " + event.location;
    }
</script>
        <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;input type="text" onkeydown="keyLocation(event)"&gt;
    &lt;p id="keyLocation"&gt; Key Location value = &lt;/p&gt;
&lt;script&gt;
    var keyLocation = function(event) {
        document.getElementById('keyLocation').textContent = " Key Location value = " + event.location;
    }
&lt;/script&gt;    
        </pre>
        </details>
<h4><u> <mark>isComposing</mark> test </u></h4>    
    <input type="text" onkeydown="compose(event)">
    <p id="compseResult"> is key event composing ? = </p>
<script>
    var compose = function(event) {
        document.getElementById("compseResult").textContent = " is key event composing ? = " + event.isComposing;
    }
</script>
        <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
    &lt;input type="text" onkeydown="compose(event)"&gt;
    &lt;p id="compseResult"&gt; is key event composing ? = &lt;/p&gt;
&lt;script&gt;
    var compose = function(event) {
        document.getElementById("compseResult").textContent = " is key event composing ? = " + event.isComposing;
    }
&lt;/script&gt;    
        </pre>
        </details>
</details>    
    
    <br><br>
</body>
</html>