<!DOCTYPE html test='test'>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title> Basics </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../../../Assets/stylesPages.css">
    <script src="../../../Assets/scriptPages.js"></script>
  </head>
  <body>
    <h1> Basics </h1>
    <p> Updated ( 2018-02-02 / 2019-11-13 / 2021-10-10 / 2025-03-14 )</p>
    <nav class="sitenav"> <a href="../../../index.html">MySite > </a>
      <a href="../../index.html"> Web Browser APIs > </a>
      <a href="../index.html"> DOM > </a> Basics
    </nav>
    <table class="table">
      <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Description </th>
      </tr>
      <tr >
        <td> <em>document</em>.doctype </td>
        <td>
          - returns a <a href="https://developer.mozilla.org/en-US/docs/Web/API/DocumentType" target="_blank">documentType</a> object representing the doucment type
        </td>
      </tr>
      <tr>
        <td> <em>document</em>.lastModified </td>
        <td>
          - returns the date time when the document was last modified (local time)
        </td>
      </tr>
      <tr>
        <td> <em>document</em>.referrer </td>
        <td>
          - returns the url of the page that linked this document (<mark>Referrer</mark> header)
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> <em>document</em>.readyState </td>
        <td>
          - returns the <span class="openable">loading status<div>
              <p> <mark>loading</mark> - still loading </p>
              <p> <mark>interactive</mark> - document loaded but sub-resources (scripts, images, stylesheets, etc...) still loading</p>
              <p> <mark>complete</mark> - document and sub-resources are finished loading </p>
            </div></span> of the document in a string
        </td>
      </tr>
      <tr>
        <td> readyStateChange </td>
        <td>
          - event available on <mark>document</mark> triggers when the the <mark>document.readyStage</mark> changes
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> <em>document</em>.URL </td>
        <td>
          - (read-only) returns the document's URL
        </td>
      </tr>
      <tr>
        <td> <em>document</em>.documentURI </td>
        <td>
          - (read-only) returns the document's URL
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td> <em>document</em>.writeln(<strong>html:str</strong>) </td>
        <td>
          - parses the passed string into HTML code and inserts it on the current line 
          <span id="browserSupport" title="updated: 2025-03-16">
            <span><i class="fab fa-chrome"></i> 45 </span>
            <span><i class="fab fa-firefox"></i> 69 </span>
            <span><i class="fab fa-opera"></i> 51 </span>
            <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> 12 </span>
            <span><i class="fab fa-safari"></i> 11 </span>
          </span>
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td colspan="2"> CSS </td>
      </tr>
      <tr>
        <td> <strong>htmlElement</strong>.style </td>
        <td>
          - gets or sets <u>inline</u> styles of the element through a <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration" target="_blank">CSSStyleDeclaration</a> object <br>
          - to get the currently rendered style use the <a href="../../BOM/index.html#getComputedStyle" target="_blank">getComputedStyle()</a> method 
        </td>
      </tr>
      <tr>
        <td>|</td>
        <td></td>
      </tr>
      <tr>
        <td colspan="2"> Shadow DOM </td>
      </tr>
      <tr>
        <td> <reqval>htmlElement</reqval>.attachShadow({ mode: 'open' }) </td>
        <td> - makes the <reqval>htmlElement</reqval> a shadow root element, we attach element on the returned value that will be part of the shadow DOM </td>
      </tr>
    </table>

    <h2 class="headerSection"> Notes : </h2>
    <details class="example" id="notes">
      <summary> Notes :</summary>
      <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
    <h2 class="headerSection"> Useful Links : </h2>
    <p><a href="https://www.w3schools.com/js/js_htmldom.asp" target="_blank"> W3School HTML DOM </a></p>
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" target="_blank"> MDN Shadow DOM </a></p>
    <h2 class="headerSection"> Remember This : </h2>
    <h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - the <b>D</b>ocument <b>O</b>bject <b>M</b>odel is essentially a JavaScript programming interface for web documents (HTML or XML), it represents the (page) document strucure </p>
    <h3 class="header"> The <mark>doctype</mark> / <mark>lastModified</mark> / <mark>readyState</mark> / <mark>referrer</mark> / <mark>URL</mark> / <mark>documentURI</mark> properties </h3>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
    &lt;script&gt;
    document.URL;                                    // -> file:///Users/diarpall/projects/My-Knowledge-Base/My%20Site/Web%20Browser%20APIs/DOM/Basics/index.html
    document.documentURI;                           // -> file:///Users/diarpall/projects/My-Knowledge-Base/My%20Site/Web%20Browser%20APIs/DOM/Basics/index.html
    
    document.doctype.name;                          // -> 'html'
    docuemnt.lastModified;                          // -> '03/14/2025 01:45:48'
    docuemnt.readyState;                            // -> 'complete'
    docuemnt.referrer;                              // -> ''          // page wasn't linked by any other page
    &lt;/script&gt;
      </pre>
    </details>
    <h3 class="header"> The <mark>writeln()</mark> method </h3>
    <details class="example">
      <summary> DEMO </summary>
<script>
    document.writeln('<p style="color:green">Hello World!</p>')
</script>
      <pre>
    &lt;script&gt;
    document.writeln('&lt;p style="color:green"&gt;Hello World!&lt;/p&gt;')
    &lt;/script&gt;
      </pre>
    </details>
    
    
    
    
    
    <!---------------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="headerExtra"> CSS </h2>
    <h3 class="header"> The <mark>styles</mark> property </h3>
    <details class="example">
      <summary> DEMO </summary>
      <pre>
// CSS --------------------------------------------------------------------------------
    #testElement {
        color: red;
        font-size: 25px;
    }
    
// HTML -------------------------------------------------------------------------------
    &lt;p id="testElement" style="background-color:white;" onmouseup="getStyles(event)"&gt; Style Test element &lt;/p&gt;
&lt;script&gt;
    const thisElement = document.getElementById('testElement');
        
    thisElement.style.color;                                                           // -> ''                  // because this only shows inline styles 
    thisElement.style.fontSize;                                                        // -> ''
        
    window.getComputedStyle(thisElement).color;                                        // -> 'rgb(255, 0, 0)'    // gets the currently rendered style (read only)
    window.getComputedStyle(thisElement).fontSize;                                     // -> '24px'
        
    thisElement.style.border = '2px black solid';                                      // we can set inline styles like this   
    thisElement.style.fontWeight = 'bold';
    thisElement.style.animationPlayState = 'running';
&lt;/script&gt;
    </pre>
    </details>
    <details class="example">
      <summary> Example : </summary>
      <h3 style="color:darkblue;"><u> <mark>style</mark> VS <mark>getComputedStyle()</mark> TEST </u></h3>
      <p> - click on the element to display the results in console </p>
      <p id="testElement" style="background-color:white;" onmouseup="getStyles(event)"> Style Test element </p>
      <script>
    function getStyles(event){
        const thisElement = event.currentTarget;
        
        console.log( thisElement.style.color );                                   // -> ''                  // because this only shows inline styles 
        console.log( thisElement.style.fontSize );                                // -> ''
        
        console.log( window.getComputedStyle(thisElement).color );                // -> 'rgb(255, 0, 0)'    // gets the current style (read only)
        console.log( window.getComputedStyle(thisElement).fontSize );             // -> '24px'
        
        
        thisElement.style.border = '2px black solid';                             // we can set inline styles like this   
        thisElement.style.fontWeight = 'bold';
        thisElement.style.animationPlayState = 'running';
        
        
        window.setInterval(function(){  
            console.log( thisElement.style.backgroundColor );                     // -> 'white'
            console.log( window.getComputedStyle(thisElement).backgroundColor );  // -> 'rgb(255, 0, 0)' | 'rgb(70, 70, 70)' | 'rgb(3, 3, 3)'   // gets the currently computed style   
        }, 1300)
    }
</script>
      <details>
        <summary class="exampleCode"> CODE : </summary>
        <pre>
// CSS --------------------------------------------------------------------------------
    #testElement {
        color: red;
        font-size: 25px;
        animation: someAnimation 3s infinite;
        animation-direction: alternate;
        animation-play-state: paused;
    }
    
    @keyframes someAnimation {
        from { background-color: white; }
        to { background-color: black; }
    }
    
// HTML -------------------------------------------------------------------------------
    &lt;p id="testElement" style="background-color:white;" onmouseup="getStyles(event)"&gt; Style Test element &lt;/p&gt;
&lt;script&gt;
    function getStyles(event){
        const thisElement = event.currentTarget;
        
        console.log( thisElement.style.color );                                        // -> ''                  // because this only shows inline styles 
        console.log( thisElement.style.fontSize );                                     // -> ''
        
        console.log( window.getComputedStyle(thisElement).color );                     // -> 'rgb(255, 0, 0)'    // gets the current style (read only)
        console.log( window.getComputedStyle(thisElement).fontSize );                  // -> '24px'
        
        
        thisElement.style.border = '2px black solid';                                  // we can set inline styles like this   
        thisElement.style.fontWeight = 'bold';
        thisElement.style.animationPlayState = 'running';
        
        
        window.setInterval(function(){  
            console.log( thisElement.style.backgroundColor );                          // -> 'white'
            console.log( window.getComputedStyle(thisElement).backgroundColor );       // -> 'rgb(255, 0, 0)' | 'rgb(70, 70, 70)' | 'rgb(3, 3, 3)'   // gets the currently computed style   
        }, 1300)
    }
&lt;/script&gt;
    </pre>
      </details>
    </details>
    <!---------------------------------------------------------------------------------------------------------------------------------->
    <hr>
    <h2 class="headerExtra"> Shadow DOM </h2>
    <p> - the Shadow DOM is an fully encapsulated DOM component, so its HTML, CSS and JavaScript never leaks out to the main document </p>
    <img src="shadow-dom.png" style="width:700px;">
    <br><br>
    <details class="example">
      <summary> DEMO </summary>
      <div id="shadow-host"></div>

      <script>
        const style = document.createElement('style');
        style.textContent = `
            button {
                background-color: green;
                color: white;
                border: none;
                padding: 10px 20px;
                cursor: pointer;
            }
            p {
                color: lightgreen;
                padding: 10px;
            }
        `;

        const shadowHost = document.getElementById('shadow-host');
        const shadowRoot = shadowHost.attachShadow({ mode: 'open' });

        const button = document.createElement('button');
        button.textContent = 'show/hide paragraph';

        const paragraph = document.createElement('p');
        paragraph.textContent = 'Hello World!';

        shadowRoot.appendChild(style);
        shadowRoot.appendChild(button);
        shadowRoot.appendChild(paragraph);

        button.addEventListener('click', () => {
            paragraph.style.display = paragraph.style.display === 'none' ? 'block' : 'none';
        });
    </script>
      <details class="example">
        <summary> Script </summary>
        <pre>
    &lt;div id="shadow-host"&gt;&lt;/div&gt;
    
    &lt;script&gt;
    const style = document.createElement('style');
    style.textContent = `
        button {
            background-color: green;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
        }
        p {
            color: lightgreen;
            padding: 10px;
        }
    `;
    
    const shadowHost = document.getElementById('shadow-host');
    const shadowRoot = shadowHost.attachShadow({ mode: 'open' });
    
    const button = document.createElement('button');
    button.textContent = 'show/hide paragraph';
    
    const paragraph = document.createElement('p');
    paragraph.textContent = 'Hello World!';
    
    shadowRoot.appendChild(style);
    shadowRoot.appendChild(button);
    shadowRoot.appendChild(paragraph);
    
    button.addEventListener('click', () =&gt; {
        paragraph.style.display = paragraph.style.display === 'none' ? 'block' : 'none';
    });
    &lt;/script&gt;
        </pre>
      </details>
    </details>

    <br><br>
  </body>
</html>