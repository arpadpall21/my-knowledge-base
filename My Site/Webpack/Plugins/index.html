<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Plugins </title> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../../Assets/stylesPages.css"> 
    <script src="../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Plugins (ver 4.0.0) </h1>
    <p> Updated ( 2021-02-26 )</p>
    <p class="sitenav"> <a href="../../index.html" title="home">MySite></a>
        <a href="../index.html">Webpack></a> Plugins 
    </p>
<table class="table">
<caption>
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Plugin </th>
        <th> Description </th>
    </tr>
<tr class="10.02">
<td> 
            CleanWebpackPlugin 
</td>
<td> 
            - removes all files and directories from <mark>output.path</mark> directory (config option object) <u>before outputting the new bundle</u> (downloadable as <mark>clean-webpack-plugin</mark>) <a href="https://www.npmjs.com/package/clean-webpack-plugin" target="_blank">[link]</a>
</td>
</tr>
<tr class="10.01">
<td> 
            CopyWebpackPlugin
</td>
<td> 
            - copies all files and directories from the source directory to the target directory (downloadable as <mark>copy-webpack-plugin</mark>) <a href="https://webpack.js.org/plugins/copy-webpack-plugin/" target="_blank">[link]</a>
</td>
</tr>
<tr class="05.01">
<td> 
            HtmlWebpackPlugin
</td>
<td> 
            - creates an HTML5 document and outputs in the output directory (downloadable as <mark>html-webpack-plugin</mark>) <br>
            - all your webpack bundles will be included in the body using script tags <br>
            - <span class="openable">options<div>
                <p> - title: <strong>str</strong> - HTML document title (Default: Webpack App) </p>
                <p> - filename: <strong>str</strong> - the generated file's name (Default: <mark>index.html</mark>) (we can include subdirectores like: <mark>asset/admin.html</mark>) </p>
                <p> - template: <strong>path:str</strong> - template to use (HTML document to use as template) (Default: <mark>src/index.ejs</mark> if exists) </p>
                <p> - templateContent: <strong>str|fn|bol</strong> - inline template instead of <mark>template</mark> (Default: <mark>false</mark> = not used) </p>
                <p> - inject: true|false|'head'|'body' - where to inject assets (Default: <mark>true</mark> - body or head depending on the 'scriptLoading' options) (<mark>false</mark> - disable automatic injection) (<mark>head</mark> - script tags are placed in the document head) (<mark>body</mark> - script tags are placed at the botom of the document body) </p>
                <p> - publicPath: <strong>str</strong>|'auto' - the publicPath used for script and link tags </p>
                <p> - scriptLoading: 'blocking'|'defer' - include 'defer' in script tags (Default: <mark>defer</mark>) </p>
                <p> - favicon: <strong>path:str</strong> - adds the given favicon path to the output HTML </p>
                <p> - meta: <strong>obj</strong> - inject meta tags with the given key/value pairs as 'name' and 'content' attributes </p>
                <p> - base: <strong>obj|str</strong>|false inject a base tag (Default: <mark>false</mark>) </p>
                <p> - minify: <strong>bol|obj</strong> - minifies the output document (Default: <mark>true</mark> in mode 'production' otherwise <mark>false</mark>) </p>
                <p> - hash: <strong>bol</strong> - appends a uniqe hash (<mark>[hash]</mark>] to the document (used for cache busting) (Default: <mark>false</mark>) </p>
                <p> - cache: <strong>bol</strong> - emits a new file only if the oldw one is changed (Default: <mark>true</mark>) </p>
                <p> - showErrors: <strong>bol</strong> - errors details will be written into the HTML page (Default: <mark>true</mark>) </p>
                <p> - xhtml: <strong>bol</strong> - render the link tags as self-closing (XHTML compliant) (Default: <mark>false</mark>)
            </div></span>
</td>
</tr>
<tr class="05.02">
<td> 
            MiniCssExtractPlugin
</td>
<td> 
            - extracts all CSS from the bundle in a separate CSS file (downloadable as <mark>mini-css-extract-plugin</mark>) <a href="https://webpack.js.org/plugins/mini-css-extract-plugin/" target="_blank">[link]</a> <br>
            - CSS files are outputed in the output directory (by Default)
</td>
</tr>
</table>
<h2 class="headerSection"> Notes : </h2>
<h2 class="headerSection"> Useful Links : </h2>
    <p><a href="https://webpack.js.org/plugins/" target="_blank"> Webpack Plugins (webpack.js.org/plugins/) </a></p>
<h2 class="headerSection"> Remember This : </h2>
    
<h2 class="headerSection"> Description and Demonstration : </h2>
    <p> - Plugins do things during the compilation time (like dynamically generate an HTML file or clean up a specific directory and much much more) </p>
    <pre class="syntax">
SYNTAX webpack config (file) : 
    
    const <strong>plugin</strong> = require(<strong>plugin</strong>)                                                     <span style="color:darkgray;">// importing the plugin </span>    
    
    module.exports = { 
        plugins: [new <strong>plugin</strong>() <i>, ...</i>]                                                  <span style="color:darkgray;">// at runtime Webpack uses the plugin <span style="color:orange;">(a new instance is required this way the same plugin can be used with different settings)</span></span>    
    }
    </pre>
<details class="example">
<summary> DEMO </summary>
    <pre>
// webpack.config.js (file) ----------------------------------------------------------
    const HtmlWebpackPlugin = require('html-webpack-plugin');                         // plugin dinamically creates an HTML document 
    
    module.exports = {    
        plugins: [new HtmlWebpackPlugin({template: '../MySite/index.html'})]          // on runtime creates an HTML document and outputs the file in the output directory 
    }    
    </pre>
</details>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u> <mark>HtmlWebpackPlugin</mark> / <mark>MiniCssExtractPlugin</mark> plugins </u></h2>
<details class="example">
<summary> DEMO </summary>
<h3 style="color:darkblue;"><u> <mark>HtmlWebpackPlugin</mark> </u></h3>
    <p> - Webpack outputs a <mark>./dist/main.js</mark> file which is linked in the document body </p>
    <p> <mark>webpack.config.js</mark> (file) </p>
    <pre>
    const HtmlWebpackPlugin = require('html-webpack-plugin');
    
    module.exports = {    
        mode: 'development',
        devtool: 'source-map',
        plugins: [new HtmlWebpackPlugin({                                              // generates an HTML5 document and outputs in './dist' folder (all bundled assets are included in this document)
            template: '../index.html',                                                   // the generated document is based on this template  
            title: 'My Page'
        })]
    }    
    </pre>
    <p> <mark>./src/index.js</mark> (file) </p>
    <pre>
    console.log( 'TEST' );                                                             // this bulde is included in the generated HTML document 
    </pre>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h3 style="color:darkblue;"><u> <mark>MiniCssExtractPlugin</mark> </u></h3>
    <p> - Webpack outputs a <mark>./dist/main.js</mark> and <mark>./dist/main.css files </p>
    <p> <mark>webpack.config.js</mark> (file) </p>
    <pre>
    const MiniCssExtractPlugin = require('mini-css-extract-plugin');  

    module.exports = {    
        mode: 'development',
        plugins: [new MiniCssExtractPlugin()],                                         // plugin used here 
        module: {
            rules: [
                {
                    test: /\.css$/i,
                    use: [MiniCssExtractPlugin.loader, 'css-loader']                   // mini-css-extract-plugin loader used to output the aggregated css code into the './dist/main.css' file   
                }
            ]
        }
    }    
    </pre>
    <p> <mark>./src/index.js</mark> (file) </p>
    <pre>
    import './styles1.css';                                                            // css files imported into the webpack bundle  
    import './styles2.css';    
    </pre>
    <p> <mark>./src/styles1.css</mark> (file) </p>
    <pre>
    body {
        background-color: white;
    }    
    </pre>
    <p> <mark>./src/styles2.css</mark> (file) </p>
    <pre>
    h1 {
        color: red;
    }    
    </pre>
    <p> <mark>./dist/main.css</mark> (file) the outputed result once bundled </p>
    <pre>
    body {                                                                             // all webpack imported CSS code aggregated and outputed in this output file   
        background-color: white;
    }
    h1 {
        color: red;
    }
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>HtmlWebpackPlugin</mark> TEST </u></h4>
    <p> - Webpack outputs a <mark>./dist/main.js</mark> file which is linked in the document body </p>
    <p> <mark>webpack.config.js</mark> (file) </p>
    <pre>
    const HtmlWebpackPlugin = require('html-webpack-plugin');
    
    module.exports = {    
        mode: 'development',
        devtool: 'source-map',
        plugins: [new HtmlWebpackPlugin({                                              // generates an HTML5 document and outputs in './dist' folder (all bundled assets are included in this document)
            template: '../index.html',                                                   // the generated document is based on this template  
            title: 'My Page'
        })]
    }    
    </pre>
    <p> <mark>./src/index.js</mark> (file) </p>
    <pre>
    console.log( 'TEST' );                                                             // this bulde is included in the generated HTML document 
    </pre>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h4 style="color:darkblue;"><u> <mark>MiniCssExtractPlugin</mark> TEST </u></h4>
    <p> - Webpack outputs a <mark>./dist/main.js</mark> and <mark>./dist/main.css files </p>
    <p> <mark>webpack.config.js</mark> (file) </p>
    <pre>
    const MiniCssExtractPlugin = require('mini-css-extract-plugin');  

    module.exports = {    
        mode: 'development',
        plugins: [new MiniCssExtractPlugin()],                                         // plugin used here 
        module: {
            rules: [
                {
                    test: /\.css$/i,
                    use: [MiniCssExtractPlugin.loader, 'css-loader']                   // mini-css-extract-plugin loader used to output the aggregated css code into the './dist/main.css' file   
                }
            ]
        }
    }    
    </pre>
    <p> <mark>./src/index.js</mark> (file) </p>
    <pre>
    import './styles1.css';                                                            // css files imported into the webpack bundle  
    import './styles2.css';    
    </pre>
    <p> <mark>./src/styles1.css</mark> (file) </p>
    <pre>
    body {
        background-color: white;
    }    
    </pre>
    <p> <mark>./src/styles2.css</mark> (file) </p>
    <pre>
    h1 {
        color: red;
    }    
    </pre>
    <p> <mark>./dist/main.css</mark> (file) the outputed result once bundled </p>
    <pre>
    body {                                                                             // all webpack imported CSS code aggregated and outputed in this output file   
        background-color: white;
    }
    h1 {
        color: red;
    }
    </pre>
</details>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
<h2 style="color:darkblue;"><u> <mark>CopyWebpackPlugin</mark> / <mark>CleanWebpackPlugin</mark> plugins </u></h2>
<details class="example">
<summary> DEMO </summary>
    <p> <mark>webpack.config.js</mark> (file) </p>
    <pre>
    const CopyPlugin = require('copy-webpack-plugin');  
    const { CleanWebpackPlugin } = require('clean-webpack-plugin');  
    
    module.exports = {    
        mode: 'development',
        output: {
            path: __dirname + '/dist' 
        },
        plugins: [
            new CopyPlugin({
                patterns: [
                    {from: './src', to: './copy'},                              // all files and directories from './src' are copited to './dis/copy' (the copy directory is created on the fly)    
                    {from: './src', to: './copy2'}                              // all files and directories from './src' are copited to './dis/copy2' (the copy2 directory is created on the fly)    
                ]
            }),
            new CleanWebpackPlugin(),                                           // before the new bundle is outputted the './dist' directory is fully cleaned   
        ],
    }    
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>CopyWebpackPlugin</mark> / <mark>CleanWebpackPlugin</mark> TEST </u></h4>
    <p> <mark>webpack.config.js</mark> (file) </p>
    <pre>
    const CopyPlugin = require('copy-webpack-plugin');  
    const { CleanWebpackPlugin } = require('clean-webpack-plugin');  
    
    module.exports = {    
        mode: 'development',
        output: {
            path: __dirname + '/dist' 
        },
        plugins: [
            new CopyPlugin({
                patterns: [
                    {from: './src', to: './copy'},                              // all files and directories from './src' are copited to './dis/copy' (the copy directory is created on the fly)    
                    {from: './src', to: './copy2'}                              // all files and directories from './src' are copited to './dis/copy2' (the copy2 directory is created on the fly)    
                ]
            }),
            new CleanWebpackPlugin(),                                           // before the new bundle is outputted the './dist' directory is fully cleaned   
        ],
    }    
    </pre>
</details>
    
    <br><br>
</body>
</html>
